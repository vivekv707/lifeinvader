/*! For license information please see main.0c33a6b0.js.LICENSE.txt */
!function(){var e={318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},757:function(e,t,n){e.exports=n(727)},94:function(e,t,n){"use strict";var r=n(318);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");t.Z=o},649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(918)},918:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function i(e){if("string"!==typeof e)throw new Error(r(7));return e.charAt(0).toUpperCase()+e.slice(1)}n.r(t),n.d(t,{capitalize:function(){return a},createChainedFunction:function(){return o},createSvgIcon:function(){return Dr},debounce:function(){return Lr},deprecatedPropType:function(){return jr},isMuiElement:function(){return Mr},ownerDocument:function(){return Fr},ownerWindow:function(){return Vr},requirePropFactory:function(){return Br},setRef:function(){return qr},unstable_ClassNameGenerator:function(){return Ir},unstable_useEnhancedEffect:function(){return Wr},unstable_useId:function(){return Gr},unsupportedProp:function(){return Qr},useControlled:function(){return Yr},useEventCallback:function(){return Jr},useForkRef:function(){return Xr},useIsFocusVisible:function(){return si}});var a=i;var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},s=n(462),u=n(791),c=n.t(u,2),l=n(366);function f(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=f(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function h(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=f(e))&&(r&&(r+=" "),r+=t);return r}function d(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=(0,s.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,r):r}function p(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,s.Z)({},e):e;return p(e)&&p(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(p(t[i])&&i in e&&p(e[i])?r[i]=v(e[i],t[i],n):r[i]=t[i])})),r}var m=["values","unit","step"];function g(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=(0,l.Z)(e,m),c=Object.keys(n);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function d(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return(0,s.Z)({keys:c,values:n,up:f,down:h,between:d,only:function(e){return c.indexOf(e)+1<c.length?d(e,c[c.indexOf(e)+1]):f(e)},not:function(e){var t=c.indexOf(e);return 0===t?f(c[1]):t===c.length-1?h(c[t]):d(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var y={borderRadius:4},k=n(439),b={xs:0,sm:600,md:900,lg:1200,xl:1536},w={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(b[e],"px)")}};function _(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||w;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||w;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||b).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function x(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function I(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}var E=n(942);function S(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function T(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:S(e,n)||i,t&&(r=t(r)),r}var C=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,a=e.themeKey,o=e.transform,s=function(e){if(null==e[t])return null;var n=e[t],s=S(e.theme,a)||{};return _(e,n,(function(e){var n=T(s,o,e);return e===n&&"string"===typeof e&&(n=T(s,o,"".concat(t).concat("default"===e?"":i(e)),e)),!1===r?n:(0,E.Z)({},r,n)}))};return s.propTypes={},s.filterProps=[t],s};var N=function(e,t){return t?v(e,t,{clone:!1}):e};var A={m:"margin",p:"padding"},R={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},P={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},O=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!P[e])return[e];e=P[e]}var t=e.split(""),n=(0,k.Z)(t,2),r=n[0],i=n[1],a=A[r],o=R[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),D=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],L=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],j=[].concat(D,L);function M(e,t,n,r){var i=S(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function U(e){return M(e,"spacing",8)}function F(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function V(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=F(t,n),e}),{})}}(O(n),r);return _(e,e[n],i)}function B(e,t){var n=U(e.theme);return Object.keys(e).map((function(r){return V(e,t,r,n)})).reduce(N,{})}function z(e){return B(e,D)}function q(e){return B(e,L)}function Z(e){return B(e,j)}z.propTypes={},z.filterProps=D,q.propTypes={},q.filterProps=L,Z.propTypes={},Z.filterProps=j;var W=Z;function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=U({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var K=["breakpoints","palette","spacing","shape"];var G=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,c=(0,l.Z)(e,K),f=g(n),h=H(a),d=v({breakpoints:f,direction:"ltr",components:{},palette:(0,s.Z)({mode:"light"},i),spacing:h,shape:(0,s.Z)({},y,u)},c),p=arguments.length,m=new Array(p>1?p-1:0),k=1;k<p;k++)m[k-1]=arguments[k];return d=m.reduce((function(e,t){return v(e,t)}),d)};var Q=u.createContext(null);function Y(){return u.useContext(Q)}function J(e){return 0===Object.keys(e).length}var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Y();return!t||J(t)?e:t},X=G();var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;return $(e)};function te(e,t,n){var r;return(0,s.Z)({toolbar:(r={minHeight:56},(0,E.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,E.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function re(e){if(e.type)return e;if("#"===e.charAt(0))return re(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(r(9,e));var i,a=e.substring(t+1,e.length-1);if("color"===n){if(i=(a=a.split(" ")).shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error(r(10,i))}else a=a.split(",");return{type:n,values:a=a.map((function(e){return parseFloat(e)})),colorSpace:i}}function ie(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function ae(e){var t="hsl"===(e=re(e)).type?re(function(e){var t=(e=re(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),ie({type:s,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function oe(e,t){if(e=re(e),t=ne(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return ie(e)}function se(e,t){if(e=re(e),t=ne(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return ie(e)}var ue={black:"#000",white:"#fff"},ce={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},le={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},fe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},he={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},de={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},pe={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ve={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},me=["mode","contrastThreshold","tonalOffset"],ge={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ue.white,default:ue.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ye={text:{primary:ue.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ue.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ke(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=se(e.main,i):"dark"===t&&(e.dark=oe(e.main,a)))}function be(e){var t=e.mode,n=void 0===t?"light":t,i=e.contrastThreshold,a=void 0===i?3:i,o=e.tonalOffset,u=void 0===o?.2:o,c=(0,l.Z)(e,me),f=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:de[200],light:de[50],dark:de[400]}:{main:de[700],light:de[400],dark:de[800]}}(n),h=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:le[200],light:le[50],dark:le[400]}:{main:le[500],light:le[300],dark:le[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:fe[500],light:fe[300],dark:fe[700]}:{main:fe[700],light:fe[400],dark:fe[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:pe[400],light:pe[300],dark:pe[700]}:{main:pe[700],light:pe[500],dark:pe[900]}}(n),m=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ve[400],light:ve[300],dark:ve[700]}:{main:ve[800],light:ve[500],dark:ve[900]}}(n),g=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:he[400],light:he[300],dark:he[700]}:{main:"#ed6c02",light:he[500],dark:he[900]}}(n);function y(e){var t=function(e,t){var n=ae(e),r=ae(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,ye.text.primary)>=a?ye.text.primary:ge.text.primary;return t}var k=function(e){var t=e.color,n=e.name,i=e.mainShade,a=void 0===i?500:i,o=e.lightShade,c=void 0===o?300:o,l=e.darkShade,f=void 0===l?700:l;if(!(t=(0,s.Z)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error(r(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error(r(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return ke(t,"light",c,u),ke(t,"dark",f,u),t.contrastText||(t.contrastText=y(t.main)),t},b={dark:ye,light:ge};return v((0,s.Z)({common:ue,mode:n,primary:k({color:f,name:"primary"}),secondary:k({color:h,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:k({color:d,name:"error"}),warning:k({color:g,name:"warning"}),info:k({color:p,name:"info"}),success:k({color:m,name:"success"}),grey:ce,contrastThreshold:a,getContrastText:y,augmentColor:k,tonalOffset:u},b[n]),c)}var we=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var _e={textTransform:"uppercase"},xe='"Roboto", "Helvetica", "Arial", sans-serif';function Ie(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?xe:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,c=void 0===u?300:u,f=n.fontWeightRegular,h=void 0===f?400:f,d=n.fontWeightMedium,p=void 0===d?500:d,m=n.fontWeightBold,g=void 0===m?700:m,y=n.htmlFontSize,k=void 0===y?16:y,b=n.allVariants,w=n.pxToRem,_=(0,l.Z)(n,we);var x=o/14,I=w||function(e){return"".concat(e/k*x,"rem")},E=function(e,t,n,r,a){return(0,s.Z)({fontFamily:i,fontWeight:e,fontSize:I(t),lineHeight:n},i===xe?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},S={h1:E(c,96,1.167,-1.5),h2:E(c,60,1.2,-.5),h3:E(h,48,1.167,0),h4:E(h,34,1.235,.25),h5:E(h,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(h,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(h,16,1.5,.15),body2:E(h,14,1.43,.15),button:E(p,14,1.75,.4,_e),caption:E(h,12,1.66,.4),overline:E(h,12,2.66,1,_e)};return v((0,s.Z)({htmlFontSize:k,pxToRem:I,fontFamily:i,fontSize:o,fontWeightLight:c,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:g},S),_,{clone:!1})}function Ee(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Se=["none",Ee(0,2,1,-1,0,1,1,0,0,1,3,0),Ee(0,3,1,-2,0,2,2,0,0,1,5,0),Ee(0,3,3,-2,0,3,4,0,0,1,8,0),Ee(0,2,4,-1,0,4,5,0,0,1,10,0),Ee(0,3,5,-1,0,5,8,0,0,1,14,0),Ee(0,3,5,-1,0,6,10,0,0,1,18,0),Ee(0,4,5,-2,0,7,10,1,0,2,16,1),Ee(0,5,5,-3,0,8,10,1,0,3,14,2),Ee(0,5,6,-3,0,9,12,1,0,3,16,2),Ee(0,6,6,-3,0,10,14,1,0,4,18,3),Ee(0,6,7,-4,0,11,15,1,0,4,20,3),Ee(0,7,8,-4,0,12,17,2,0,5,22,4),Ee(0,7,8,-4,0,13,19,2,0,5,24,4),Ee(0,7,9,-4,0,14,21,2,0,5,26,4),Ee(0,8,9,-5,0,15,22,2,0,6,28,5),Ee(0,8,10,-5,0,16,24,2,0,6,30,5),Ee(0,8,11,-5,0,17,26,2,0,6,32,5),Ee(0,9,11,-5,0,18,28,2,0,7,34,6),Ee(0,9,12,-6,0,19,29,2,0,7,36,6),Ee(0,10,13,-6,0,20,31,3,0,8,38,7),Ee(0,10,13,-6,0,21,33,3,0,8,40,7),Ee(0,10,14,-6,0,22,35,3,0,8,42,7),Ee(0,11,14,-7,0,23,36,3,0,9,44,8),Ee(0,11,15,-7,0,24,38,3,0,9,46,8)],Te=["duration","easing","delay"],Ce={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Ne={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Ae(e){return"".concat(Math.round(e),"ms")}function Re(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function Pe(e){var t=(0,s.Z)({},Ce,e.easing),n=(0,s.Z)({},Ne,e.duration);return(0,s.Z)({getAutoHeightDuration:Re,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,s=void 0===o?t.easeInOut:o,u=r.delay,c=void 0===u?0:u;(0,l.Z)(r,Te);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:Ae(a)," ").concat(s," ").concat("string"===typeof c?c:Ae(c))})).join(",")}},e,{easing:t,duration:n})}var Oe={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},De=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,c=void 0===u?{}:u,f=(0,l.Z)(e,De),h=be(i),d=G(e),p=v(d,{mixins:te(d.breakpoints,d.spacing,n),palette:h,shadows:Se.slice(),typography:Ie(h,c),transitions:Pe(o),zIndex:(0,s.Z)({},Oe)});p=v(p,f);for(var m=arguments.length,g=new Array(m>1?m-1:0),y=1;y<m;y++)g[y-1]=arguments[y];return p=g.reduce((function(e,t){return v(e,t)}),p)}var je=Le();function Me(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return d({theme:ee(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:je})}var Ue=n(433);var Fe=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Ve=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Be=Fe((function(e){return Ve.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var ze=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),qe=Math.abs,Ze=String.fromCharCode,We=Object.assign;function He(e){return e.trim()}function Ke(e,t,n){return e.replace(t,n)}function Ge(e,t){return e.indexOf(t)}function Qe(e,t){return 0|e.charCodeAt(t)}function Ye(e,t,n){return e.slice(t,n)}function Je(e){return e.length}function $e(e){return e.length}function Xe(e,t){return t.push(e),e}var et=1,tt=1,nt=0,rt=0,it=0,at="";function ot(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:et,column:tt,length:o,return:""}}function st(e,t){return We(ot("",null,null,"",null,null,0),e,{length:-e.length},t)}function ut(){return it=rt>0?Qe(at,--rt):0,tt--,10===it&&(tt=1,et--),it}function ct(){return it=rt<nt?Qe(at,rt++):0,tt++,10===it&&(tt=1,et++),it}function lt(){return Qe(at,rt)}function ft(){return rt}function ht(e,t){return Ye(at,e,t)}function dt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pt(e){return et=tt=1,nt=Je(at=e),rt=0,[]}function vt(e){return at="",e}function mt(e){return He(ht(rt-1,kt(91===e?e+2:40===e?e+1:e)))}function gt(e){for(;(it=lt())&&it<33;)ct();return dt(e)>2||dt(it)>3?"":" "}function yt(e,t){for(;--t&&ct()&&!(it<48||it>102||it>57&&it<65||it>70&&it<97););return ht(e,ft()+(t<6&&32==lt()&&32==ct()))}function kt(e){for(;ct();)switch(it){case e:return rt;case 34:case 39:34!==e&&39!==e&&kt(it);break;case 40:41===e&&kt(e);break;case 92:ct()}return rt}function bt(e,t){for(;ct()&&e+it!==57&&(e+it!==84||47!==lt()););return"/*"+ht(t,rt-1)+"*"+Ze(47===e?e:ct())}function wt(e){for(;!dt(lt());)ct();return ht(e,rt)}var _t="-ms-",xt="-moz-",It="-webkit-",Et="comm",St="rule",Tt="decl",Ct="@keyframes";function Nt(e,t){for(var n="",r=$e(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function At(e,t,n,r){switch(e.type){case"@import":case Tt:return e.return=e.return||e.value;case Et:return"";case Ct:return e.return=e.value+"{"+Nt(e.children,r)+"}";case St:e.value=e.props.join(",")}return Je(n=Nt(e.children,r))?e.return=e.value+"{"+n+"}":""}function Rt(e,t){switch(function(e,t){return(((t<<2^Qe(e,0))<<2^Qe(e,1))<<2^Qe(e,2))<<2^Qe(e,3)}(e,t)){case 5103:return It+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return It+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return It+e+xt+e+_t+e+e;case 6828:case 4268:return It+e+_t+e+e;case 6165:return It+e+_t+"flex-"+e+e;case 5187:return It+e+Ke(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return It+e+_t+"flex-item-"+Ke(e,/flex-|-self/,"")+e;case 4675:return It+e+_t+"flex-line-pack"+Ke(e,/align-content|flex-|-self/,"")+e;case 5548:return It+e+_t+Ke(e,"shrink","negative")+e;case 5292:return It+e+_t+Ke(e,"basis","preferred-size")+e;case 6060:return It+"box-"+Ke(e,"-grow","")+It+e+_t+Ke(e,"grow","positive")+e;case 4554:return It+Ke(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return Ke(Ke(Ke(e,/(zoom-|grab)/,It+"$1"),/(image-set)/,It+"$1"),e,"")+e;case 5495:case 3959:return Ke(e,/(image-set\([^]*)/,It+"$1$`$1");case 4968:return Ke(Ke(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+It+e+e;case 4095:case 3583:case 4068:case 2532:return Ke(e,/(.+)-inline(.+)/,It+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Je(e)-1-t>6)switch(Qe(e,t+1)){case 109:if(45!==Qe(e,t+4))break;case 102:return Ke(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+xt+(108==Qe(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ge(e,"stretch")?Rt(Ke(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Qe(e,t+1))break;case 6444:switch(Qe(e,Je(e)-3-(~Ge(e,"!important")&&10))){case 107:return Ke(e,":",":"+It)+e;case 101:return Ke(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+It+(45===Qe(e,14)?"inline-":"")+"box$3$1"+It+"$2$3$1"+_t+"$2box$3")+e}break;case 5936:switch(Qe(e,t+11)){case 114:return It+e+_t+Ke(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return It+e+_t+Ke(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return It+e+_t+Ke(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return It+e+_t+e+e}return e}function Pt(e){return vt(Ot("",null,null,null,[""],e=pt(e),0,[0],e))}function Ot(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,g=1,y=0,k="",b=i,w=a,_=r,x=k;m;)switch(p=y,y=ct()){case 40:if(108!=p&&58==x.charCodeAt(f-1)){-1!=Ge(x+=Ke(mt(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:x+=mt(y);break;case 9:case 10:case 13:case 32:x+=gt(p);break;case 92:x+=yt(ft()-1,7);continue;case 47:switch(lt()){case 42:case 47:Xe(Lt(bt(ct(),ft()),t,n),u);break;default:x+="/"}break;case 123*v:s[c++]=Je(x)*g;case 125*v:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+l:d>0&&Je(x)-f&&Xe(d>32?jt(x+";",r,n,f-1):jt(Ke(x," ","")+";",r,n,f-2),u);break;case 59:x+=";";default:if(Xe(_=Dt(x,t,n,c,l,i,s,k,b=[],w=[],f),a),123===y)if(0===l)Ot(x,t,_,_,b,a,f,s,w);else switch(h){case 100:case 109:case 115:Ot(e,_,_,r&&Xe(Dt(e,_,_,0,0,i,s,k,i,b=[],f),w),i,w,f,s,r?b:w);break;default:Ot(x,_,_,_,[""],w,0,s,w)}}c=l=d=0,v=g=1,k=x="",f=o;break;case 58:f=1+Je(x),d=p;default:if(v<1)if(123==y)--v;else if(125==y&&0==v++&&125==ut())continue;switch(x+=Ze(y),y*v){case 38:g=l>0?1:(x+="\f",-1);break;case 44:s[c++]=(Je(x)-1)*g,g=1;break;case 64:45===lt()&&(x+=mt(ct())),h=lt(),l=f=Je(k=x+=wt(ft())),y++;break;case 45:45===p&&2==Je(x)&&(v=0)}}return a}function Dt(e,t,n,r,i,a,o,s,u,c,l){for(var f=i-1,h=0===i?a:[""],d=$e(h),p=0,v=0,m=0;p<r;++p)for(var g=0,y=Ye(e,f+1,f=qe(v=o[p])),k=e;g<d;++g)(k=He(v>0?h[g]+" "+y:Ke(y,/&\f/g,h[g])))&&(u[m++]=k);return ot(e,t,n,0===i?St:s,u,c,l)}function Lt(e,t,n){return ot(e,t,n,Et,Ze(it),Ye(e,2,-2),0)}function jt(e,t,n,r){return ot(e,t,n,Tt,Ye(e,0,r),Ye(e,r+1,-1),r)}var Mt=function(e,t,n){for(var r=0,i=0;r=i,i=lt(),38===r&&12===i&&(t[n]=1),!dt(i);)ct();return ht(e,rt)},Ut=function(e,t){return vt(function(e,t){var n=-1,r=44;do{switch(dt(r)){case 0:38===r&&12===lt()&&(t[n]=1),e[n]+=Mt(rt-1,t,n);break;case 2:e[n]+=mt(r);break;case 4:if(44===r){e[++n]=58===lt()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Ze(r)}}while(r=ct());return e}(pt(e),t))},Ft=new WeakMap,Vt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Ft.get(n))&&!r){Ft.set(e,!0);for(var i=[],a=Ut(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var c=0;c<o.length;c++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},Bt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},zt=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Tt:e.return=Rt(e.value,e.length);break;case Ct:return Nt([st(e,{value:Ke(e.value,"@","@"+It)})],r);case St:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Nt([st(e,{props:[Ke(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Nt([st(e,{props:[Ke(t,/:(plac\w+)/,":-webkit-input-$1")]}),st(e,{props:[Ke(t,/:(plac\w+)/,":-moz-$1")]}),st(e,{props:[Ke(t,/:(plac\w+)/,_t+"input-$1")]})],r)}return""}))}}],qt=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||zt;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u,c,l=[At,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=$e(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([Vt,Bt].concat(r,l));a=function(e,t,n,r){u=n,Nt(Pt(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new ze({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(s),h};var Zt=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Wt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ht=/[A-Z]|^ms/g,Kt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Gt=function(e){return 45===e.charCodeAt(1)},Qt=function(e){return null!=e&&"boolean"!==typeof e},Yt=Fe((function(e){return Gt(e)?e:e.replace(Ht,"-$&").toLowerCase()})),Jt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Kt,(function(e,t,n){return Xt={name:t,styles:n,next:Xt},t}))}return 1===Wt[e]||Gt(e)||"number"!==typeof t||0===t?t:t+"px"};function $t(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Xt={name:n.name,styles:n.styles,next:Xt},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Xt={name:r.name,styles:r.styles,next:Xt},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=$t(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Qt(o)&&(r+=Yt(a)+":"+Jt(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=$t(e,t,o);switch(a){case"animation":case"animationName":r+=Yt(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)Qt(o[u])&&(r+=Yt(a)+":"+Jt(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Xt,a=n(e);return Xt=i,$t(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Xt,en=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var tn=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Xt=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=$t(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=$t(n,t,e[o]),r&&(i+=a[o]);en.lastIndex=0;for(var s,u="";null!==(s=en.exec(i));)u+="-"+s[1];return{name:Zt(i)+u,styles:i,next:Xt}},nn=(0,u.createContext)("undefined"!==typeof HTMLElement?qt({key:"css"}):null);nn.Provider;var rn=function(e){return(0,u.forwardRef)((function(t,n){var r=(0,u.useContext)(nn);return e(t,r,n)}))},an=(0,u.createContext)({});function on(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var sn=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},un=Be,cn=function(e){return"theme"!==e},ln=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?un:cn},fn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},hn=function(){return null},dn=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var c=fn(t,n,a),l=c||ln(o),f=!l("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=rn((function(e,t,n){var r=f&&e.as||o,a="",s=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,u.useContext)(an)}"string"===typeof e.className?a=on(t.registered,s,e.className):null!=e.className&&(a=e.className+" ");var v=tn(d.concat(s),t.registered,h);sn(t,v,"string"===typeof r);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var m=f&&void 0===c?ln(r):l,g={};for(var y in e)f&&"as"===y||m(y)&&(g[y]=e[y]);g.className=a,g.ref=n;var k=(0,u.createElement)(r,g),b=(0,u.createElement)(hn,null);return(0,u.createElement)(u.Fragment,null,b,k)}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=d,m.__emotion_forwardProp=c,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,r){return e(t,(0,s.Z)({},n,r,{shouldForwardProp:fn(m,r,!0)})).apply(void 0,d)},m}},pn=dn.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){pn[e]=pn(e)}));var vn=pn;function mn(e,t){return vn(e,t)}var gn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?N(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function yn(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var kn=C({prop:"border",themeKey:"borders",transform:yn}),bn=C({prop:"borderTop",themeKey:"borders",transform:yn}),wn=C({prop:"borderRight",themeKey:"borders",transform:yn}),_n=C({prop:"borderBottom",themeKey:"borders",transform:yn}),xn=C({prop:"borderLeft",themeKey:"borders",transform:yn}),In=C({prop:"borderColor",themeKey:"palette"}),En=C({prop:"borderTopColor",themeKey:"palette"}),Sn=C({prop:"borderRightColor",themeKey:"palette"}),Tn=C({prop:"borderBottomColor",themeKey:"palette"}),Cn=C({prop:"borderLeftColor",themeKey:"palette"}),Nn=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=M(e.theme,"shape.borderRadius",4);return _(e,e.borderRadius,(function(e){return{borderRadius:F(t,e)}}))}return null};Nn.propTypes={},Nn.filterProps=["borderRadius"];var An=gn(kn,bn,wn,_n,xn,In,En,Sn,Tn,Cn,Nn),Rn=gn(C({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),C({prop:"display"}),C({prop:"overflow"}),C({prop:"textOverflow"}),C({prop:"visibility"}),C({prop:"whiteSpace"})),Pn=gn(C({prop:"flexBasis"}),C({prop:"flexDirection"}),C({prop:"flexWrap"}),C({prop:"justifyContent"}),C({prop:"alignItems"}),C({prop:"alignContent"}),C({prop:"order"}),C({prop:"flex"}),C({prop:"flexGrow"}),C({prop:"flexShrink"}),C({prop:"alignSelf"}),C({prop:"justifyItems"}),C({prop:"justifySelf"})),On=function(e){if(void 0!==e.gap&&null!==e.gap){var t=M(e.theme,"spacing",8);return _(e,e.gap,(function(e){return{gap:F(t,e)}}))}return null};On.propTypes={},On.filterProps=["gap"];var Dn=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=M(e.theme,"spacing",8);return _(e,e.columnGap,(function(e){return{columnGap:F(t,e)}}))}return null};Dn.propTypes={},Dn.filterProps=["columnGap"];var Ln=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=M(e.theme,"spacing",8);return _(e,e.rowGap,(function(e){return{rowGap:F(t,e)}}))}return null};Ln.propTypes={},Ln.filterProps=["rowGap"];var jn=gn(On,Dn,Ln,C({prop:"gridColumn"}),C({prop:"gridRow"}),C({prop:"gridAutoFlow"}),C({prop:"gridAutoColumns"}),C({prop:"gridAutoRows"}),C({prop:"gridTemplateColumns"}),C({prop:"gridTemplateRows"}),C({prop:"gridTemplateAreas"}),C({prop:"gridArea"})),Mn=gn(C({prop:"position"}),C({prop:"zIndex",themeKey:"zIndex"}),C({prop:"top"}),C({prop:"right"}),C({prop:"bottom"}),C({prop:"left"})),Un=gn(C({prop:"color",themeKey:"palette"}),C({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),C({prop:"backgroundColor",themeKey:"palette"})),Fn=C({prop:"boxShadow",themeKey:"shadows"});function Vn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Bn=C({prop:"width",transform:Vn}),zn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return _(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||b[t]||Vn(t)}}))}return null};zn.filterProps=["maxWidth"];var qn=C({prop:"minWidth",transform:Vn}),Zn=C({prop:"height",transform:Vn}),Wn=C({prop:"maxHeight",transform:Vn}),Hn=C({prop:"minHeight",transform:Vn}),Kn=(C({prop:"size",cssProperty:"width",transform:Vn}),C({prop:"size",cssProperty:"height",transform:Vn}),gn(Bn,zn,qn,Zn,Wn,Hn,C({prop:"boxSizing"}))),Gn=C({prop:"fontFamily",themeKey:"typography"}),Qn=C({prop:"fontSize",themeKey:"typography"}),Yn=C({prop:"fontStyle",themeKey:"typography"}),Jn=C({prop:"fontWeight",themeKey:"typography"}),$n=C({prop:"letterSpacing"}),Xn=C({prop:"textTransform"}),er=C({prop:"lineHeight"}),tr=C({prop:"textAlign"}),nr=gn(C({prop:"typography",cssProperty:!1,themeKey:"typography"}),Gn,Qn,Yn,Jn,$n,er,tr,Xn),rr={borders:An.filterProps,display:Rn.filterProps,flexbox:Pn.filterProps,grid:jn.filterProps,positions:Mn.filterProps,palette:Un.filterProps,shadows:Fn.filterProps,sizing:Kn.filterProps,spacing:W.filterProps,typography:nr.filterProps},ir={borders:An,display:Rn,flexbox:Pn,grid:jn,positions:Mn,palette:Un,shadows:Fn,sizing:Kn,spacing:W,typography:nr},ar=Object.keys(rr).reduce((function(e,t){return rr[t].forEach((function(n){e[n]=ir[t]})),e}),{});var or=function(e,t,n){var r,i=(r={},(0,E.Z)(r,e,t),(0,E.Z)(r,"theme",n),r),a=ar[e];return a?a(i):(0,E.Z)({},e,t)};function sr(e){var t=e||{},n=t.sx,r=t.theme,i=void 0===r?{}:r;if(!n)return null;function a(e){var t=e;if("function"===typeof e)t=e(i);else if("object"!==typeof e)return e;var n=x(i.breakpoints),r=Object.keys(n),a=n;return Object.keys(t).forEach((function(e){var n,r,o=(n=t[e],r=i,"function"===typeof n?n(r):n);if(null!==o&&void 0!==o)if("object"===typeof o)if(ar[e])a=N(a,or(e,o,i));else{var s=_({theme:i},o,(function(t){return(0,E.Z)({},e,t)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(s,o)?a=N(a,s):a[e]=sr({sx:o,theme:i})}else a=N(a,or(e,o,i))})),I(r,a)}return Array.isArray(n)?n.map(a):a(n)}sr.filterProps=["sx"];var ur=sr,cr=["variant"];function lr(e){return 0===e.length}function fr(e){var t=e.variant,n=(0,l.Z)(e,cr),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?lr(r)?e[t]:i(e[t]):"".concat(lr(r)?t:i(t)).concat(i(e[t].toString()))})),r}var hr=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],dr=["theme"],pr=["theme"];function vr(e){return 0===Object.keys(e).length}var mr=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},gr=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=fr(e.props);r[t]=e.style})),r},yr=function(e,t,n,r){var i,a,o=e.ownerState,s=void 0===o?{}:o,u=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[fr(n.props)])})),u};function kr(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var br=G();var wr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?br:t,r=e.rootShouldForwardProp,i=void 0===r?kr:r,a=e.slotShouldForwardProp,o=void 0===a?kr:a;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,c=r.skipVariantsResolver,f=r.skipSx,h=r.overridesResolver,d=(0,l.Z)(r,hr),p=void 0!==c?c:u&&"Root"!==u||!1,v=f||!1;var m=kr;"Root"===u?m=i:u&&(m=o);var g=mn(e,(0,s.Z)({shouldForwardProp:m,label:t},d)),y=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,l.Z)(t,dr);return e((0,s.Z)({theme:vr(r)?n:r},i))}:e})):[],u=e;a&&h&&o.push((function(e){var t=vr(e.theme)?n:e.theme,r=mr(a,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=(0,k.Z)(t,2),r=n[0],a=n[1];i[r]="function"===typeof a?a(e):a})),h(e,i)}return null})),a&&!p&&o.push((function(e){var t=vr(e.theme)?n:e.theme;return yr(e,gr(a,t),t,a)})),v||o.push((function(e){var t=vr(e.theme)?n:e.theme;return ur((0,s.Z)({},e,{theme:t}))}));var c=o.length-r.length;if(Array.isArray(e)&&c>0){var f=new Array(c).fill("");(u=[].concat((0,Ue.Z)(e),(0,Ue.Z)(f))).raw=[].concat((0,Ue.Z)(e.raw),(0,Ue.Z)(f))}else"function"===typeof e&&(u=function(t){var r=t.theme,i=(0,l.Z)(t,pr);return e((0,s.Z)({theme:vr(r)?n:r},i))});var d=g.apply(void 0,[u].concat((0,Ue.Z)(o)));return d};return g.withConfig&&(y.withConfig=g.withConfig),y}}({defaultTheme:je,rootShouldForwardProp:function(e){return kr(e)&&"classes"!==e}}),_r=wr,xr=function(e){return e},Ir=function(){var e=xr;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=xr}}}(),Er={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Sr(e,t){return Er[t]||"".concat(Ir.generate(e),"-").concat(t)}function Tr(e){return Sr("MuiSvgIcon",e)}!function(e,t){var n={};t.forEach((function(t){n[t]=Sr(e,t)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Cr=n(184),Nr=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Ar=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(a(t)),"fontSize".concat(a(n))]},Tr,r)},Rr=_r("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(a(n.color))],t["fontSize".concat(a(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,s,u,c,l,f,h,d,p,v,m,g,y=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=y.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=y.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=y.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(s=y.typography)||null==(u=s.pxToRem)?void 0:u.call(s,24))||"1.5rem",large:(null==(c=y.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[k.fontSize],color:null!=(f=null==(h=y.palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=y.palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=y.palette)||null==(g=m.action)?void 0:g.disabled,inherit:void 0}[k.color]}})),Pr=u.forwardRef((function(e,t){var n=Me({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,c=void 0===u?"svg":u,f=n.fontSize,d=void 0===f?"medium":f,p=n.htmlColor,v=n.inheritViewBox,m=void 0!==v&&v,g=n.titleAccess,y=n.viewBox,k=void 0===y?"0 0 24 24":y,b=(0,l.Z)(n,Nr),w=(0,s.Z)({},n,{color:o,component:c,fontSize:d,inheritViewBox:m,viewBox:k}),_={};m||(_.viewBox=k);var x=Ar(w);return(0,Cr.jsxs)(Rr,(0,s.Z)({as:c,className:h(x.root,i),ownerState:w,focusable:"false",color:p,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},_,b,{children:[r,g?(0,Cr.jsx)("title",{children:g}):null]}))}));Pr.muiName="SvgIcon";var Or=Pr;function Dr(e,t){var n=function(n,r){return(0,Cr.jsx)(Or,(0,s.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))};return n.muiName=Or.muiName,u.memo(u.forwardRef(n))}var Lr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r};var jr=function(e,t){return function(){return null}};var Mr=function(e,t){return u.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function Ur(e){return e&&e.ownerDocument||document}var Fr=Ur;var Vr=function(e){return Ur(e).defaultView||window};var Br=function(e,t){return function(){return null}};function zr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var qr=zr,Zr="undefined"!==typeof window?u.useLayoutEffect:u.useEffect,Wr=Zr,Hr=0;var Kr=c.useId;var Gr=function(e){if(void 0!==Kr){var t=Kr();return null!=e?e:t}return function(e){var t=u.useState(e),n=(0,k.Z)(t,2),r=n[0],i=n[1],a=e||r;return u.useEffect((function(){null==r&&i("mui-".concat(Hr+=1))}),[r]),a}(e)};var Qr=function(e,t,n,r,i){return null};var Yr=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,u.useRef(void 0!==t).current),i=u.useState(n),a=(0,k.Z)(i,2),o=a[0],s=a[1];return[r?t:o,u.useCallback((function(e){r||s(e)}),[])]};var Jr=function(e){var t=u.useRef(e);return Zr((function(){t.current=e})),u.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var $r,Xr=function(e,t){return u.useMemo((function(){return null==e&&null==t?null:function(n){zr(e,n),zr(t,n)}}),[e,t])},ei=!0,ti=!1,ni={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ri(e){e.metaKey||e.altKey||e.ctrlKey||(ei=!0)}function ii(){ei=!1}function ai(){"hidden"===this.visibilityState&&ti&&(ei=!0)}function oi(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ei||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!ni[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var si=function(){var e=u.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",ri,!0),t.addEventListener("mousedown",ii,!0),t.addEventListener("pointerdown",ii,!0),t.addEventListener("touchstart",ii,!0),t.addEventListener("visibilitychange",ai,!0))}),[]),t=u.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!oi(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(ti=!0,window.clearTimeout($r),$r=window.setTimeout((function(){ti=!1}),100),t.current=!1,!0)},ref:e}}},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=h(n,g);try{c(t,g,y)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===k||e.$$typeof===b||e.$$typeof===g)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,x=60106,I=60107,E=60108,S=60114,T=60109,C=60110,N=60112,A=60113,R=60120,P=60115,O=60116,D=60121,L=60128,j=60129,M=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;_=F("react.element"),x=F("react.portal"),I=F("react.fragment"),E=F("react.strict_mode"),S=F("react.profiler"),T=F("react.provider"),C=F("react.context"),N=F("react.forward_ref"),A=F("react.suspense"),R=F("react.suspense_list"),P=F("react.memo"),O=F("react.lazy"),D=F("react.block"),F("react.scope"),L=F("react.opaque.id"),j=F("react.debug_trace_mode"),M=F("react.offscreen"),U=F("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var Z=!1;function W(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case S:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return K(e.type);case D:return K(e._render);case O:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Re(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var je=Oe,Me=!1,Ue=!1;function Fe(){null===Ce&&null===Ne||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Be=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ze=!1,We=null,He=!1,Ke=null,Ge={onError:function(e){Ze=!0,We=e}};function Qe(e,t,n,r,i,a,o,s,u){Ze=!1,We=null,qe.apply(Ge,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Ye(e)!==e)throw Error(o(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){yt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Et={},St={};function Tt(e){if(Et[e])return Et[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Et[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=Tt("animationend"),Nt=Tt("animationiteration"),At=Tt("animationstart"),Rt=Tt("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var jt=8;function Mt(e){if(0!==(1&e))return jt=15,1;if(0!==(2&e))return jt=14,2;if(0!==(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!==(32&e)?(jt=11,32):0!==(t=192&e)?(jt=10,t):0!==(256&e)?(jt=9,256):0!==(t=3584&e)?(jt=8,t):0!==(4096&e)?(jt=7,4096):0!==(t=4186112&e)?(jt=6,t):0!==(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!==(134217728&e)?(jt=3,134217728):0!==(t=805306368&e)?(jt=2,t):0!==(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=jt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Mt(u),i=jt):0!==(s&=a)&&(r=Mt(s),i=jt)}else 0!==(a=n&~o)?(r=Mt(a),i=jt):0!==s&&(r=Mt(s),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-Zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Zt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Zt(t)]=n}var Zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Kt=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Qt=!0;function Yt(e,t,n,r){Me||Le();var i=$t,a=Me;Me=!0;try{De(i,e,t,n,r)}finally{(Me=a)||Fe()}}function Jt(e,t,n,r){Gt(Kt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Xt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(mn),yn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=un(wn),xn=un(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var Nn=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Nn),Rn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),jn=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var Fn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Mn||Un&&8<Un&&11>=Un),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Re(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Yn=null;function Jn(e){Nr(e,0)}function $n(e){if(J(ii(e)))return e}function Xn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Yn=Qn=null)}function ar(e){if("value"===e.propertyName&&$n(Yn)){var t=[];if(Gn(t,Yn,e,Se(e)),e=Jn,Me)e(t);else{Me=!0;try{Oe(e,t)}finally{Me=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Yn)}function ur(e,t){if("click"===e)return $n(t)}function cr(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==kr||kr!==$(r)||("selectionStart"in(r=kr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Ir.length;Er++)Ot.set(Ir[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Qe.apply(this,arguments),Ze){if(!Ze)throw Error(o(198));var l=We;Ze=!1,We=null,He||(He=!0,Ke=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(He)throw e=Ke,He=!1,Ke=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){Tr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{je(e,t,n)}finally{Ue=!1,Fe()}}((function(){var r=a,i=Se(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case Nt:case At:u=bn;break;case Rt:u=On;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(jr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==u&&Fr(o,s,u,l,!1),null!==c&&null!==f&&Fr(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Kn(s))if(er)m=cr;else{m=sr;var g=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Kn(g)||"true"===g.contentEditable)&&(kr=g,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":xr(o,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(g=Mr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Zn(n))&&(k.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Zn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&qn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Nr(o,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(jr(e,a,i)),null!=(a=Ve(e,t))&&r.push(jr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(jr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(jr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Kr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Jr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Jr,Xr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[$r])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Xr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,K(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Ii=null,Ei=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,ji=a.unstable_IdlePriority,Mi={},Ui=void 0!==Ni?Ni:function(){},Fi=null,Vi=null,Bi=!1,zi=Ai(),qi=1e4>zi?Ai:function(){return Ai()-zi};function Zi(){switch(Ri()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case ji:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return ji;default:throw Error(o(332))}}function Hi(e,t){return e=Wi(e),Ei(e,t)}function Ki(e,t,n){return e=Wi(e),Si(e,t,n)}function Gi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Qi()}function Qi(){if(!Bi&&null!==Fi){Bi=!0;var e=0;try{var t=Fi;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Si(Pi,Gi),n}finally{Bi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ci(null),Xi=null,ea=null,ta=null;function na(){ta=ea=Xi=null}function ra(e){var t=$i.current;li($i),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Xi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Xi)throw Error(o(308));ea=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=gi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=gi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _a=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Ku(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Gu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ku(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Ju(t,e.mode,n)).return=e,t}if(_a(t)||z(t))return(t=Gu(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(_a(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_a(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Gu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Ku(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,r,a),u.return=e,e=u)}return s(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Yu(a,e.mode,u)).return=e,e=r),s(e);if(_a(a))return v(e,r,a,u);if(z(a))return m(e,r,a,u);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,K(e.type)||"Component"))}return n(e,r)}}var Sa=Ea(!0),Ta=Ea(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Ra=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Ra,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Aa),li(Ra)}function La(e){Pa(Ra.current);var t=Pa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function ja(e){Aa.current===e&&(li(Na),li(Aa))}var Ma=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Va=null,Ba=!1;function za(e,t){var n=Zu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Za(e){if(Ba){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Gr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Fa=e);za(Fa,n)}Fa=e,Va=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Fa=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Ha(e){if(e!==Fa)return!1;if(!Ba)return Wa(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Zr(t,e.memoizedProps))for(t=Va;t;)za(e,t),t=Gr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Fa?Gr(e.stateNode.nextSibling):null;return!0}function Ka(){Va=Fa=null,Ba=!1}var Ga=[];function Qa(){for(var e=0;e<Ga.length;e++)Ga[e]._workInProgressVersionPrimary=null;Ga.length=0}var Ya=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,$a=0,Xa=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if($a=a,Xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,$a=0,to=eo=Xa=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Xa.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Xa.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Xa.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Xa.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Xa.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Ga.push(t))),e)return n(t._source);throw Ga.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ya.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Xa;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Zt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Xa,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Xa,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xa.updateQueue)?(t={lastEffect:null},Xa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Xa.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,a,r)}Xa.flags|=e,i.memoizedState=go(1|t,n,a,r)}function _o(e,t){return bo(516,4,e,t)}function xo(e,t){return wo(516,4,e,t)}function Io(e,t){return wo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)}function To(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Zi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ro(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Xa||null!==o&&o===Xa)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Xa,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Xa.mode)&&(Xa.flags|=516,go(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:So,useLayoutEffect:Io,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:So,useLayoutEffect:Io,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},jo=w.ReactCurrentOwner,Mo=!1;function Uo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Sa(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ku(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Hu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return Zo(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_u(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_u(t,e),null;t.memoizedState={baseLanes:0},_u(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_u(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Zo(e,t,n,r,i){var a=gi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i){if(gi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=gi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ya(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=gi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ya(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),as(e,t,a);r=t.stateNode,jo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,s,a)):Uo(e,t,s,a),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Ko(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Go,Qo,Yo,Jo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ma,1&a),null===e?(void 0!==i.fallback&&Za(t),e=i.children,a=i.fallback,o?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Xo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qu(t,i,0,null),n=Gu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(o,s),null!==e?r=Hu(e,r):(r=Gu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Da(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:ja(t);var a=Pa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Na.current),Ha(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Xr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Ar(Sr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Xr]=r,Go(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Ar(Sr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=X(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?_e(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Na.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return li(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===Us&&(Us=3):(0!==Us&&3!==Us||(Us=4),null===Os||0===(134217727&Bs)&&0===(134217727&zs)||yu(Os,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ma),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Us||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Hs&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ua(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Ma.current,fi(Ma,s?1&t|2:1&t),n):null;case 23:case 24:return xu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return ja(e),null;case 13:return li(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ma),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return xu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Na.current);var o,s=null;switch(n){case"input":a=X(e,a),r=X(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),ju(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Es(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):Is(e,n,t)}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Is(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Is(e,t,n),e=e.sibling;null!==e;)Is(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=qi(),ys(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(o(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=w.ReactCurrentDispatcher,Rs=w.ReactCurrentOwner,Ps=0,Os=null,Ds=null,Ls=0,js=0,Ms=ci(0),Us=0,Fs=null,Vs=0,Bs=0,zs=0,qs=0,Zs=null,Ws=0,Hs=1/0;function Ks(){Hs=qi()+500}var Gs,Qs=null,Ys=!1,Js=null,$s=null,Xs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Zi()?1:2;if(0===uu&&(uu=Vs),0!==Yi.transition){0!==cu&&(cu=null!==Zs?Zs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Zi(),0!==(4&Ps)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Os&&(zs|=t,4===Us&&yu(e,Ls));var r=Zi();1===t?0!==(8&Ps)&&0===(48&Ps)?ku(e):(mu(e,n),0===Ps&&(Ks(),Gi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Zs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Zt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=jt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ut(e,e===Os?Ls:0),t=jt,0===r)null!==n&&(n!==Mi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ti(n)}15===t?(n=ku.bind(null,e),null===Fi?(Fi=[n],Vi=Si(Pi,Qi)):Fi.push(n),n=Mi):14===t?n=Ki(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Ki(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ut(e,e===Os?Ls:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Su();for(Os===e&&Ls===r||(Ks(),Iu(e,r));;)try{Nu();break}catch(u){Eu(e,u)}if(na(),As.current=a,Ps=i,null!==Ds?r=0:(Os=null,Ls=0,r=Us),0!==(Vs&zs))Iu(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=Ft(e))&&(r=Tu(e,n))),1===r)throw t=Fs,Iu(e,0),yu(e,n),mu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Ws+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Zt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Wr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return mu(e,qi()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~qs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Zt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ps))throw Error(o(327));if(Lu(),e===Os&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Tu(e,t);0!==(Vs&zs)&&(n=Tu(e,t=Ut(e,t)))}else n=Tu(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=Ft(e))&&(n=Tu(e,t))),1===n)throw n=Fs,Iu(e,0),yu(e,t),mu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),mu(e,qi()),null}function bu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Ks(),Gi())}}function wu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Ks(),Gi())}}function _u(e,t){fi(Ms,js),js|=t,Vs|=t}function xu(){js=Ms.current,li(Ms)}function Iu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Da(),li(pi),li(di),Qa();break;case 5:ja(r);break;case 4:Da();break;case 13:case 19:li(Ma);break;case 10:ra(r);break;case 23:case 24:xu()}n=n.return}Os=e,Ds=Hu(e.current,null),Ls=js=Vs=t,Us=0,Fs=null,qs=zs=Bs=0}function Eu(e,t){for(;;){var n=Ds;try{if(na(),Ya.current=Po,no){for(var r=Xa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if($a=0,to=eo=Xa=null,ro=!1,Rs.current=null,null===n||null===n.return){Us=1,Fs=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Ma.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(c),h.updateQueue=g}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=la(-1,1);y.tag=2,fa(s,y)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=Bu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Us&&(Us=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===$s||!$s.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ru(n)}catch(x){t=x,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Su(){var e=As.current;return As.current=Po,null===e?Po:e}function Tu(e,t){var n=Ps;Ps|=16;var r=Su();for(Os===e&&Ls===t||Iu(e,t);;)try{Cu();break}catch(i){Eu(e,i)}if(na(),Ps=n,As.current=r,null!==Ds)throw Error(o(261));return Os=null,Ls=0,Us}function Cu(){for(;null!==Ds;)Au(Ds)}function Nu(){for(;null!==Ds&&!Ci();)Au(Ds)}function Au(e){var t=Gs(e.alternate,e,js);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ds=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,js)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Us&&(Us=5)}function Pu(e){var t=Zi();return Hi(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Zt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Ds=Os=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Rs.current=null,Br=Qt,gr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(S){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++p===a&&(h=f),g===c&&++v===l&&(d=f),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Qt=!1,lu=null,fu=!1,Qs=r;do{try{Du()}catch(S){if(null===Qs)throw Error(o(330));Vu(Qs,S),Qs=Qs.nextEffect}}while(null!==Qs);lu=null,Qs=r;do{try{for(s=e;null!==Qs;){var k=Qs.flags;if(16&k&&ye(Qs.stateNode,""),128&k){var b=Qs.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:_s(Qs),Qs.flags&=-3;break;case 6:_s(Qs),Qs.flags&=-3,Ss(Qs.alternate,Qs);break;case 1024:Qs.flags&=-1025;break;case 1028:Qs.flags&=-1025,Ss(Qs.alternate,Qs);break;case 4:Ss(Qs.alternate,Qs);break;case 8:Es(s,u=Qs);var _=u.alternate;bs(u),null!==_&&bs(_)}Qs=Qs.nextEffect}}catch(S){if(null===Qs)throw Error(o(330));Vu(Qs,S),Qs=Qs.nextEffect}}while(null!==Qs);if(w=zr,b=mr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&gr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!w.extend&&_>s&&(u=s,s=_,_=u),u=pr(k,_),a=pr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),_>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!Br,zr=Br=null,e.current=n,Qs=r;do{try{for(k=e;null!==Qs;){var x=Qs.flags;if(36&x&&gs(k,Qs.alternate,Qs),128&x){b=void 0;var I=Qs.ref;if(null!==I){var E=Qs.stateNode;Qs.tag,b=E,"function"===typeof I?I(b):I.current=b}}Qs=Qs.nextEffect}}catch(S){if(null===Qs)throw Error(o(330));Vu(Qs,S),Qs=Qs.nextEffect}}while(null!==Qs);Qs=null,Ui(),Ps=i}else e.current=n;if(Xs)Xs=!1,eu=e,tu=t;else for(Qs=r;null!==Qs;)t=Qs.nextEffect,Qs.nextEffect=null,8&Qs.flags&&((x=Qs).sibling=null,x.stateNode=null),Qs=t;if(0===(r=e.pendingLanes)&&($s=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(S){}if(mu(e,qi()),Ys)throw Ys=!1,e=Js,Js=null,e;return 0!==(8&Ps)||Gi(),null}function Du(){for(;null!==Qs;){var e=Qs.alternate;fu||null===lu||(0!==(8&Qs.flags)?et(Qs,lu)&&(fu=!0):13===Qs.tag&&Cs(e,Qs)&&et(Qs,lu)&&(fu=!0));var t=Qs.flags;0!==(256&t)&&ms(e,Qs),0===(512&t)||Xs||(Xs=!0,Ki(97,(function(){return Lu(),null}))),Qs=Qs.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Hi(e,Uu)}return!1}function ju(e,t){nu.push(t,e),Xs||(Xs=!0,Ki(97,(function(){return Lu(),null})))}function Mu(e,t){ru.push(t,e),Xs||(Xs=!0,Ki(97,(function(){return Lu(),null})))}function Uu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Gi(),!0}function Fu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Fu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))qt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ls&n)===n&&(4===Us||3===Us&&(62914560&Ls)===Ls&&500>qi()-Ws?Iu(e,0):qs|=n),mu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Zi()?1:2:(0===uu&&(uu=Vs),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Zu(e,t,n,r){return new qu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=Zu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ku(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return Gu(n.children,i,a,t);case j:s=8,i|=16;break;case E:s=8,i|=1;break;case S:return(e=Zu(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case A:return(e=Zu(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case R:return(e=Zu(19,n,t,i)).elementType=R,e.lanes=a,e;case M:return Qu(n,i,a,t);case U:return(e=Zu(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case N:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Zu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Gu(e,t,n,r){return(e=Zu(7,e,r,t)).lanes=n,e}function Qu(e,t,n,r){return(e=Zu(23,e,r,t)).elementType=M,e.lanes=n,e}function Yu(e,t,n){return(e=Zu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Zu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Xu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $u(e,t,null!=n&&!0===n.hydrate),t=Zu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Xu(e,t,null,n)}Gs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Ko(t),Ka();break;case 5:La(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(fi(Ma,1&Ma.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return as(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Zo(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Zo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Ko(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ka(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Gr(t.stateNode.containerInfo.firstChild),Fa=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ga.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ka();t=t.child}return t;case 5:return La(t),null===e&&Za(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Zr(r,i)?s=null:null!==a&&Zr(r,a)&&(t.flags|=16),qo(e,t),Uo(e,t,s,n),t.child;case 6:return null===e&&Za(t),null;case 13:return $o(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi($i,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bu,De=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Ks(),Gi())}},Le=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qi())}))}Gi()}(),Lu())},je=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Ks(),Gi())}};var uc={Events:[ri,ii,ai,Re,Pe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Ii=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Ps=n,Gi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(o,d),o=d+f.length,h)s+=h[1];else{var p=e[o],v=n[2],m=n[3],g=n[4],y=n[5],k=n[6],b=n[7];s&&(r.push(s),s="");var w=null!=v&&null!=p&&p!==v,_="+"===k||"*"===k,x="?"===k||"*"===k,I=n[2]||l,E=g||y;r.push({name:m||a++,prefix:v||"",delimiter:I,optional:x,repeat:_,partial:w,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+u(I)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var k=y.prototype=new g;k.constructor=y,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+S(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(s=e[c],c);u+=T(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+S(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function R(){var e=A.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var _=y.prototype=m.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return g.prototype=y,u(_,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(I.prototype),u(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+y;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>E(o,n))void 0!==u&&0>E(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>E(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],C=1,N=null,A=3,R=!1,P=!1,O=!1;function D(e){for(var t=x(T);null!==t;){if(null===t.callback)I(T);else{if(!(t.startTime<=e))break;I(T),t.sortIndex=t.expirationTime,_(S,t)}t=x(T)}}function L(e){if(O=!1,D(e),!P)if(null!==x(S))P=!0,n(j);else{var t=x(T);null!==t&&r(L,t.startTime-e)}}function j(e,n){P=!1,O&&(O=!1,i()),R=!0;var a=A;try{for(D(n),N=x(S);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===x(S)&&I(S),D(n)}else I(S);N=x(S)}if(null!==N)var u=!0;else{var c=x(T);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,A=a,R=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return x(S)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,_(T,e),null===x(S)&&e===x(T)&&(O?i():O=!0,r(L,o-s))):(e.sortIndex=u,_(S,e),P||R||(P=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},735:function(e,t,n){"use strict";e.exports=n.p+"static/media/logo-03.30385894e23480ca1571.webp"},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(878);var i=n(181),a=n(267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".092678bf.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="lifeinvader:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/lifeinvader/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunklifeinvader=self.webpackChunklifeinvader||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Rt},SDK_VERSION:function(){return Sn},_DEFAULT_ENTRY_NAME:function(){return fn},_addComponent:function(){return vn},_addOrOverwriteComponent:function(){return mn},_apps:function(){return dn},_clearComponents:function(){return bn},_components:function(){return pn},_getProvider:function(){return yn},_registerComponent:function(){return gn},_removeServiceInstance:function(){return kn},deleteApp:function(){return An},getApp:function(){return Cn},getApps:function(){return Nn},initializeApp:function(){return Tn},onLog:function(){return On},registerVersion:function(){return Pn},setLogLevel:function(){return Dn}});var t=n(791),r=n(164);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}var o=n(462);function s(e){return"/"===e.charAt(0)}function u(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var c=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&s(e),o=t&&s(t),c=a||o;if(e&&s(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?u(i,h):".."===d?(u(i,h),f++):f&&(u(i,h),f--)}if(!c)for(;f--;f)i.unshift("..");!c||""===i[0]||i[0]&&s(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},l="Invariant failed";function f(e,t){if(!e)throw new Error(l)}function h(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function p(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function v(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function m(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function g(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=(0,o.Z)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=c(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var k=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var w="popstate",_="hashchange";function x(){try{return window.history.state||{}}catch(e){return{}}}function I(e){void 0===e&&{},k||f(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,s=void 0!==a&&a,u=i.getUserConfirmation,c=void 0===u?b:u,l=i.keyLength,d=void 0===l?6:l,I=e.basename?v(h(e.basename)):"";function E(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return I&&p(a,I),g(a,r,n)}function S(){return Math.random().toString(36).substr(2,d)}var T=y();function C(e){(0,o.Z)(V,e),V.length=t.length,T.notifyListeners(V.location,V.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(E(e.state))}function A(){P(E(x()))}var R=!1;function P(e){if(R)!1,C();else{T.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&0;var r=D.indexOf(e.key);-1===r&&0;var i=n-r;i&&(!0,j(i))}(e)}))}}var O=E(x()),D=[O.key];function L(e){return I+m(e)}function j(e){t.go(e)}var M=0;function U(e){1===(M+=e)&&1===e?(window.addEventListener(w,N),r&&window.addEventListener(_,A)):0===M&&(window.removeEventListener(w,N),r&&window.removeEventListener(_,A))}var F=!1;var V={length:t.length,action:"POP",location:O,createHref:L,push:function(e,r){var i="PUSH",a=g(e,r,S(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,u=a.state;if(n)if(t.pushState({key:o,state:u},null,r),s)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(a.key),l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=g(e,r,S(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,u=a.state;if(n)if(t.replaceState({key:o,state:u},null,r),s)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&!1;var t=T.setPrompt(e);return F||(U(1),!0),function(){return F&&(!1,U(-1)),t()}},listen:function(e){var t=T.appendListener(e);return U(1),function(){U(-1),t()}}};return V}var E="hashchange",S={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:h},slash:{encodePath:h,decodePath:h}};function T(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function C(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function N(e){window.location.replace(T(window.location.href)+"#"+e)}function A(e){void 0===e&&(e={}),k||f(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?b:r,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?v(h(e.basename)):"",c=S[s],l=c.encodePath,d=c.decodePath;function w(){var e=d(C());return u&&(e=p(e,u)),g(e)}var _=y();function x(e){(0,o.Z)(V,e),V.length=t.length,_.notifyListeners(V.location,V.action)}var I=!1,A=null;function R(){var e,t,n=C(),r=l(n);if(n!==r)N(r);else{var a=w(),o=V.location;if(!I&&(t=a,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(A===m(a))return;A=null,function(e){if(I)I=!1,x();else{var t="POP";_.confirmTransitionTo(e,t,i,(function(n){n?x({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(m(t));-1===n&&(n=0);var r=L.lastIndexOf(m(e));-1===r&&(r=0);var i=n-r;i&&(I=!0,j(i))}(e)}))}}(a)}}var P=C(),O=l(P);P!==O&&N(O);var D=w(),L=[m(D)];function j(e){t.go(e)}var M=0;function U(e){1===(M+=e)&&1===e?window.addEventListener(E,R):0===M&&window.removeEventListener(E,R)}var F=!1;var V={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=T(window.location.href)),n+"#"+l(u+m(e))},push:function(e,t){var n="PUSH",r=g(e,void 0,void 0,V.location);_.confirmTransitionTo(r,n,i,(function(e){if(e){var t=m(r),i=l(u+t);if(C()!==i){A=t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(m(V.location)),o=L.slice(0,a+1);o.push(t),L=o,x({action:n,location:r})}else x()}}))},replace:function(e,t){var n="REPLACE",r=g(e,void 0,void 0,V.location);_.confirmTransitionTo(r,n,i,(function(e){if(e){var t=m(r),i=l(u+t);C()!==i&&(A=t,N(i));var a=L.indexOf(m(V.location));-1!==a&&(L[a]=t),x({action:n,location:r})}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=_.setPrompt(e);return F||(U(1),F=!0),function(){return F&&(F=!1,U(-1)),t()}},listen:function(e){var t=_.appendListener(e);return U(1),function(){U(-1),t()}}};return V}function R(e,t,n){return Math.min(Math.max(e,t),n)}function P(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=y();function f(e){(0,o.Z)(b,e),b.length=b.entries.length,l.notifyListeners(b.location,b.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=R(s,0,i.length-1),p=i.map((function(e){return g(e,void 0,"string"===typeof e?h():e.key||h())})),v=m;function k(e){var t=R(b.index+e,0,b.entries.length-1),r=b.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var b={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=g(e,t,h(),b.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=g(e,t,h(),b.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(b.entries[b.index]=i,f({action:r,location:i}))}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return b}var O=n(7),D=n.n(O),L=1073741823,j="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function M(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var U=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return j[e]=(j[e]||0)+1}()+"__",s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=M(t.props.value),t}a(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):L,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);s.childContextTypes=((r={})[o]=D().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?L:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?L:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[o]=D().object,i),{Provider:s,Consumer:u}},F=U,V=n(239),B=n.n(V),z=(n(228),n(366)),q=(n(110),function(e){var t=F();return t.displayName=e,t}),Z=q("Router-History"),W=function(e){var t=F();return t.displayName=e,t},H=W("Router"),K=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}a(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(H.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(Z.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var G={},Q=0;function Y(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=G[n]||(G[n]={});if(r[e])return r[e];var i=[],a={regexp:B()(e,i,t),keys:i};return Q<1e4&&(r[e]=a,Q++),a}(n,{end:a,strict:s,sensitive:c}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var J=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(H.Consumer,null,(function(n){n||f(!1);var r=e.props.location||n.location,i=e.props.computedMatch?e.props.computedMatch:e.props.path?Y(r.pathname,e.props):n.match,a=(0,o.Z)({},n,{location:r,match:i}),s=e.props,u=s.children,c=s.component,l=s.render;return Array.isArray(u)&&0===u.length&&(u=null),t.createElement(H.Provider,{value:a},a.match?u?"function"===typeof u?u(a):u:c?t.createElement(c,a):l?l(a):null:"function"===typeof u?u(a):null)}))},n}(t.Component);function $(e){return"/"===e.charAt(0)?e:"/"+e}function X(e,t){if(!e)return t;var n=$(e);return 0!==t.pathname.indexOf(n)?t:(0,o.Z)({},t,{pathname:t.pathname.substr(n.length)})}function ee(e){return"string"===typeof e?e:m(e)}function te(e){return function(){f(!1)}}function ne(){}t.Component;t.Component;var re=t.useContext;function ie(){return re(Z)}function ae(){return re(H).location}t.Component;var oe=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=A(t.props),t}return a(n,e),n.prototype.render=function(){return t.createElement(K,{history:this.history,children:this.props.children})},n}(t.Component);var se=function(e,t){return"function"===typeof e?e(t):e},ue=function(e,t){return"string"===typeof e?g(e,null,null,t):e},ce=function(e){return e},le=t.forwardRef;"undefined"===typeof le&&(le=ce);var fe=le((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,s=(0,z.Z)(e,["innerRef","navigate","onClick"]),u=s.target,c=(0,o.Z)({},s,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=ce!==le&&n||r,t.createElement("a",c)}));var he=le((function(e,n){var r=e.component,i=void 0===r?fe:r,a=e.replace,s=e.to,u=e.innerRef,c=(0,z.Z)(e,["component","replace","to","innerRef"]);return t.createElement(H.Consumer,null,(function(e){e||f(!1);var r=e.history,l=ue(se(s,e.location),e.location),h=l?r.createHref(l):"",d=(0,o.Z)({},c,{href:h,navigate:function(){var t=se(s,e.location);(a?r.replace:r.push)(t)}});return ce!==le?d.ref=n||u:d.innerRef=u,t.createElement(i,d)}))})),de=function(e){return e},pe=t.forwardRef;"undefined"===typeof pe&&(pe=de);var ve=pe((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,s=void 0===a?"active":a,u=e.activeStyle,c=e.className,l=e.exact,h=e.isActive,d=e.location,p=e.sensitive,v=e.strict,m=e.style,g=e.to,y=e.innerRef,k=(0,z.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(H.Consumer,null,(function(e){e||f(!1);var r=d||e.location,a=ue(se(g,r),r),b=a.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=w?Y(r.pathname,{path:w,exact:l,sensitive:p,strict:v}):null,x=!!(h?h(_,r):_),I=x?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,s):c,E=x?(0,o.Z)({},m,{},u):m,S=(0,o.Z)({"aria-current":x&&i||null,className:I,style:E,to:a},k);return de!==pe?S.ref=n||y:S.innerRef=y,t.createElement(he,S)}))}));function me(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){me(a,r,i,o,s,"next",e)}function s(e){me(a,r,i,o,s,"throw",e)}o(void 0)}))}}var ye=n(439),ke=n(757),be=n.n(ke),we={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_e=t.createContext&&t.createContext(we),xe=function(){return xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xe.apply(this,arguments)},Ie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Ee(e){return e&&e.map((function(e,n){return t.createElement(e.tag,xe({key:n},e.attr),Ee(e.child))}))}function Se(e){return function(n){return t.createElement(Te,xe({attr:xe({},e.attr)},n),Ee(e.child))}}function Te(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=Ie(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",xe({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:xe(xe({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==_e?t.createElement(_e.Consumer,null,(function(e){return n(e)})):n(we)}function Ce(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 176v160m80-80H176"}}]})(e)}function Ne(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"}}]})(e)}function Ae(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M87.49 380c1.19-4.38-1.44-10.47-3.95-14.86a44.86 44.86 0 00-2.54-3.8 199.81 199.81 0 01-33-110C47.65 139.09 140.73 48 255.83 48 356.21 48 440 117.54 459.58 209.85a199 199 0 014.42 41.64c0 112.41-89.49 204.93-204.59 204.93-18.3 0-43-4.6-56.47-8.37s-26.92-8.77-30.39-10.11a31.09 31.09 0 00-11.12-2.07 30.71 30.71 0 00-12.09 2.43l-67.83 24.48a16 16 0 01-4.67 1.22 9.6 9.6 0 01-9.57-9.74 15.85 15.85 0 01.6-3.29z"}}]})(e)}function Re(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112L184 256l144 144"}}]})(e)}function Pe(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144m224 0L144 368"}}]})(e)}function Oe(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8-69 0-113.44 45.79-128 91.2-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 255.79l-64-64-64 64m64 192.42V207.79"}}]})(e)}function De(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48"}},{tag:"path",attr:{d:"M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z"}}]})(e)}function Le(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0018 0c96.26-65.34 184.09-143.09 183-252.42-.54-52.67-42.32-96.81-95.08-96.81z"}}]})(e)}function je(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M80 212v236a16 16 0 0016 16h96V328a24 24 0 0124-24h80a24 24 0 0124 24v136h96a16 16 0 0016-16V212"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256m368-77V64h-48v69"}}]})(e)}function Me(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 64H96a64.07 64.07 0 00-64 64v256a64.07 64.07 0 0064 64h320a64.07 64.07 0 0064-64V128a64.07 64.07 0 00-64-64zm-80 64a48 48 0 11-48 48 48.05 48.05 0 0148-48zM96 416a32 32 0 01-32-32v-67.63l94.84-84.3a48.06 48.06 0 0165.8 1.9l64.95 64.81L172.37 416zm352-32a32 32 0 01-32 32H217.63l121.42-121.42a47.72 47.72 0 0161.64-.16L448 333.84z"}}]})(e)}function Ue(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M160 256a16 16 0 0116-16h144V136c0-32-33.79-56-64-56H104a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h160a56.06 56.06 0 0056-56V272H176a16 16 0 01-16-16zm299.31-11.31l-80-80a16 16 0 00-22.62 22.62L409.37 240H320v32h89.37l-52.68 52.69a16 16 0 1022.62 22.62l80-80a16 16 0 000-22.62z"}}]})(e)}function Fe(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"44",d:"M358.62 129.28L86.49 402.08 70 442l39.92-16.49 272.8-272.13-24.1-24.1zm54.45-54.44l-11.79 11.78 24.1 24.1 11.79-11.79a16.51 16.51 0 000-23.34l-.75-.75a16.51 16.51 0 00-23.35 0z"}}]})(e)}function Ve(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M376 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z"}},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M288 304c-87 0-175.3 48-191.64 138.6-2 10.92 4.21 21.4 15.65 21.4H464c11.44 0 17.62-10.48 15.65-21.4C463.3 352 375 304 288 304z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M88 176v112m56-56H32"}}]})(e)}function Be(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 256c52.79 0 99.43-49.71 104-110.82 2.27-30.7-7.36-59.33-27.12-80.6C345.33 43.57 318 32 288 32c-30.24 0-57.59 11.5-77 32.38-19.63 21.11-29.2 49.8-27 80.78C188.49 206.28 235.12 256 288 256zm207.38 183.76c-8.44-46.82-34.79-86.15-76.19-113.75C382.42 301.5 335.83 288 288 288s-94.42 13.5-131.19 38c-41.4 27.6-67.75 66.93-76.19 113.75-1.93 10.73.69 21.34 7.19 29.11A30.94 30.94 0 00112 480h352a30.94 30.94 0 0024.21-11.13c6.48-7.77 9.1-18.38 7.17-29.11zM104 288v-40h40a16 16 0 000-32h-40v-40a16 16 0 00-32 0v40H32a16 16 0 000 32h40v40a16 16 0 0032 0z"}}]})(e)}function ze(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 01-6.14-.32 124.27 124.27 0 00-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 00-32.35 29.58 4 4 0 01-6.14.32A175.32 175.32 0 0180 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 01-46.68 119.25z"}},{tag:"path",attr:{d:"M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z"}}]})(e)}function qe(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z"}},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z"}}]})(e)}function Ze(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M470.3 271.15L43.16 447.31a7.83 7.83 0 01-11.16-7V327a8 8 0 016.51-7.86l247.62-47c17.36-3.29 17.36-28.15 0-31.44l-247.63-47a8 8 0 01-6.5-7.85V72.59c0-5.74 5.88-10.26 11.16-8L470.3 241.76a16 16 0 010 29.39z"}}]})(e)}function We(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336 192h40a40 40 0 0140 40v192a40 40 0 01-40 40H136a40 40 0 01-40-40V232a40 40 0 0140-40h40m160-64l-80-80-80 80m80 193V48"}}]})(e)}function He(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"128",cy:"256",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}},{tag:"circle",attr:{cx:"384",cy:"112",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}},{tag:"circle",attr:{cx:"384",cy:"400",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M169.83 279.53l172.34 96.94m0-240.94l-172.34 96.94"}}]})(e)}function Ke(e){return Se({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320"}},{tag:"path",attr:{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M80 112h352"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40m-64 64v224m-72-224l8 224m136-224l-8 224"}}]})(e)}var Ge=n.p+"static/media/logo-04.294fb622ebe76c2fe65d750d96c63ca3.svg",Qe="nav__user-menu_container__sNuwG",Ye="nav__user-menu_inner__R7xMu",Je="nav__user-menu_option__nYQmf",$e="nav__user-menu_icon__ELpCG",Xe=document.documentElement,et=function(){Xe.style.setProperty("--primary-font-color","white"),Xe.style.setProperty("--nav-background-color","rgba(0, 0, 0, 0.733)"),Xe.style.setProperty("--primary-transparent-color","rgba(0, 0, 0, 0.93)"),Xe.style.setProperty("--user-menu-font-color","white"),Xe.style.setProperty("--primary-background-color","black"),Xe.style.setProperty("--primary-border","1px solid rgb(41, 41, 41)"),Xe.style.setProperty("--secondary-border","1px solid rgb(41, 41, 41)"),Xe.style.setProperty("--loading-gradient","linear-gradient(to right, #000000, #353535)"),Xe.style.setProperty("--messages-sidebar-background","rgba(0, 0, 0, 0.87)"),Xe.style.setProperty("--messages-bubble-background","#303030"),Xe.style.setProperty("--menu-hover-color","rgba(255, 255, 255, 0.1)"),Xe.style.setProperty("--notification-type-color","rgb(221, 221, 221)"),Xe.style.setProperty("--home-card-overlay","rgba(0, 0, 0, 0.85)")},tt=n(942);function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t,n){return t&&rt(e.prototype,t),n&&rt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var at=n(181);function ot(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,at.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function ct(e){return ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ct(e)}function lt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function ht(e,t){if(t&&("object"===ft(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return st(e)}function dt(e){var t=lt();return function(){var n,r=ct(e);if(t){var i=ct(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ht(this,n)}}function pt(e,t,n){return pt=lt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&i(a,n.prototype),a},pt.apply(null,arguments)}function vt(e){var t="function"===typeof Map?new Map:void 0;return vt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return pt(e,arguments,ct(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},vt(e)}var mt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},gt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(mt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},yt=function(e){return function(e){var t=mt(e);return gt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},kt=function(e){try{return gt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function bt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&wt(n)&&(e[n]=bt(e[n],t[n]));return e}function wt(e){return"__proto__"!==e}var _t=function(){function e(){var t=this;nt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return it(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function xt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[yt(JSON.stringify({alg:"none",type:"JWT"})),yt(JSON.stringify(a)),""].join(".")}function It(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Et(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function St(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Tt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ct(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Nt(){var e=It();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function At(){return"object"===typeof indexedDB}var Rt=function(e){ut(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(st(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(st(a),Pt.prototype.create),a}return it(n)}(vt(Error)),Pt=function(){function e(t,n,r){nt(this,e),this.service=t,this.serviceName=n,this.errors=r}return it(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ot(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Rt(n,a,t);return o}}]),e}();function Ot(e,t){return e.replace(Dt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Dt=/\{\$([^}]+)}/g;function Lt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function jt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Mt(s)&&Mt(u)){if(!jt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Mt(e){return null!==e&&"object"===typeof e}function Ut(e){for(var t=[],n=function(){var e=(0,ye.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ft(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,ye.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function Vt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Bt(e,t){var n=new zt(e,t);return n.subscribe.bind(n)}var zt=function(){function e(t,n){var r=this;nt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return it(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ot(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=qt),void 0===r.error&&(r.error=qt),void 0===r.complete&&(r.complete=qt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function qt(){}function Zt(e){return e&&e._delegate?e._delegate:e}var Wt=n(433),Ht=function(){function e(t,n,r){nt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return it(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Kt="[DEFAULT]",Gt=function(){function e(t,n){nt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return it(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new _t;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Kt})}catch(u){}var t,n=ot(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,ye.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ge(ke.mark((function e(){var t;return ke.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,Wt.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,Wt.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ot(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=(0,ye.Z)(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ot(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Nx){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Kt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Nx){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt;return this.component?this.component.multipleInstances?e:Kt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Qt,Yt,Jt=function(){function e(t){nt(this,e),this.name=t,this.providers=new Map}return it(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Gt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),$t=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Yt||(Yt={}));var Xt,en,tn={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},nn=Yt.INFO,rn=(Qt={},(0,tt.Z)(Qt,Yt.DEBUG,"log"),(0,tt.Z)(Qt,Yt.VERBOSE,"log"),(0,tt.Z)(Qt,Yt.INFO,"info"),(0,tt.Z)(Qt,Yt.WARN,"warn"),(0,tt.Z)(Qt,Yt.ERROR,"error"),Qt),an=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=rn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},on=function(){function e(t){nt(this,e),this.name=t,this._logLevel=nn,this._logHandler=an,this._userLogHandler=null,$t.push(this)}return it(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Yt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?tn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Yt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Yt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Yt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Yt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Yt.INFO].concat(t)),this._logHandler.apply(this,[this,Yt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Yt.WARN].concat(t)),this._logHandler.apply(this,[this,Yt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Yt.ERROR].concat(t)),this._logHandler.apply(this,[this,Yt.ERROR].concat(t))}}]),e}();var sn=function(){function e(t){nt(this,e),this.container=t}return it(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var un="@firebase/app",cn="0.7.16",ln=new on("@firebase/app"),fn="[DEFAULT]",hn=(Xt={},(0,tt.Z)(Xt,un,"fire-core"),(0,tt.Z)(Xt,"@firebase/app-compat","fire-core-compat"),(0,tt.Z)(Xt,"@firebase/analytics","fire-analytics"),(0,tt.Z)(Xt,"@firebase/analytics-compat","fire-analytics-compat"),(0,tt.Z)(Xt,"@firebase/app-check","fire-app-check"),(0,tt.Z)(Xt,"@firebase/app-check-compat","fire-app-check-compat"),(0,tt.Z)(Xt,"@firebase/auth","fire-auth"),(0,tt.Z)(Xt,"@firebase/auth-compat","fire-auth-compat"),(0,tt.Z)(Xt,"@firebase/database","fire-rtdb"),(0,tt.Z)(Xt,"@firebase/database-compat","fire-rtdb-compat"),(0,tt.Z)(Xt,"@firebase/functions","fire-fn"),(0,tt.Z)(Xt,"@firebase/functions-compat","fire-fn-compat"),(0,tt.Z)(Xt,"@firebase/installations","fire-iid"),(0,tt.Z)(Xt,"@firebase/installations-compat","fire-iid-compat"),(0,tt.Z)(Xt,"@firebase/messaging","fire-fcm"),(0,tt.Z)(Xt,"@firebase/messaging-compat","fire-fcm-compat"),(0,tt.Z)(Xt,"@firebase/performance","fire-perf"),(0,tt.Z)(Xt,"@firebase/performance-compat","fire-perf-compat"),(0,tt.Z)(Xt,"@firebase/remote-config","fire-rc"),(0,tt.Z)(Xt,"@firebase/remote-config-compat","fire-rc-compat"),(0,tt.Z)(Xt,"@firebase/storage","fire-gcs"),(0,tt.Z)(Xt,"@firebase/storage-compat","fire-gcs-compat"),(0,tt.Z)(Xt,"@firebase/firestore","fire-fst"),(0,tt.Z)(Xt,"@firebase/firestore-compat","fire-fst-compat"),(0,tt.Z)(Xt,"fire-js","fire-js"),(0,tt.Z)(Xt,"firebase","fire-js-all"),Xt),dn=new Map,pn=new Map;function vn(e,t){try{e.container.addComponent(t)}catch(n){ln.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function mn(e,t){e.container.addOrOverwriteComponent(t)}function gn(e){var t=e.name;if(pn.has(t))return ln.debug("There were multiple attempts to register component ".concat(t,".")),!1;pn.set(t,e);var n,r=ot(dn.values());try{for(r.s();!(n=r.n()).done;){vn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function yn(e,t){return e.container.getProvider(t)}function kn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fn;yn(e,t).clearInstance(n)}function bn(){pn.clear()}var wn,_n,xn=(en={},(0,tt.Z)(en,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,tt.Z)(en,"bad-app-name","Illegal App name: '{$appName}"),(0,tt.Z)(en,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,tt.Z)(en,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,tt.Z)(en,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,tt.Z)(en,"invalid-log-argument","First argument to `onLog` must be null or a function."),en),In=new Pt("app","Firebase",xn),En=function(){function e(t,n,r){var i=this;nt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",(function(){return i}),"PUBLIC"))}return it(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}]),e}(),Sn="9.6.6";function Tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:fn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw In.create("bad-app-name",{appName:String(i)});var a=dn.get(i);if(a){if(jt(e,a.options)&&jt(r,a.config))return a;throw In.create("duplicate-app",{appName:i})}var o,s=new Jt(i),u=ot(pn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new En(e,r,s);return dn.set(i,l),l}function Cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=dn.get(e);if(!t)throw In.create("no-app",{appName:e});return t}function Nn(){return Array.from(dn.values())}function An(e){return Rn.apply(this,arguments)}function Rn(){return Rn=ge(ke.mark((function e(t){var n;return ke.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!dn.has(n)){e.next=6;break}return dn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Rn.apply(this,arguments)}function Pn(e,t,n){var r,i=null!==(r=hn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ln.warn(s.join(" "))}gn(new Ht("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function On(e,t){if(null!==e&&"function"!==typeof e)throw In.create("invalid-log-argument");!function(e,t){var n,r=ot($t);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=tn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Yt[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Dn(e){var t;t=e,$t.forEach((function(e){e.setLogLevel(t)}))}wn="",gn(new Ht("platform-logger",(function(e){return new sn(e)}),"PRIVATE")),Pn(un,cn,wn),Pn(un,cn,"esm2017"),Pn("fire-js","");var Ln=function(){function e(t,n){var r=this;nt(this,e),this._delegate=t,this.firebase=n,vn(t,new Ht("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return it(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),An(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){vn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){mn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),jn=(_n={},(0,tt.Z)(_n,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,tt.Z)(_n,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),_n),Mn=new Pt("app-compat","Firebase",jn);var Un=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Tn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Lt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Pn,setLogLevel:Dn,onLog:On,apps:null,SDK_VERSION:Sn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(gn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Mn.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&bt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Lt(n,e=e||fn))throw Mn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ln);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){bt(n,e)},createSubscribe:Bt,ErrorFactory:Pt,deepExtend:bt}),n}(),Fn=new on("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Fn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Vn=self.firebase.SDK_VERSION;Vn&&Vn.indexOf("LITE")>=0&&Fn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Bn=Un;!function(e){Pn("@firebase/app-compat","0.1.17",e)}();Bn.registerVersion("firebase","9.6.6","app-compat");var zn=n(878),qn=n(199),Zn=n(267);function Wn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ct(e)););return e}function Hn(){return Hn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Wn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Hn.apply(this,arguments)}function Kn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Gn;Object.create;var Qn="facebook.com",Yn="github.com",Jn="google.com",$n="password",Xn="twitter.com",er="EMAIL_SIGNIN",tr="PASSWORD_RESET",nr="RECOVER_EMAIL",rr="REVERT_SECOND_FACTOR_ADDITION",ir="VERIFY_AND_CHANGE_EMAIL",ar="VERIFY_EMAIL";function or(){return(0,tt.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var sr=function(){var e;return e={},(0,tt.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,tt.Z)(e,"argument-error",""),(0,tt.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,tt.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,tt.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,tt.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,tt.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,tt.Z)(e,"cors-unsupported","This browser is not supported."),(0,tt.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,tt.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,tt.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,tt.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,tt.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,tt.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,tt.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,tt.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,tt.Z)(e,"expired-action-code","The action code has expired."),(0,tt.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,tt.Z)(e,"internal-error","An internal AuthError has occurred."),(0,tt.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,tt.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,tt.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,tt.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,tt.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,tt.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,tt.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,tt.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,tt.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,tt.Z)(e,"invalid-email","The email address is badly formatted."),(0,tt.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,tt.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,tt.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,tt.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,tt.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,tt.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,tt.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,tt.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,tt.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,tt.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,tt.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,tt.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,tt.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,tt.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,tt.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,tt.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,tt.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,tt.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,tt.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,tt.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,tt.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,tt.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,tt.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,tt.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,tt.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,tt.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,tt.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,tt.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,tt.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,tt.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,tt.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,tt.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,tt.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,tt.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,tt.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,tt.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,tt.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,tt.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,tt.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,tt.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,tt.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,tt.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,tt.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,tt.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,tt.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,tt.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,tt.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,tt.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,tt.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,tt.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,tt.Z)(e,"timeout","The operation has timed out."),(0,tt.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,tt.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,tt.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,tt.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,tt.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,tt.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,tt.Z)(e,"unverified-email","The operation requires a verified email."),(0,tt.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,tt.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,tt.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,tt.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,tt.Z)(e,"user-signed-out",""),(0,tt.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,tt.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,tt.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},ur=or,cr=new Pt("auth","Firebase",or()),lr=new on("@firebase/auth");function fr(e){if(lr.logLevel<=Yt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lr.error.apply(lr,["Auth (".concat(Sn,"): ").concat(e)].concat(n))}}function hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw mr.apply(void 0,[e].concat(n))}function dr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return mr.apply(void 0,[e].concat(n))}function pr(e,t,n){var r=Object.assign(Object.assign({},ur()),(0,tt.Z)({},t,n));return new Pt("auth","Firebase",r).create(t,{appName:e.name})}function vr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&hr(e,"argument-error"),pr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function mr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,Wt.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,Wt.Z)(o)))}return cr.create.apply(cr,[e].concat(n))}function gr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw mr.apply(void 0,[t].concat(r))}}function yr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw fr(t),new Error(t)}function kr(e,t){e||yr(t)}var br=new Map;function wr(e){kr(e instanceof Function,"Expected a class definition");var t=br.get(e);return t?(kr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,br.set(e,t),t)}function _r(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function xr(){return"http:"===Ir()||"https:"===Ir()}function Ir(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Er=function(){function e(t,n){nt(this,e),this.shortDelay=t,this.longDelay=n,kr(n>t,"Short delay should be less than long delay!"),this.isMobile=Et()||Ct()}return it(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(xr()||Tt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Sr(e,t){kr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Tr=function(){function e(){nt(this,e)}return it(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Cr=(Gn={},(0,tt.Z)(Gn,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,tt.Z)(Gn,"MISSING_CUSTOM_TOKEN","internal-error"),(0,tt.Z)(Gn,"INVALID_IDENTIFIER","invalid-email"),(0,tt.Z)(Gn,"MISSING_CONTINUE_URI","internal-error"),(0,tt.Z)(Gn,"INVALID_PASSWORD","wrong-password"),(0,tt.Z)(Gn,"MISSING_PASSWORD","internal-error"),(0,tt.Z)(Gn,"EMAIL_EXISTS","email-already-in-use"),(0,tt.Z)(Gn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,tt.Z)(Gn,"INVALID_IDP_RESPONSE","invalid-credential"),(0,tt.Z)(Gn,"INVALID_PENDING_TOKEN","invalid-credential"),(0,tt.Z)(Gn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,tt.Z)(Gn,"MISSING_REQ_TYPE","internal-error"),(0,tt.Z)(Gn,"EMAIL_NOT_FOUND","user-not-found"),(0,tt.Z)(Gn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,tt.Z)(Gn,"EXPIRED_OOB_CODE","expired-action-code"),(0,tt.Z)(Gn,"INVALID_OOB_CODE","invalid-action-code"),(0,tt.Z)(Gn,"MISSING_OOB_CODE","internal-error"),(0,tt.Z)(Gn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,tt.Z)(Gn,"INVALID_ID_TOKEN","invalid-user-token"),(0,tt.Z)(Gn,"TOKEN_EXPIRED","user-token-expired"),(0,tt.Z)(Gn,"USER_NOT_FOUND","user-token-expired"),(0,tt.Z)(Gn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,tt.Z)(Gn,"INVALID_CODE","invalid-verification-code"),(0,tt.Z)(Gn,"INVALID_SESSION_INFO","invalid-verification-id"),(0,tt.Z)(Gn,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,tt.Z)(Gn,"MISSING_SESSION_INFO","missing-verification-id"),(0,tt.Z)(Gn,"SESSION_EXPIRED","code-expired"),(0,tt.Z)(Gn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,tt.Z)(Gn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,tt.Z)(Gn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,tt.Z)(Gn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,tt.Z)(Gn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,tt.Z)(Gn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,tt.Z)(Gn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,tt.Z)(Gn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,tt.Z)(Gn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,tt.Z)(Gn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,tt.Z)(Gn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Gn),Nr=new Er(3e4,6e4);function Ar(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Rr(e,t,n,r){return Pr.apply(this,arguments)}function Pr(){return Pr=ge(be().mark((function e(t,n,r,i){var a,o=arguments;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Or(t,a,ge(be().mark((function e(){var a,o,s,u;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Ut(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Tr.fetch()(Mr(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}function Or(e,t,n){return Dr.apply(this,arguments)}function Dr(){return Dr=ge(be().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Cr),n),e.prev=2,a=new Ur(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Fr(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=(0,ye.Z)(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Fr(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw Fr(t,"email-already-in-use",s);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw pr(t,d,h);case 30:hr(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Rt)){e.next=37;break}throw e.t0;case 37:hr(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Dr.apply(this,arguments)}function Lr(e,t,n,r){return jr.apply(this,arguments)}function jr(){return jr=ge(be().mark((function e(t,n,r,i){var a,o,s=arguments;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Rr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&hr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}function Mr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Sr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ur=function(){function e(t){var n=this;nt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(dr(n.auth,"network-request-failed"))}),Nr.get())}))}return it(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Fr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=dr(e,t,r);return i.customData._tokenResponse=n,i}function Vr(e,t){return Br.apply(this,arguments)}function Br(){return Br=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Br.apply(this,arguments)}function zr(e,t){return qr.apply(this,arguments)}function qr(){return qr=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),qr.apply(this,arguments)}function Zr(e,t){return Wr.apply(this,arguments)}function Wr(){return Wr=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Wr.apply(this,arguments)}function Hr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Kr(){return Kr=ge(be().mark((function e(t){var n,r,i,a,o,s,u=arguments;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Zt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,gr((a=Qr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Hr(Gr(a.auth_time)),issuedAtTime:Hr(Gr(a.iat)),expirationTime:Hr(Gr(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Kr.apply(this,arguments)}function Gr(e){return 1e3*Number(e)}function Qr(e){var t=e.split("."),n=(0,ye.Z)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return fr("JWT malformed, contained fewer than 3 sections"),null;try{var o=kt(i);return o?JSON.parse(o):(fr("Failed to decode base64 JWT payload"),null)}catch(s){return fr("Caught error parsing JWT payload as JSON",s),null}}function Yr(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=ge(be().mark((function e(t,n){var r=arguments;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Rt&&$r(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Jr.apply(this,arguments)}function $r(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Xr=function(){function e(t){nt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return it(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ge(be().mark((function t(){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ei=function(){function e(t,n){nt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return it(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Hr(this.lastLoginAt),this.creationTime=Hr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ti(e){return ni.apply(this,arguments)}function ni(){return ni=ge(be().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Yr(t,Zr(r,{idToken:i}));case 6:gr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?ai(o.providerUserInfo):[],u=ii(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ei(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ni.apply(this,arguments)}function ri(){return(ri=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zt(t),e.next=3,ti(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ii(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,Wt.Z)(n),(0,Wt.Z)(t))}function ai(e){return e.map((function(e){var t=e.providerId,n=Kn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function oi(e,t){return si.apply(this,arguments)}function si(){return si=ge(be().mark((function e(t,n){var r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Or(t,{},ge(be().mark((function e(){var r,i,a,o,s,u;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ut({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Mr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Tr.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),si.apply(this,arguments)}var ui=function(){function e(){nt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return it(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){gr(e.idToken,"internal-error"),gr("undefined"!==typeof e.idToken,"internal-error"),gr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Qr(e);return gr(t,"internal-error"),gr("undefined"!==typeof t.exp,"internal-error"),gr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ge(be().mark((function e(t){var n,r=arguments;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],gr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ge(be().mark((function e(t,n){var r,i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return yr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(gr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(gr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(gr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ci(e,t){gr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var li=function(){function e(t){nt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Kn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,Wt.Z)(a.providerData):[],this.metadata=new ei(a.createdAt||void 0,a.lastLoginAt||void 0)}return it(e,[{key:"getIdToken",value:function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(gr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Kr.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ri.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(gr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){gr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ge(be().mark((function e(t){var n,r,i=arguments;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ti(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Yr(this,Vr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;gr(k&&x,t,"internal-error");var I=ui.fromJSON(this.name,x);gr("string"===typeof k,t,"internal-error"),ci(f,t.name),ci(h,t.name),gr("boolean"===typeof b,t,"internal-error"),gr("boolean"===typeof w,t,"internal-error"),ci(d,t.name),ci(p,t.name),ci(v,t.name),ci(m,t.name),ci(g,t.name),ci(y,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=ge(be().mark((function t(n,r){var i,a,o,s=arguments;return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new ui).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ti(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),fi=function(){function e(){nt(this,e),this.type="NONE",this.storage={}}return it(e,[{key:"_isAvailable",value:function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();fi.type="NONE";var hi=fi;function di(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var pi=function(){function e(t,n,r){nt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=di(this.userKey,a.apiKey,o),this.fullPersistenceKey=di("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return it(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?li._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ge(be().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(wr(hi),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||wr(hi),s=di(i,n.config.apiKey,n.name),u=null,c=ot(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=li._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function vi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ki(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wi(t))return"Blackberry";if(_i(t))return"Webos";if(gi(t))return"Safari";if((t.includes("chrome/")||yi(t))&&!t.includes("edge/"))return"Chrome";if(bi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/firefox\//i.test(e)}function gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/crios\//i.test(e)}function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/iemobile/i.test(e)}function bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/android/i.test(e)}function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/blackberry/i.test(e)}function _i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/webos/i.test(e)}function xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/iphone|ipad|ipod/i.test(e)}function Ii(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return xi(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ei(){return Nt()&&10===document.documentMode}function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return xi(e)||bi(e)||_i(e)||wi(e)||/windows phone/i.test(e)||ki(e)}function Ti(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=vi(It());break;case"Worker":t="".concat(vi(It()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Sn,"/").concat(r)}var Ci=function(){function e(t,n){nt(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ai(this),this.idTokenSubscription=new Ai(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return it(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=wr(t)),this._initializationPromise=this.queue(ge(be().mark((function r(){var i,a;return be().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,pi.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ge(be().mark((function e(t){var n,r,i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return gr(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ti(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Zt(t):null)&&gr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ge(be().mark((function e(t){var n=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&gr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ge(be().mark((function n(){return be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(wr(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Pt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ge(be().mark((function e(t,n){var r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return gr(n=t&&wr(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,pi.create(this,[wr(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ge(be().mark((function e(t){var n,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ge(be().mark((function e(t){var n=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return gr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return gr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ti(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,tt.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ni(e){return Zt(e)}var Ai=function(){function e(t){var n=this;nt(this,e),this.auth=t,this.observer=null,this.addObserver=Bt((function(e){return n.observer=e}))}return it(e,[{key:"next",get:function(){return gr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ri(e,t,n){var r=Ni(e);gr(r._canInitEmulator,r,"emulator-config-failed"),gr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Pi(t),o=function(e){var t=Pi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Oi(r.substr(a.length+1))}}var o=r.split(":"),s=(0,ye.Z)(o,2);return{host:s[0],port:Oi(s[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Pi(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Oi(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Di=function(){function e(t,n){nt(this,e),this.providerId=t,this.signInMethod=n}return it(e,[{key:"toJSON",value:function(){return yr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return yr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return yr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return yr("not implemented")}}]),e}();function Li(e,t){return ji.apply(this,arguments)}function ji(){return ji=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rr(t,"POST","/v1/accounts:resetPassword",Ar(t,n)));case 1:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}function Mi(e,t){return Ui.apply(this,arguments)}function Ui(){return Ui=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}function Fi(e,t){return Vi.apply(this,arguments)}function Vi(){return Vi=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rr(t,"POST","/v1/accounts:update",Ar(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vi.apply(this,arguments)}function Bi(e,t){return zi.apply(this,arguments)}function zi(){return zi=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithPassword",Ar(t,n)));case 1:case"end":return e.stop()}}),e)}))),zi.apply(this,arguments)}function qi(e,t){return Zi.apply(this,arguments)}function Zi(){return Zi=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rr(t,"POST","/v1/accounts:sendOobCode",Ar(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zi.apply(this,arguments)}function Wi(e,t){return Hi.apply(this,arguments)}function Hi(){return Hi=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qi(t,n));case 1:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}function Ki(e,t){return Gi.apply(this,arguments)}function Gi(){return Gi=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qi(t,n));case 1:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}function Qi(e,t){return Yi.apply(this,arguments)}function Yi(){return Yi=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qi(t,n));case 1:case"end":return e.stop()}}),e)}))),Yi.apply(this,arguments)}function Ji(e,t){return $i.apply(this,arguments)}function $i(){return $i=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qi(t,n));case 1:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}function Xi(e,t){return ea.apply(this,arguments)}function ea(){return ea=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,n)));case 1:case"end":return e.stop()}}),e)}))),ea.apply(this,arguments)}function ta(e,t){return na.apply(this,arguments)}function na(){return na=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithEmailLink",Ar(t,n)));case 1:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}var ra=function(e){ut(n,e);var t=dt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return nt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return it(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Bi(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Xi(t,{email:this._email,oobCode:this._password}));case 5:hr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Mi(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ta(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:hr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Di);function ia(e,t){return aa.apply(this,arguments)}function aa(){return aa=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithIdp",Ar(t,n)));case 1:case"end":return e.stop()}}),e)}))),aa.apply(this,arguments)}var oa=function(e){ut(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return it(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ia(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ia(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ut(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Kn(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Di);function sa(e,t){return ua.apply(this,arguments)}function ua(){return ua=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rr(t,"POST","/v1/accounts:sendVerificationCode",Ar(t,n)));case 1:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function ca(){return ca=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithPhoneNumber",Ar(t,n)));case 1:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}function la(){return la=ge(be().mark((function e(t,n){var r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lr(t,"POST","/v1/accounts:signInWithPhoneNumber",Ar(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Fr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}var fa=(0,tt.Z)({},"USER_NOT_FOUND","user-not-found");function ha(){return ha=ge(be().mark((function e(t,n){var r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithPhoneNumber",Ar(t,r),fa));case 2:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}var da=function(e){ut(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return it(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ca.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return la.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ha.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Di);var pa=function(){function e(t){var n,r,i,a,o,s;nt(this,e);var u=Ft(Vt(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);gr(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return it(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ft(Vt(e)).link,n=t?Ft(Vt(t)).deep_link_id:null,r=Ft(Vt(e)).deep_link_id;return(r?Ft(Vt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Nx){return null}}}]),e}();var va=function(){function e(){nt(this,e),this.providerId=e.PROVIDER_ID}return it(e,null,[{key:"credential",value:function(e,t){return ra._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=pa.parseLink(t);return gr(n,"argument-error"),ra._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();va.PROVIDER_ID="password",va.EMAIL_PASSWORD_SIGN_IN_METHOD="password",va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ma=function(){function e(t){nt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return it(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ga=function(e){ut(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return it(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,Wt.Z)(this.scopes)}}]),n}(ma),ya=function(e){ut(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return it(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return gr(e.idToken||e.accessToken,"argument-error"),oa._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return gr("providerId"in t&&"signInMethod"in t,"argument-error"),oa._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(ga),ka=function(e){ut(n,e);var t=dt(n);function n(){return nt(this,n),t.call(this,"facebook.com")}return it(n,null,[{key:"credential",value:function(e){return oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Nx){return null}}}]),n}(ga);ka.FACEBOOK_SIGN_IN_METHOD="facebook.com",ka.PROVIDER_ID="facebook.com";var ba=function(e){ut(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return it(n,null,[{key:"credential",value:function(e,t){return oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Nx){return null}}}]),n}(ga);ba.GOOGLE_SIGN_IN_METHOD="google.com",ba.PROVIDER_ID="google.com";var wa=function(e){ut(n,e);var t=dt(n);function n(){return nt(this,n),t.call(this,"github.com")}return it(n,null,[{key:"credential",value:function(e){return oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Nx){return null}}}]),n}(ga);wa.GITHUB_SIGN_IN_METHOD="github.com",wa.PROVIDER_ID="github.com";var _a=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return it(n,[{key:"_getIdTokenResponse",value:function(e){return ia(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ia(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Di),xa=function(e){ut(n,e);var t=dt(n);function n(e){return nt(this,n),gr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return it(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=_a.fromJSON(e);return gr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return _a._create(r,n)}catch(i){return null}}}]),n}(ma),Ia=function(e){ut(n,e);var t=dt(n);function n(){return nt(this,n),t.call(this,"twitter.com")}return it(n,null,[{key:"credential",value:function(e,t){return oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Nx){return null}}}]),n}(ga);function Ea(e,t){return Sa.apply(this,arguments)}function Sa(){return Sa=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signUp",Ar(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sa.apply(this,arguments)}Ia.TWITTER_SIGN_IN_METHOD="twitter.com",Ia.PROVIDER_ID="twitter.com";var Ta=function(){function e(t){nt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return it(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ge(be().mark((function t(n,r,i){var a,o,s,u,c=arguments;return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,li._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Ca(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ge(be().mark((function t(n,r,i){var a;return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ca(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ca(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Na(){return Na=ge(be().mark((function e(t){var n,r,i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ni(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ta({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ea(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ta._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}var Aa=function(e){ut(n,e);var t=dt(n);function n(e,r,i,a){var o,s;return nt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(st(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return it(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Rt);function Ra(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Aa._fromErrorAndOperation(e,n,t,r);throw n}))}function Pa(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Oa(e,t){return Da.apply(this,arguments)}function Da(){return Da=ge(be().mark((function e(t,n){var r,i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zt(t),e.next=3,Ma(!0,r,n);case 3:return e.t0=zr,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Pa(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}function La(e,t){return ja.apply(this,arguments)}function ja(){return ja=ge(be().mark((function e(t,n){var r,i,a=arguments;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Yr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ta._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}function Ma(e,t,n){return Ua.apply(this,arguments)}function Ua(){return(Ua=ge(be().mark((function e(t,n,r){var i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ti(n);case 2:i=Pa(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",gr(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fa(e,t){return Va.apply(this,arguments)}function Va(){return Va=ge(be().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Yr(t,Ra(i,a,n,t),r);case 6:return gr((o=e.sent).idToken,i,"internal-error"),gr(s=Qr(o.idToken),i,"internal-error"),u=s.sub,gr(t.uid===u,i,"user-mismatch"),e.abrupt("return",Ta._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&hr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Va.apply(this,arguments)}function Ba(e,t){return za.apply(this,arguments)}function za(){return za=ge(be().mark((function e(t,n){var r,i,a,o,s=arguments;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Ra(t,i,n);case 4:return a=e.sent,e.next=7,Ta._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function qa(e,t){return Za.apply(this,arguments)}function Za(){return Za=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ba(Ni(t),n));case 1:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function Wa(e,t){return Ha.apply(this,arguments)}function Ha(){return(Ha=ge(be().mark((function e(t,n){var r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zt(t),e.next=3,Ma(!1,r,n.providerId);case 3:return e.abrupt("return",La(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ka(e,t){return Ga.apply(this,arguments)}function Ga(){return(Ga=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa(Zt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qa(e,t){return Ya.apply(this,arguments)}function Ya(){return Ya=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lr(t,"POST","/v1/accounts:signInWithCustomToken",Ar(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}function Ja(){return Ja=ge(be().mark((function e(t,n){var r,i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ni(t),e.next=3,Qa(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ta._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}var $a=function(){function e(t,n){nt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return it(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Xa._fromServerResponse(e,t):hr(e,"internal-error")}}]),e}(),Xa=function(e){ut(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return it(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}($a);function eo(e,t,n){var r;gr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),gr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(gr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(gr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function to(){return to=ge(be().mark((function e(t,n,r){var i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zt(t),a={requestType:"PASSWORD_RESET",email:n},r&&eo(i,a,r),e.next=5,Ki(i,a);case 5:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}function no(){return no=ge(be().mark((function e(t,n,r){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(Zt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),no.apply(this,arguments)}function ro(){return ro=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fi(Zt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}function io(e,t){return ao.apply(this,arguments)}function ao(){return ao=ge(be().mark((function e(t,n){var r,i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zt(t),e.next=3,Li(r,{oobCode:n});case 3:i=e.sent,gr(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return gr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:gr(i.mfaInfo,r,"internal-error");case 13:gr(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=$a._fromServerResponse(Ni(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function oo(){return oo=ge(be().mark((function e(t,n){var r,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,io(Zt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}function so(e,t,n){return uo.apply(this,arguments)}function uo(){return uo=ge(be().mark((function e(t,n,r){var i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ni(t),e.next=3,Ea(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ta._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function co(){return co=ge(be().mark((function e(t,n,r){var i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zt(t),a={requestType:"EMAIL_SIGNIN",email:n},gr(r.handleCodeInApp,i,"argument-error"),r&&eo(i,a,r),e.next=6,Qi(i,a);case 6:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}function lo(){return lo=ge(be().mark((function e(t,n,r){var i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zt(t),gr((a=va.credentialWithLink(n,r||_r()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",qa(i,a));case 4:case"end":return e.stop()}}),e)}))),lo.apply(this,arguments)}function fo(e,t){return ho.apply(this,arguments)}function ho(){return ho=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rr(t,"POST","/v1/accounts:createAuthUri",Ar(t,n)));case 1:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}function po(){return po=ge(be().mark((function e(t,n){var r,i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xr()?_r():"http://localhost",i={identifier:n,continueUri:r},e.next=4,fo(Zt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}function vo(){return(vo=ge(be().mark((function e(t,n){var r,i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&eo(r.auth,a,n),e.next=8,Wi(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mo(){return(mo=ge(be().mark((function e(t,n,r){var i,a,o,s;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&eo(i.auth,o,r),e.next=8,Ji(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function go(e,t){return yo.apply(this,arguments)}function yo(){return yo=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function ko(){return(ko=ge(be().mark((function e(t,n){var r,i,a,o,s,u,c;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Zt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Yr(a,go(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bo(e,t,n){return wo.apply(this,arguments)}function wo(){return wo=ge(be().mark((function e(t,n,r){var i,a,o,s;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Yr(t,Mi(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}var _o=it((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),xo=function(e){ut(n,e);var t=dt(n);function n(e,r,i,a){var o;return nt(this,n),(o=t.call(this,e,r,i)).username=a,o}return it(n)}(_o),Io=function(e){ut(n,e);var t=dt(n);function n(e,r){return nt(this,n),t.call(this,e,"facebook.com",r)}return it(n)}(_o),Eo=function(e){ut(n,e);var t=dt(n);function n(e,r){return nt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return it(n)}(xo),So=function(e){ut(n,e);var t=dt(n);function n(e,r){return nt(this,n),t.call(this,e,"google.com",r)}return it(n)}(_o),To=function(e){ut(n,e);var t=dt(n);function n(e,r,i){return nt(this,n),t.call(this,e,"twitter.com",r,i)}return it(n)}(xo);function Co(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Qr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new _o(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Io(a,i);case"github.com":return new Eo(a,i);case"google.com":return new So(a,i);case"twitter.com":return new To(a,i,e.screenName||null);case"custom":case"anonymous":return new _o(a,null);default:return new _o(a,r,i)}}(n)}var No=function(){function e(t,n){nt(this,e),this.type=t,this.credential=n}return it(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,tt.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ao=function(){function e(t,n,r){nt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return it(e,[{key:"resolveSignIn",value:function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ni(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return $a._fromServerResponse(r,e)}));gr(i.mfaPendingCredential,r,"internal-error");var o=No._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ge(be().mark((function e(t){var a,s,u;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ta._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return gr(n.user,r,"internal-error"),e.abrupt("return",Ta._forOperation(n.user,n.operationType,s));case 17:hr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ro(e,t){return Rr(e,"POST","/v2/accounts/mfaEnrollment:start",Ar(e,t))}function Po(e,t){return Rr(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ar(e,t))}var Oo=function(){function e(t){var n=this;nt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return $a._fromServerResponse(t.auth,e)})))}))}return it(e,[{key:"getSession",value:function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=No,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ge(be().mark((function e(t,n){var r,i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Yr(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ge(be().mark((function e(t){var n,r,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Yr(this.user,Po(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Do=new WeakMap;var Lo="__sak",jo=function(){function e(t,n){nt(this,e),this.storageRetriever=t,this.type=n}return it(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Lo,"1"),this.storage.removeItem(Lo),Promise.resolve(!0)):Promise.resolve(!1)}catch(Nx){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Mo=function(e){ut(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=It();return gi(e)||xi(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Si(),e._shouldAllowMigration=!0,e}return it(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ei()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ge(be().mark((function e(t,r){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(ct(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ge(be().mark((function e(t){var r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(ct(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(ct(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(jo);Mo.type="LOCAL";var Uo=Mo,Fo=function(e){ut(n,e);var t=dt(n);function n(){return nt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return it(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(jo);Fo.type="SESSION";var Vo=Fo;function Bo(e){return Promise.all(e.map(function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var zo=function(){function e(t){nt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return it(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ge(be().mark((function e(t){var n,r,i,a,o,s,u,c;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Bo(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function qo(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}zo.receivers=[];var Zo=function(){function e(t){nt(this,e),this.target=t,this.handlers=new Set}return it(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ge(be().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=qo("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Wo(){return window}function Ho(){return"undefined"!==typeof Wo().WorkerGlobalScope&&"function"===typeof Wo().importScripts}function Ko(){return Go.apply(this,arguments)}function Go(){return(Go=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Qo(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Yo="firebaseLocalStorageDb",Jo="firebaseLocalStorage",$o="fbase_key",Xo=function(){function e(t){nt(this,e),this.request=t}return it(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function es(e,t){return e.transaction([Jo],t?"readwrite":"readonly").objectStore(Jo)}function ts(){var e=indexedDB.deleteDatabase(Yo);return new Xo(e).toPromise()}function ns(){var e=indexedDB.open(Yo,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Jo,{keyPath:$o})}catch(r){n(r)}})),e.addEventListener("success",ge(be().mark((function n(){var r;return be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Jo)){n.next=12;break}return r.close(),n.next=5,ts();case 5:return n.t0=t,n.next=8,ns();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function rs(e,t,n){return is.apply(this,arguments)}function is(){return is=ge(be().mark((function e(t,n,r){var i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=es(t,!0).put((i={},(0,tt.Z)(i,$o,n),(0,tt.Z)(i,"value",r),i)),e.abrupt("return",new Xo(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}function as(e,t){return os.apply(this,arguments)}function os(){return os=ge(be().mark((function e(t,n){var r,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=es(t,!1).get(n),e.next=3,new Xo(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function ss(e,t){var n=es(e,!0).delete(t);return new Xo(n).toPromise()}var us=function(){function e(){nt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return it(e,[{key:"_openDb",value:function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ns();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ge(be().mark((function e(t){var n,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ho()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ge(be().mark((function e(){var t=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=zo._getInstance(Ho()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ge(be().mark((function e(n,r){var i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ge(be().mark((function e(){var t,n,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ko();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Zo(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Qo()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ns();case 5:return t=e.sent,e.next=8,rs(t,Lo,"1");case 8:return e.next=10,ss(t,Lo);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ge(be().mark((function e(t,n){var r=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return rs(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return as(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ge(be().mark((function e(t){var n=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ss(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ge(be().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=es(e,!1).getAll();return new Xo(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ot(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ge(be().mark((function t(){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();us.type="LOCAL";var cs=us;function ls(e,t){return Rr(e,"POST","/v2/accounts/mfaSignIn:start",Ar(e,t))}function fs(e){return hs.apply(this,arguments)}function hs(){return hs=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}function ds(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=dr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ps(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var vs=1e12,ms=function(){function e(t){nt(this,e),this.auth=t,this.counter=vs,this._widgets=new Map}return it(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new gs(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||vs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||vs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ge(be().mark((function e(t){var n,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||vs,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gs=function(){function e(t,n,r){var i=this;nt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;gr(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return it(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ys=ps("rcb"),ks=new Er(3e4,6e4),bs="https://www.google.com/recaptcha/api.js?",ws=function(){function e(){nt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Wo().grecaptcha}return it(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return gr(_s(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Wo().grecaptcha):new Promise((function(r,i){var a=Wo().setTimeout((function(){i(dr(e,"network-request-failed"))}),ks.get());Wo()[ys]=function(){Wo().clearTimeout(a),delete Wo()[ys];var o=Wo().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(dr(e,"internal-error"))},ds("".concat(bs,"?").concat(Ut({onload:ys,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(dr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Wo().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function _s(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var xs=function(){function e(){nt(this,e)}return it(e,[{key:"load",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ms(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Is="recaptcha",Es={theme:"light",type:"image"},Ss=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Es),r=arguments.length>2?arguments[2]:void 0;nt(this,e),this.parameters=n,this.type=Is,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ni(r),this.isInvisible="invisible"===this.parameters.size,gr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;gr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xs:new ws,this.validateStartingState()}return it(e,[{key:"verify",value:function(){var e=ge(be().mark((function e(){var t,n,r,i=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){gr(!this.parameters.sitekey,this.auth,"argument-error"),gr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),gr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Wo()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){gr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ge(be().mark((function e(){var t,n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gr(xr()&&!Ho(),this.auth,"internal-error"),e.next=3,Ts();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,fs(this.auth);case 8:gr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return gr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ts(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Cs=function(){function e(t,n){nt(this,e),this.verificationId=t,this.onConfirmation=n}return it(e,[{key:"confirm",value:function(e){var t=da._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ns(){return Ns=ge(be().mark((function e(t,n,r){var i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ni(t),e.next=3,Os(i,n,Zt(r));case 3:return a=e.sent,e.abrupt("return",new Cs(a,(function(e){return qa(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}function As(e,t,n){return Rs.apply(this,arguments)}function Rs(){return(Rs=ge(be().mark((function e(t,n,r){var i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zt(t),e.next=3,Ma(!1,i,"phone");case 3:return e.next=5,Os(i.auth,n,Zt(r));case 5:return a=e.sent,e.abrupt("return",new Cs(a,(function(e){return Wa(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ps(){return(Ps=ge(be().mark((function e(t,n,r){var i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zt(t),e.next=3,Os(i.auth,n,Zt(r));case 3:return a=e.sent,e.abrupt("return",new Cs(a,(function(e){return Ka(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Os(e,t,n){return Ds.apply(this,arguments)}function Ds(){return Ds=ge(be().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,gr("string"===typeof a,t,"argument-error"),gr(r.type===Is,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return gr("enroll"===s.type,t,"internal-error"),e.next=13,Ro(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return gr("signin"===s.type,t,"internal-error"),gr(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ls(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,sa(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ds.apply(this,arguments)}function Ls(){return(Ls=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La(Zt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var js=function(){function e(t){nt(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ni(t)}return it(e,[{key:"verifyPhoneNumber",value:function(e,t){return Os(this.auth,e,Zt(t))}}],[{key:"credential",value:function(e,t){return da._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?da._fromTokenResponse(n,r):null}}]),e}();function Ms(e,t){return t?wr(t):(gr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}js.PROVIDER_ID="phone",js.PHONE_SIGN_IN_METHOD="phone";var Us=function(e){ut(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return it(n,[{key:"_getIdTokenResponse",value:function(e){return ia(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ia(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ia(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Di);function Fs(e){return Ba(e.auth,new Us(e),e.bypassAuthState)}function Vs(e){var t=e.auth,n=e.user;return gr(n,t,"internal-error"),Fa(n,new Us(e),e.bypassAuthState)}function Bs(e){return zs.apply(this,arguments)}function zs(){return zs=ge(be().mark((function e(t){var n,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,gr(r=t.user,n,"internal-error"),e.abrupt("return",La(r,new Us(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),zs.apply(this,arguments)}var qs=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];nt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return it(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ge(be().mark((function t(n,r){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ge(be().mark((function e(t){var n,r,i,a,o,s,u;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fs;case"linkViaPopup":case"linkViaRedirect":return Bs;case"reauthViaPopup":case"reauthViaRedirect":return Vs;default:hr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Zs=new Er(2e3,1e4);function Ws(e,t,n){return Hs.apply(this,arguments)}function Hs(){return Hs=ge(be().mark((function e(t,n,r){var i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ni(t),vr(t,n,ma),a=Ms(i,r),o=new Ys(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}function Ks(){return(Ks=ge(be().mark((function e(t,n,r){var i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vr((i=Zt(t)).auth,n,ma),a=Ms(i.auth,r),o=new Ys(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(e,t,n){return Qs.apply(this,arguments)}function Qs(){return(Qs=ge(be().mark((function e(t,n,r){var i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vr((i=Zt(t)).auth,n,ma),a=Ms(i.auth,r),o=new Ys(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ys=function(e){ut(n,e);var t=dt(n);function n(e,r,i,a,o){var s;return nt(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=st(s),s}return it(n,[{key:"executeNotNull",value:function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return gr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ge(be().mark((function e(){var t,n=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kr(1===this.filter.length,"Popup operations only handle one event"),t=qo(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(dr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(dr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(dr(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Zs.get())}()}}]),n}(qs);Ys.currentPopupAction=null;var Js=new Map,$s=function(e){ut(n,e);var t=dt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return nt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return it(n,[{key:"execute",value:function(){var e=ge(be().mark((function e(){var t,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Js.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Xs(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Hn(ct(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Js.set(this.auth._key(),t);case 21:return this.bypassAuthState||Js.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ge(be().mark((function e(t){var r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Hn(ct(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Hn(ct(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(qs);function Xs(e,t){return eu.apply(this,arguments)}function eu(){return eu=ge(be().mark((function e(t,n){var r,i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=iu(n),i=ru(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t){return nu.apply(this,arguments)}function nu(){return nu=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ru(t)._set(iu(n),"true"));case 1:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}function ru(e){return wr(e._redirectPersistence)}function iu(e){return di("pendingRedirect",e.config.apiKey,e.name)}function au(e,t,n){return function(e,t,n){return ou.apply(this,arguments)}(e,t,n)}function ou(){return ou=ge(be().mark((function e(t,n,r){var i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ni(t),vr(t,n,ma),a=Ms(i,r),e.next=5,tu(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function su(e,t,n){return function(e,t,n){return uu.apply(this,arguments)}(e,t,n)}function uu(){return(uu=ge(be().mark((function e(t,n,r){var i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vr((i=Zt(t)).auth,n,ma),a=Ms(i.auth,r),e.next=5,tu(a,i.auth);case 5:return e.next=7,vu(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cu(e,t,n){return function(e,t,n){return lu.apply(this,arguments)}(e,t,n)}function lu(){return(lu=ge(be().mark((function e(t,n,r){var i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vr((i=Zt(t)).auth,n,ma),a=Ms(i.auth,r),e.next=5,Ma(!1,i,n.providerId);case 5:return e.next=7,tu(a,i.auth);case 7:return e.next=9,vu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return hu=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ni(t)._initializationPromise;case 2:return e.abrupt("return",du(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(e,t){return pu.apply(this,arguments)}function pu(){return pu=ge(be().mark((function e(t,n){var r,i,a,o,s,u=arguments;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Ni(t),a=Ms(i,n),o=new $s(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}function vu(e){return mu.apply(this,arguments)}function mu(){return(mu=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qo("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gu=function(){function e(t){nt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return it(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ku(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ku(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(dr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yu(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(yu(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function yu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ku(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function bu(e){return wu.apply(this,arguments)}function wu(){return wu=ge(be().mark((function e(t){var n,r=arguments;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Rr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}var _u=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xu=/^https?/;function Iu(){return Iu=ge(be().mark((function e(t){var n,r,i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,bu(t);case 4:n=e.sent,r=n.authorizedDomains,i=ot(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Eu(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:hr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Iu.apply(this,arguments)}function Eu(e){var t=_r(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!xu.test(r))return!1;if(_u.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Su=new Er(3e4,6e4);function Tu(){var e=Wo().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,Wt.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Cu=null;function Nu(e){return Cu=Cu||function(e){return new Promise((function(t,n){var r,i,a;function o(){Tu(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Tu(),n(dr(e,"network-request-failed"))},timeout:Su.get()})}if(null===(i=null===(r=Wo().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Wo().gapi)||void 0===a?void 0:a.load)){var s=ps("iframefcb");return Wo()[s]=function(){gapi.load?o():n(dr(e,"network-request-failed"))},ds("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Cu=null,e}))}(e),Cu}var Au=new Er(5e3,15e3),Ru={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ou(e){var t=e.config;gr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Sr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Sn},i=Pu.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ut(r).slice(1))}function Du(e){return Lu.apply(this,arguments)}function Lu(){return Lu=ge(be().mark((function e(t){var n,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu(t);case 2:return n=e.sent,gr(r=Wo().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ou(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ru,dontclear:!0},(function(e){return new Promise(function(){var n=ge(be().mark((function n(r,i){var a,o,s;return be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Wo().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=dr(t,"network-request-failed"),o=Wo().setTimeout((function(){i(a)}),Au.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Lu.apply(this,arguments)}var ju={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mu="_blank",Uu="http://localhost",Fu=function(){function e(t){nt(this,e),this.window=t,this.associatedEvent=null}return it(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Vu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},ju),{width:r.toString(),height:i.toString(),top:a,left:o}),c=It().toLowerCase();n&&(s=yi(c)?Mu:n),mi(c)&&(t=t||Uu,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=(0,ye.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ii(c)&&"_self"!==s)return Bu(t||"",s),new Fu(null);var f=window.open(t||"",s,l);gr(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Fu(f)}function Bu(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var zu="__/auth/handler",qu="emulator/auth/handler";function Zu(e,t,n,r,i,a){gr(e.config.authDomain,e,"auth-domain-config-required"),gr(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Sn,eventId:i};if(t instanceof ma){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=(0,ye.Z)(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof ga){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(zu);return Sr(t,qu)}(e),"?").concat(Ut(d).slice(1))}var Wu="webStorageSupport",Hu=function(){function e(){nt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vo,this._completeRedirectFn=du}return it(e,[{key:"_openPopup",value:function(){var e=ge(be().mark((function e(t,n,r,i){var a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Zu(t,n,r,_r(),i),e.abrupt("return",Vu(t,o,qo()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ge(be().mark((function e(t,n,r,i){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Zu(t,n,r,_r(),i),Wo().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(kr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ge(be().mark((function e(t){var n,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Du(t);case 2:return n=e.sent,r=new gu(t),n.register("authEvent",(function(e){return gr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Wu,{type:Wu},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),hr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Iu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Si()||gi()||xi()}}]),e}(),Ku=Hu,Gu=function(){function e(t){nt(this,e),this.factorId=t}return it(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return yr("unexpected MultiFactorSessionType")}}}]),e}(),Qu=function(e){ut(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this,"phone")).credential=e,r}return it(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Rr(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ar(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Rr(e,"POST","/v2/accounts/mfaSignIn:finalize",Ar(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Gu),Yu=function(){function e(){nt(this,e)}return it(e,null,[{key:"assertion",value:function(e){return Qu._fromCredential(e)}}]),e}();Yu.FACTOR_ID="phone";var Ju,$u="@firebase/auth",Xu="0.19.8",ec=function(){function e(t){nt(this,e),this.auth=t,this.internalListeners=new Map}return it(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){gr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function tc(){return window}Ju="Browser",gn(new Ht("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){gr(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),gr(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Ju,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ti(Ju)},r=new Ci(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),gn(new Ht("auth-internal",(function(e){return function(e){return new ec(e)}(Ni(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Pn($u,Xu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ju)),Pn($u,Xu,"esm2017");function nc(e,t,n){return rc.apply(this,arguments)}function rc(){return rc=ge(be().mark((function e(t,n,r){var i,a,o,s,u;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=tc(),o=a.BuildInfo,kr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,cc(n.sessionId);case 4:return s=e.sent,u={},xi()?u.ibi=o.packageName:bi()?u.apn=o.packageName:hr(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Zu(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}function ic(){return ic=ge(be().mark((function e(t){var n,r,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tc(),r=n.BuildInfo,i={},xi()?i.iosBundleId=r.packageName:bi()?i.androidPackageName=r.packageName:hr(t,"operation-not-supported-in-this-environment"),e.next=5,bu(t,i);case 5:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}function ac(e){var t=tc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function oc(e,t,n){return sc.apply(this,arguments)}function sc(){return sc=ge(be().mark((function e(t,n,r){var i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tc(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(dr(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),bi()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),sc.apply(this,arguments)}function uc(e){var t,n,r,i,a,o,s,u,c,l,f=tc();gr("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),gr("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),gr("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gr("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gr("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function cc(e){return lc.apply(this,arguments)}function lc(){return(lc=ge(be().mark((function e(t){var n,r,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fc(e){if(kr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var hc=function(e){ut(n,e);var t=dt(n);function n(){var e;return nt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return it(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Hn(ct(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(gu);function dc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:yc(),postBody:null,tenantId:e.tenantId,error:dr(e,"no-auth-event")}}function pc(e,t){return kc()._set(bc(e),t)}function vc(e){return mc.apply(this,arguments)}function mc(){return mc=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kc()._get(bc(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,kc()._remove(bc(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}function gc(e,t){var n,r,i=function(e){var t=wc(e),n=t.link?decodeURIComponent(t.link):void 0,r=wc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return wc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=wc(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?dr(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function yc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function kc(){return wr(Uo)}function bc(e){return di("authEvent",e.config.apiKey,e.name)}function wc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,zn.Z)(t)||(0,qn.Z)(t)||(0,at.Z)(t)||(0,Zn.Z)());r[0];return Ft(r.slice(1).join("?"))}var _c=function(){function e(){nt(this,e),this._redirectPersistence=Vo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=du}return it(e,[{key:"_initialize",value:function(){var e=ge(be().mark((function e(t){var n,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new hc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){hr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ge(be().mark((function e(t,n,r,i){var a,o,s,u;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Js.clear(),e.next=10,this._originValidation(t);case 10:return o=dc(t,r,i),e.next=13,pc(t,o);case 13:return e.next=15,nc(t,o,n);case 15:return s=e.sent,e.next=18,ac(s);case 18:return u=e.sent,e.abrupt("return",oc(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ic.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=tc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ge(be().mark((function n(){return be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vc(e);case 2:t.onEvent(Ic());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=ge(be().mark((function n(r){var i,a;return be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,vc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=gc(i,r.url)),t.onEvent(a||Ic());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");tc().handleOpenURL=function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),xc=_c;function Ic(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:dr("no-auth-event")}}function Ec(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Sc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return!("file:"!==Ec()&&"ionic:"!==Ec()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tc(){return Nt()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Cc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return/Edge\/\d+/.test(e)}function Nc(){try{var e=self.localStorage,t=qo();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();return Tc()||Cc(e)}()||At()}catch(n){return Ac()&&At()}return!1}function Ac(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Rc(){return("http:"===Ec()||"https:"===Ec()||Tt()||Sc())&&!(Ct()||St())&&Nc()&&!Ac()}function Pc(){return Sc()&&"undefined"!==typeof document}function Oc(){return Dc.apply(this,arguments)}function Dc(){return(Dc=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pc()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lc={LOCAL:"local",NONE:"none",SESSION:"session"},jc=gr,Mc="persistence";function Uc(e,t){jc(Object.values(Lc).includes(t),e,"invalid-persistence-type"),Ct()?jc(t!==Lc.SESSION,e,"unsupported-persistence-type"):St()?jc(t===Lc.NONE,e,"unsupported-persistence-type"):Ac()?jc(t===Lc.NONE||t===Lc.LOCAL&&At(),e,"unsupported-persistence-type"):jc(t===Lc.NONE||Nc(),e,"unsupported-persistence-type")}function Fc(e){return Vc.apply(this,arguments)}function Vc(){return Vc=ge(be().mark((function e(t){var n,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Bc(),r=di(Mc,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}function Bc(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var zc=gr,qc=function(){function e(){nt(this,e),this.browserResolver=wr(Ku),this.cordovaResolver=wr(xc),this.underlyingResolver=null,this._redirectPersistence=Vo,this._completeRedirectFn=du}return it(e,[{key:"_initialize",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ge(be().mark((function e(t,n,r,i){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ge(be().mark((function e(t,n,r,i){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Pc()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return zc(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Oc();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Zc(e){return e.unwrap()}function Wc(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Yc(e,function(e,t){var n,r=Zt(e),i=t;return gr(t.customData.operationType,r,"argument-error"),gr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ao._fromError(r,i)}(e,t));else if(r){var i=Hc(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Hc(e){var t=(e instanceof Rt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Rt)&&"temporaryProof"in t&&"phoneNumber"in t)return js.credentialFromResult(e);var n,r=t.providerId;if(!r||r===$n)return null;switch(r){case Jn:n=ba;break;case Qn:n=ka;break;case Yn:n=wa;break;case Xn:n=Ia;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?_a._create(r,s):oa._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new ya(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Rt?n.credentialFromError(e):n.credentialFromResult(e)}function Kc(e,t){return t.catch((function(t){throw t instanceof Rt&&Wc(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Hc(t)),additionalUserInfo:Co(e),user:Jc.getOrCreate(r)}}))}function Gc(e,t){return Qc.apply(this,arguments)}function Qc(){return Qc=ge(be().mark((function e(t,n){var r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Kc(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}var Yc=function(){function e(t,n){nt(this,e),this.resolver=n,this.auth=t.wrapped()}return it(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Kc(Zc(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Jc=function(){function e(t){nt(this,e),this._delegate=t,this.multiFactor=function(e){var t=Zt(e);return Do.has(t)||Do.set(t,Oo._fromUser(t)),Do.get(t)}(t)}return it(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(this.auth,Wa(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gc(this.auth,As(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(this.auth,Gs(this._delegate,t,qc)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fc(Ni(this.auth));case 2:return e.abrupt("return",cu(this._delegate,t,qc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(this.auth,Ka(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Gc(this.auth,function(e,t,n){return Ps.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Kc(this.auth,function(e,t,n){return Ks.apply(this,arguments)}(this._delegate,e,qc))}},{key:"reauthenticateWithRedirect",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fc(Ni(this.auth));case 2:return e.abrupt("return",su(this._delegate,t,qc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return vo.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return bo(Zt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return bo(Zt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Ls.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ko.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return mo.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Jc.USER_MAP=new WeakMap;var $c=gr,Xc=function(){function e(t,n){if(nt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;$c(r,"invalid-api-key",{appName:t.name}),$c(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?qc:void 0;this._delegate=n.initialize({options:{persistence:tl(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(sr),this.linkUnderlyingAuth()}return it(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Jc.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Ri(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ro.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return io(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return no.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc(this._delegate,so(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return po.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=pa.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $c(Rc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,fu(this._delegate,qc);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Kc(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ni(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=el(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=el(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return co.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return to.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ge(be().mark((function e(t){var n,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Uc(this._delegate,t),e.t0=t,e.next=e.t0===Lc.SESSION?4:e.t0===Lc.LOCAL?6:e.t0===Lc.NONE?11:13;break;case 4:return n=Vo,e.abrupt("break",14);case 6:return e.next=8,wr(cs)._isAvailable();case 8:return r=e.sent,n=r?cs:Uo,e.abrupt("break",14);case 11:return n=hi,e.abrupt("break",14);case 13:return e.abrupt("return",hr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Kc(this._delegate,function(e){return Na.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Kc(this._delegate,qa(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Kc(this._delegate,function(e,t){return Ja.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Kc(this._delegate,function(e,t,n){return qa(Zt(e),va.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Kc(this._delegate,function(e,t,n){return lo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Gc(this._delegate,function(e,t,n){return Ns.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $c(Rc(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Kc(this._delegate,Ws(this._delegate,t,qc)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $c(Rc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Fc(this._delegate);case 3:return e.abrupt("return",au(this._delegate,t,qc));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return oo.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function el(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Jc.getOrCreate(e))},error:t,complete:n}}function tl(e,t){var n=function(e,t){var n=Bc();if(!n)return[];var r=di(Mc,e,t);switch(n.getItem(r)){case Lc.NONE:return[hi];case Lc.LOCAL:return[cs,Vo];case Lc.SESSION:return[Vo];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(cs)||n.push(cs),"undefined"!==typeof window)for(var r=0,i=[Uo,Vo];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(hi)||n.push(hi),n}Xc.Persistence=Lc;var nl=function(){function e(){nt(this,e),this.providerId="phone",this._delegate=new js(Zc(Bn.auth()))}return it(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return js.credential(e,t)}}]),e}();nl.PHONE_SIGN_IN_METHOD=js.PHONE_SIGN_IN_METHOD,nl.PROVIDER_ID=js.PROVIDER_ID;var rl,il=gr,al=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bn.app();nt(this,e),il(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ss(t,n,i.auth()),this.type=this._delegate.type}return it(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(rl=Bn).INTERNAL.registerComponent(new Ht("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Xc(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:er,PASSWORD_RESET:tr,RECOVER_EMAIL:nr,REVERT_SECOND_FACTOR_ADDITION:rr,VERIFY_AND_CHANGE_EMAIL:ir,VERIFY_EMAIL:ar}},EmailAuthProvider:va,FacebookAuthProvider:ka,GithubAuthProvider:wa,GoogleAuthProvider:ba,OAuthProvider:ya,SAMLAuthProvider:xa,PhoneAuthProvider:nl,PhoneMultiFactorGenerator:Yu,RecaptchaVerifier:al,TwitterAuthProvider:Ia,Auth:Xc,AuthCredential:Di,Error:Rt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),rl.registerVersion("@firebase/auth-compat","0.2.8");var ol,sl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ul={},cl=cl||{},ll=sl||self;function fl(){}function hl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function dl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var pl="closure_uid_"+(1e9*Math.random()>>>0),vl=0;function ml(e,t,n){return e.call.apply(e.bind,arguments)}function gl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function yl(e,t,n){return(yl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ml:gl).apply(null,arguments)}function kl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function bl(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function wl(){this.s=this.s,this.o=this.o}var _l={};wl.prototype.s=!1,wl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,pl)&&e[pl]||(e[pl]=++vl)}(this);delete _l[e]}},wl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var xl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Il=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function El(e){return Array.prototype.concat.apply([],arguments)}function Sl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Tl(e){return/^[\s\xa0]*$/.test(e)}var Cl,Nl=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Al(e,t){return-1!=e.indexOf(t)}function Rl(e,t){return e<t?-1:e>t?1:0}e:{var Pl=ll.navigator;if(Pl){var Ol=Pl.userAgent;if(Ol){Cl=Ol;break e}}Cl=""}function Dl(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ll(e){var t={};for(var n in e)t[n]=e[n];return t}var jl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ml(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<jl.length;a++)n=jl[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ul(e){return Ul[" "](e),e}Ul[" "]=fl;var Fl,Vl=Al(Cl,"Opera"),Bl=Al(Cl,"Trident")||Al(Cl,"MSIE"),zl=Al(Cl,"Edge"),ql=zl||Bl,Zl=Al(Cl,"Gecko")&&!(Al(Cl.toLowerCase(),"webkit")&&!Al(Cl,"Edge"))&&!(Al(Cl,"Trident")||Al(Cl,"MSIE"))&&!Al(Cl,"Edge"),Wl=Al(Cl.toLowerCase(),"webkit")&&!Al(Cl,"Edge");function Hl(){var e=ll.document;return e?e.documentMode:void 0}e:{var Kl="",Gl=function(){var e=Cl;return Zl?/rv:([^\);]+)(\)|;)/.exec(e):zl?/Edge\/([\d\.]+)/.exec(e):Bl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Wl?/WebKit\/(\S+)/.exec(e):Vl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Gl&&(Kl=Gl?Gl[1]:""),Bl){var Ql=Hl();if(null!=Ql&&Ql>parseFloat(Kl)){Fl=String(Ql);break e}}Fl=Kl}var Yl,Jl={};function $l(){return function(e){var t=Jl;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Nl(String(Fl)).split("."),n=Nl("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Rl(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Rl(0==a[2].length,0==o[2].length)||Rl(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ll.document&&Bl){var Xl=Hl();Yl=Xl||(parseInt(Fl,10)||void 0)}else Yl=void 0;var ef=Yl,tf=function(){if(!ll.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ll.addEventListener("test",fl,t),ll.removeEventListener("test",fl,t)}catch(n){}return e}();function nf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function rf(e,t){if(nf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Zl){e:{try{Ul(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:af[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&rf.Z.h.call(this)}}nf.prototype.h=function(){this.defaultPrevented=!0},bl(rf,nf);var af={2:"touch",3:"pen",4:"mouse"};rf.prototype.h=function(){rf.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var of="closure_listenable_"+(1e6*Math.random()|0),sf=0;function uf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++sf,this.ca=this.fa=!1}function cf(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function lf(e){this.src=e,this.g={},this.h=0}function ff(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=xl(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(cf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function hf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}lf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=hf(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new uf(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var df="closure_lm_"+(1e6*Math.random()|0),pf={};function vf(e,t,n,r,i){if(r&&r.once)return gf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)vf(e,t[a],n,r,i);return null}return n=If(n),e&&e[of]?e.N(t,n,dl(r)?!!r.capture:!!r,i):mf(e,t,n,!1,r,i)}function mf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=dl(i)?!!i.capture:!!i,s=_f(e);if(s||(e[df]=s=new lf(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=wf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)tf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(bf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function gf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)gf(e,t[a],n,r,i);return null}return n=If(n),e&&e[of]?e.O(t,n,dl(r)?!!r.capture:!!r,i):mf(e,t,n,!0,r,i)}function yf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)yf(e,t[a],n,r,i);else r=dl(r)?!!r.capture:!!r,n=If(n),e&&e[of]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=hf(a=e.g[t],n,r,i))&&(cf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=_f(e))&&(t=e.g[t.toString()],e=-1,t&&(e=hf(t,n,r,i)),(n=-1<e?t[e]:null)&&kf(n))}function kf(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[of])ff(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(bf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_f(t))?(ff(n,e),0==n.h&&(n.src=null,t[df]=null)):cf(e)}}}function bf(e){return e in pf?pf[e]:pf[e]="on"+e}function wf(e,t){if(e.ca)e=!0;else{t=new rf(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&kf(e),e=n.call(r,t)}return e}function _f(e){return(e=e[df])instanceof lf?e:null}var xf="__closure_events_fn_"+(1e9*Math.random()>>>0);function If(e){return"function"===typeof e?e:(e[xf]||(e[xf]=function(t){return e.handleEvent(t)}),e[xf])}function Ef(){wl.call(this),this.i=new lf(this),this.P=this,this.I=null}function Sf(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new nf(t,e);else if(t instanceof nf)t.target=t.target||e;else{var i=t;Ml(t=new nf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Tf(o,r,!0,t)&&i}if(i=Tf(o=t.g=e,r,!0,t)&&i,i=Tf(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Tf(o=t.g=n[a],r,!1,t)&&i}function Tf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&ff(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}bl(Ef,wl),Ef.prototype[of]=!0,Ef.prototype.removeEventListener=function(e,t,n,r){yf(this,e,t,n,r)},Ef.prototype.M=function(){if(Ef.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)cf(n[r]);delete t.g[e],t.h--}}this.I=null},Ef.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ef.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Cf=ll.JSON.stringify;function Nf(){var e=Mf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Af,Rf=function(){function e(){nt(this,e),this.h=this.g=null}return it(e,[{key:"add",value:function(e,t){var n=Pf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Pf=new(function(){function e(t,n){nt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return it(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Of}),(function(e){return e.reset()})),Of=function(){function e(){nt(this,e),this.next=this.g=this.h=null}return it(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Df(e){ll.setTimeout((function(){throw e}),0)}function Lf(e,t){Af||function(){var e=ll.Promise.resolve(void 0);Af=function(){e.then(Uf)}}(),jf||(Af(),jf=!0),Mf.add(e,t)}var jf=!1,Mf=new Rf;function Uf(){for(var e;e=Nf();){try{e.h.call(e.g)}catch(n){Df(n)}var t=Pf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}jf=!1}function Ff(e,t){Ef.call(this),this.h=e||1,this.g=t||ll,this.j=yl(this.kb,this),this.l=Date.now()}function Vf(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Bf(e,t,n){if("function"===typeof e)n&&(e=yl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=yl(e.handleEvent,e)}return 2147483647<Number(t)?-1:ll.setTimeout(e,t||0)}function zf(e){e.g=Bf((function(){e.g=null,e.i&&(e.i=!1,zf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}bl(Ff,Ef),(ol=Ff.prototype).da=!1,ol.S=null,ol.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Sf(this,"tick"),this.da&&(Vf(this),this.start()))}},ol.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ol.M=function(){Ff.Z.M.call(this),Vf(this),delete this.g};var qf=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return it(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:zf(this)}},{key:"M",value:function(){Hn(ct(n.prototype),"M",this).call(this),this.g&&(ll.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(wl);function Zf(e){wl.call(this),this.h=e,this.g={}}bl(Zf,wl);var Wf=[];function Hf(e,t,n,r){Array.isArray(n)||(n&&(Wf[0]=n.toString()),n=Wf);for(var i=0;i<n.length;i++){var a=vf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Kf(e){Dl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&kf(e)}),e),e.g={}}function Gf(){this.g=!0}function Qf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Cf(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Zf.prototype.M=function(){Zf.Z.M.call(this),Kf(this)},Zf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gf.prototype.Aa=function(){this.g=!1},Gf.prototype.info=function(){};var Yf={},Jf=null;function $f(){return Jf=Jf||new Ef}function Xf(e){nf.call(this,Yf.Ma,e)}function eh(e){var t=$f();Sf(t,new Xf(t,e))}function th(e,t){nf.call(this,Yf.STAT_EVENT,e),this.stat=t}function nh(e){var t=$f();Sf(t,new th(t,e))}function rh(e,t){nf.call(this,Yf.Na,e),this.size=t}function ih(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ll.setTimeout((function(){e()}),t)}Yf.Ma="serverreachability",bl(Xf,nf),Yf.STAT_EVENT="statevent",bl(th,nf),Yf.Na="timingevent",bl(rh,nf);var ah={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},oh={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sh(){}function uh(e){return e.h||(e.h=e.i())}function ch(){}sh.prototype.h=null;var lh,fh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function hh(){nf.call(this,"d")}function dh(){nf.call(this,"c")}function ph(){}function vh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Zf(this),this.P=gh,e=ql?125:void 0,this.W=new Ff(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mh}function mh(){this.i=null,this.g="",this.h=!1}bl(hh,nf),bl(dh,nf),bl(ph,sh),ph.prototype.g=function(){return new XMLHttpRequest},ph.prototype.i=function(){return{}},lh=new ph;var gh=45e3,yh={},kh={};function bh(e,t,n){e.K=1,e.v=qh(Mh(t)),e.s=n,e.U=!0,wh(e,null)}function wh(e,t){e.F=Date.now(),Eh(e),e.A=Mh(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),nd(n.h,"t",r),e.C=0,n=e.l.H,e.h=new mh,e.g=ip(e.l,n?t:null,!e.s),0<e.O&&(e.L=new qf(yl(e.Ia,e,e.g),e.O)),Hf(e.V,e.g,"readystatechange",e.gb),t=e.H?Ll(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),eh(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function _h(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function xh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ih(e,n))==kh){4==t&&(e.o=4,nh(14),i=!1),Qf(e.j,e.m,null,"[Incomplete Response]");break}if(r==yh){e.o=4,nh(15),Qf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Qf(e.j,e.m,r,null),Ah(e,r)}_h(e)&&r!=kh&&r!=yh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,nh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yd(t),t.L=!0,nh(11))):(Qf(e.j,e.m,n,"[Invalid Chunked Response]"),Nh(e),Ch(e))}function Ih(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?kh:(n=Number(t.substring(n,r)),isNaN(n)?yh:(r+=1)+n>t.length?kh:(t=t.substr(r,n),e.C=r+n,t))}function Eh(e){e.Y=Date.now()+e.P,Sh(e,e.P)}function Sh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ih(yl(e.eb,e),t)}function Th(e){e.B&&(ll.clearTimeout(e.B),e.B=null)}function Ch(e){0==e.l.G||e.I||Xd(e.l,e)}function Nh(e){Th(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Vf(e.W),Kf(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ah(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ld(n.i,e)))if(n.I=e.N,!e.J&&ld(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;$d(n),Bd(n)}Qd(n),nh(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ih(yl(n.ab,n),6e3));if(1>=cd(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else tp(n,11)}else if((e.J||n.g==e)&&$d(n),!Tl(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Al(l,"spdy")||Al(l,"quic")||Al(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(fd(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,zh(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=rp(r,r.H?r.la:null,r.W),d.J){hd(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Th(p),Eh(p)),r.g=d}else Gd(r);0<n.l.length&&Zd(n)}else"stop"!=a[0]&&"close"!=a[0]||tp(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?tp(n,7):Vd(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}eh(4)}catch(a){}}function Rh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(hl(e)||"string"===typeof e)Il(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(hl(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(hl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Ph(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ph)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Oh(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Dh(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Dh(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Dh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ol=vh.prototype).setTimeout=function(e){this.P=e},ol.gb=function(e){e=e.target;var t=this.L;t&&3==Ld(e)?t.l():this.Ia(e)},ol.Ia=function(e){try{if(e==this.g)e:{var t=Ld(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||ql||this.g&&(this.h.h||this.g.ga()||jd(this.g)))){this.I||4!=t||7==n||eh(8==n||0>=r?3:2),Th(this);var i=this.g.ba();this.N=i;t:if(_h(this)){var a=jd(this.g);e="";var o=a.length,s=4==Ld(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Nh(this),Ch(this);var u="";break t}this.h.i=new ll.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tl(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,nh(12),Nh(this),Ch(this);break e}Qf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ah(this,i)}this.U?(xh(this,t,u),ql&&this.i&&3==t&&(Hf(this.V,this.W,"tick",this.fb),this.W.start())):(Qf(this.j,this.m,u,null),Ah(this,u)),4==t&&Nh(this),this.i&&!this.I&&(4==t?Xd(this.l,this):(this.i=!1,Eh(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,nh(12)):(this.o=0,nh(13)),Nh(this),Ch(this)}}}catch(t){}},ol.fb=function(){if(this.g){var e=Ld(this.g),t=this.g.ga();this.C<t.length&&(Th(this),xh(this,e,t),this.i&&4!=e&&Eh(this))}},ol.cancel=function(){this.I=!0,Nh(this)},ol.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(eh(3),nh(17)),Nh(this),this.o=2,Ch(this)):Sh(this,this.Y-e)},(ol=Ph.prototype).R=function(){Oh(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ol.T=function(){return Oh(this),this.g.concat()},ol.get=function(e,t){return Dh(this.h,e)?this.h[e]:t},ol.set=function(e,t){Dh(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ol.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Lh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jh(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof jh){this.g=void 0!==t?t:e.g,Uh(this,e.j),this.s=e.s,Fh(this,e.i),Vh(this,e.m),this.l=e.l,t=e.h;var n=new $h;n.i=t.i,t.g&&(n.g=new Ph(t.g),n.h=t.h),Bh(this,n),this.o=e.o}else e&&(n=String(e).match(Lh))?(this.g=!!t,Uh(this,n[1]||"",!0),this.s=Zh(n[2]||""),Fh(this,n[3]||"",!0),Vh(this,n[4]),this.l=Zh(n[5]||"",!0),Bh(this,n[6]||"",!0),this.o=Zh(n[7]||"")):(this.g=!!t,this.h=new $h(null,this.g))}function Mh(e){return new jh(e)}function Uh(e,t,n){e.j=n?Zh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Fh(e,t,n){e.i=n?Zh(t,!0):t}function Vh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Bh(e,t,n){t instanceof $h?(e.h=t,function(e,t){t&&!e.j&&(Xh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ed(this,t),nd(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Wh(t,Yh)),e.h=new $h(t,e.g))}function zh(e,t,n){e.h.set(t,n)}function qh(e){return zh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Zh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Wh(t,Kh,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Wh(t,Kh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wh(n,"/"==n.charAt(0)?Qh:Gh,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Wh(n,Jh)),e.join("")};var Kh=/[#\/\?@]/g,Gh=/[#\?:]/g,Qh=/[#\?]/g,Yh=/[#\?@]/g,Jh=/#/g;function $h(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xh(e){e.g||(e.g=new Ph,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ed(e,t){Xh(e),t=rd(e,t),Dh(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Dh((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Oh(e)))}function td(e,t){return Xh(e),t=rd(e,t),Dh(e.g.h,t)}function nd(e,t,n){ed(e,t),0<n.length&&(e.i=null,e.g.set(rd(e,t),Sl(n)),e.h+=n.length)}function rd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ol=$h.prototype).add=function(e,t){Xh(this),this.i=null,e=rd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ol.forEach=function(e,t){Xh(this),this.g.forEach((function(n,r){Il(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ol.T=function(){Xh(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ol.R=function(e){Xh(this);var t=[];if("string"===typeof e)td(this,e)&&(t=El(t,this.g.get(rd(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=El(t,e[n])}return t},ol.set=function(e,t){return Xh(this),this.i=null,td(this,e=rd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ol.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ol.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var id=it((function e(t,n){nt(this,e),this.h=t,this.g=n}));function ad(e){this.l=e||sd,ll.PerformanceNavigationTiming?e=0<(e=ll.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ll.g&&ll.g.Ea&&ll.g.Ea()&&ll.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var od,sd=10;function ud(e){return!!e.h||!!e.g&&e.g.size>=e.j}function cd(e){return e.h?1:e.g?e.g.size:0}function ld(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function fd(e,t){e.g?e.g.add(t):e.h=t}function hd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function dd(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ot(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Sl(e.i)}function pd(){}function vd(){this.g=new pd}function md(e,t,n){var r=n||"";try{Rh(e,(function(e,n){var i=e;dl(e)&&(i=Cf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function gd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function yd(e){this.l=e.$b||null,this.j=e.ib||!1}function kd(e,t){Ef.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=bd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ad.prototype.cancel=function(){if(this.i=dd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ot(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},pd.prototype.stringify=function(e){return ll.JSON.stringify(e,void 0)},pd.prototype.parse=function(e){return ll.JSON.parse(e,void 0)},bl(yd,sh),yd.prototype.g=function(){return new kd(this.l,this.j)},yd.prototype.i=(od={},function(){return od}),bl(kd,Ef);var bd=0;function wd(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function _d(e){e.readyState=4,e.l=null,e.j=null,e.A=null,xd(e)}function xd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ol=kd.prototype).open=function(e,t){if(this.readyState!=bd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,xd(this)},ol.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ll).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ol.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_d(this)),this.readyState=bd},ol.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xd(this)),this.g&&(this.readyState=3,xd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ll.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wd(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ol.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_d(this):xd(this),3==this.readyState&&wd(this)}},ol.Ua=function(e){this.g&&(this.response=this.responseText=e,_d(this))},ol.Ta=function(e){this.g&&(this.response=e,_d(this))},ol.ha=function(){this.g&&_d(this)},ol.setRequestHeader=function(e,t){this.v.append(e,t)},ol.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ol.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Id=ll.JSON.parse;function Ed(e){Ef.call(this),this.headers=new Ph,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Sd,this.K=this.L=!1}bl(Ed,Ef);var Sd="",Td=/^https?$/i,Cd=["POST","PUT"];function Nd(e){return"content-type"==e.toLowerCase()}function Ad(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rd(e),Od(e)}function Rd(e){e.D||(e.D=!0,Sf(e,"complete"),Sf(e,"error"))}function Pd(e){if(e.h&&"undefined"!=typeof cl&&(!e.C[1]||4!=Ld(e)||2!=e.ba()))if(e.v&&4==Ld(e))Bf(e.Fa,0,e);else if(Sf(e,"readystatechange"),4==Ld(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Lh)[1]||null;if(!a&&ll.self&&ll.self.location){var o=ll.self.location.protocol;a=o.substr(0,o.length-1)}i=!Td.test(a?a.toLowerCase():"")}t=i}if(t)Sf(e,"complete"),Sf(e,"success");else{e.m=6;try{var s=2<Ld(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Rd(e)}}finally{Od(e)}}}function Od(e,t){if(e.g){Dd(e);var n=e.g,r=e.C[0]?fl:null;e.g=null,e.C=null,t||Sf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Dd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ll.clearTimeout(e.A),e.A=null)}function Ld(e){return e.g?e.g.readyState:0}function jd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Sd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Md(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Dl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):zh(e,t,n))}function Ud(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fd(e){this.za=0,this.l=[],this.h=new Gf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ud("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ud("baseRetryDelayMs",5e3,e),this.$a=Ud("retryDelaySeedMs",1e4,e),this.Ya=Ud("forwardChannelMaxRetries",2,e),this.ra=Ud("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ad(e&&e.concurrentRequestLimit),this.Ca=new vd,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Vd(e){if(zd(e),3==e.G){var t=e.V++,n=Mh(e.F);zh(n,"SID",e.J),zh(n,"RID",t),zh(n,"TYPE","terminate"),Hd(e,n),(t=new vh(e,e.h,t,void 0)).K=2,t.v=qh(Mh(n)),n=!1,ll.navigator&&ll.navigator.sendBeacon&&(n=ll.navigator.sendBeacon(t.v.toString(),"")),!n&&ll.Image&&((new Image).src=t.v,n=!0),n||(t.g=ip(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Eh(t)}np(e)}function Bd(e){e.g&&(Yd(e),e.g.cancel(),e.g=null)}function zd(e){Bd(e),e.u&&(ll.clearTimeout(e.u),e.u=null),$d(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ll.clearTimeout(e.m),e.m=null)}function qd(e,t){e.l.push(new id(e.Za++,t)),3==e.G&&Zd(e)}function Zd(e){ud(e.i)||e.m||(e.m=!0,Lf(e.Ha,e),e.C=0)}function Wd(e,t){var n;n=t?t.m:e.V++;var r=Mh(e.F);zh(r,"SID",e.J),zh(r,"RID",n),zh(r,"AID",e.U),Hd(e,r),e.o&&e.s&&Md(r,e.o,e.s),n=new vh(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Kd(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),fd(e.i,n),bh(n,r,t)}function Hd(e,t){e.j&&Rh({},(function(e,n){zh(t,n,e)}))}function Kd(e,t,n){n=Math.min(e.l.length,n);var r=e.j?yl(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{md(l,o,"req"+c+"_")}catch(Lp){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Gd(e){e.g||e.u||(e.Y=1,Lf(e.Ga,e),e.A=0)}function Qd(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ih(yl(e.Ga,e),ep(e,e.A)),e.A++,!0)}function Yd(e){null!=e.B&&(ll.clearTimeout(e.B),e.B=null)}function Jd(e){e.g=new vh(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Mh(e.oa);zh(t,"RID","rpc"),zh(t,"SID",e.J),zh(t,"CI",e.N?"0":"1"),zh(t,"AID",e.U),Hd(e,t),zh(t,"TYPE","xmlhttp"),e.o&&e.s&&Md(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=qh(Mh(t)),n.s=null,n.U=!0,wh(n,e)}function $d(e){null!=e.v&&(ll.clearTimeout(e.v),e.v=null)}function Xd(e,t){var n=null;if(e.g==t){$d(e),Yd(e),e.g=null;var r=2}else{if(!ld(e.i,t))return;n=t.D,hd(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Sf(r=$f(),new rh(r,n,t,i)),Zd(e)}else Gd(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(cd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ih(yl(e.Ha,e,t),ep(e,e.C)),e.C++,!0))}(e,t)||2==r&&Qd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:tp(e,5);break;case 4:tp(e,10);break;case 3:tp(e,6);break;default:tp(e,2)}}function ep(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function tp(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=yl(e.jb,e);n||(n=new jh("//www.google.com/images/cleardot.gif"),ll.location&&"http"==ll.location.protocol||Uh(n,"https"),qh(n)),function(e,t){var n=new Gf;if(ll.Image){var r=new Image;r.onload=kl(gd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=kl(gd,n,r,"TestLoadImage: error",!1,t),r.onabort=kl(gd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=kl(gd,n,r,"TestLoadImage: timeout",!1,t),ll.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else nh(2);e.G=0,e.j&&e.j.va(t),np(e),zd(e)}function np(e){e.G=0,e.I=-1,e.j&&(0==dd(e.i).length&&0==e.l.length||(e.i.i.length=0,Sl(e.l),e.l.length=0),e.j.ua())}function rp(e,t,n){var r=function(e){return e instanceof jh?Mh(e):new jh(e,void 0)}(n);if(""!=r.i)t&&Fh(r,t+"."+r.i),Vh(r,r.m);else{var i=ll.location;r=function(e,t,n,r){var i=new jh(null,void 0);return e&&Uh(i,e),t&&Fh(i,t),n&&Vh(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Dl(e.aa,(function(e,t){zh(r,t,e)})),t=e.D,n=e.sa,t&&n&&zh(r,t,n),zh(r,"VER",e.ma),Hd(e,r),r}function ip(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ed(new yd({ib:!0})):new Ed(e.qa)).L=e.H,t}function ap(){}function op(){if(Bl&&!(10<=Number(ef)))throw Error("Environmental error: no available transport.")}function sp(e,t){Ef.call(this),this.g=new Fd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Tl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Tl(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new lp(this)}function up(e){hh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function cp(){dh.call(this),this.status=1}function lp(e){this.g=e}(ol=Ed.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lh.g(),this.C=this.u?uh(this.u):uh(lh),this.g.onreadystatechange=yl(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Ad(this,a)}e=n||"";var i=new Ph(this.headers);r&&Rh(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Nd,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ll.FormData&&e instanceof ll.FormData,!(0<=xl(Cd,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dd(this),0<this.B&&((this.K=function(e){return Bl&&$l()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yl(this.pa,this)):this.A=Bf(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Ad(this,a)}},ol.pa=function(){"undefined"!=typeof cl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sf(this,"timeout"),this.abort(8))},ol.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Sf(this,"complete"),Sf(this,"abort"),Od(this))},ol.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Od(this,!0)),Ed.Z.M.call(this)},ol.Fa=function(){this.s||(this.F||this.v||this.l?Pd(this):this.cb())},ol.cb=function(){Pd(this)},ol.ba=function(){try{return 2<Ld(this)?this.g.status:-1}catch(od){return-1}},ol.ga=function(){try{return this.g?this.g.responseText:""}catch(od){return""}},ol.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Id(t)}},ol.Da=function(){return this.m},ol.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ol=Fd.prototype).ma=8,ol.G=1,ol.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},ol.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new vh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ml(n=Ll(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Kd(this,t,r),zh(i=Mh(this.F),"RID",e),zh(i,"CVER",22),this.D&&zh(i,"X-HTTP-Session-Id",this.D),Hd(this,i),this.o&&n&&Md(i,this.o,n),fd(this.i,t),this.Ra&&zh(i,"TYPE","init"),this.ja?(zh(i,"$req",r),zh(i,"SID","null"),t.$=!0,bh(t,i,null)):bh(t,i,r),this.G=2}}else 3==this.G&&(e?Wd(this,e):0==this.l.length||ud(this.i)||Wd(this))},ol.Ga=function(){if(this.u=null,Jd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ih(yl(this.bb,this),e)}},ol.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,nh(10),Bd(this),Jd(this))},ol.ab=function(){null!=this.v&&(this.v=null,Bd(this),Qd(this),nh(19))},ol.jb=function(e){e?(this.h.info("Successfully pinged google.com"),nh(2)):(this.h.info("Failed to ping google.com"),nh(1))},(ol=ap.prototype).xa=function(){},ol.wa=function(){},ol.va=function(){},ol.ua=function(){},ol.Oa=function(){},op.prototype.g=function(e,t){return new sp(e,t)},bl(sp,Ef),sp.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Lf(yl(e.hb,e,t))),nh(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=rp(e,null,e.W),Zd(e)},sp.prototype.close=function(){Vd(this.g)},sp.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,qd(this.g,t)}else this.v?((t={}).__data__=Cf(e),qd(this.g,t)):qd(this.g,e)},sp.prototype.M=function(){this.g.j=null,delete this.j,Vd(this.g),delete this.g,sp.Z.M.call(this)},bl(up,hh),bl(cp,dh),bl(lp,ap),lp.prototype.xa=function(){Sf(this.g,"a")},lp.prototype.wa=function(e){Sf(this.g,new up(e))},lp.prototype.va=function(e){Sf(this.g,new cp(e))},lp.prototype.ua=function(){Sf(this.g,"b")},op.prototype.createWebChannel=op.prototype.g,sp.prototype.send=sp.prototype.u,sp.prototype.open=sp.prototype.m,sp.prototype.close=sp.prototype.close,ah.NO_ERROR=0,ah.TIMEOUT=8,ah.HTTP_ERROR=6,oh.COMPLETE="complete",ch.EventType=fh,fh.OPEN="a",fh.CLOSE="b",fh.ERROR="c",fh.MESSAGE="d",Ef.prototype.listen=Ef.prototype.N,Ed.prototype.listenOnce=Ed.prototype.O,Ed.prototype.getLastError=Ed.prototype.La,Ed.prototype.getLastErrorCode=Ed.prototype.Da,Ed.prototype.getStatus=Ed.prototype.ba,Ed.prototype.getResponseJson=Ed.prototype.Qa,Ed.prototype.getResponseText=Ed.prototype.ga,Ed.prototype.send=Ed.prototype.ea;var fp=ul.createWebChannelTransport=function(){return new op},hp=ul.getStatEventTarget=function(){return $f()},dp=ul.ErrorCode=ah,pp=ul.EventType=oh,vp=ul.Event=Yf,mp=ul.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gp=ul.FetchXmlHttpFactory=yd,yp=ul.WebChannel=ch,kp=ul.XhrIo=Ed,bp="@firebase/firestore",wp=function(){function e(t){nt(this,e),this.uid=t}return it(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();wp.UNAUTHENTICATED=new wp(null),wp.GOOGLE_CREDENTIALS=new wp("google-credentials-uid"),wp.FIRST_PARTY=new wp("first-party-uid"),wp.MOCK_USER=new wp("mock-user");var _p="9.6.5",xp=new on("@firebase/firestore");function Ip(){return xp.logLevel}function Ep(e){if(xp.logLevel<=Yt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Cp);xp.debug.apply(xp,["Firestore (".concat(_p,"): ").concat(e)].concat((0,Wt.Z)(i)))}}function Sp(e){if(xp.logLevel<=Yt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Cp);xp.error.apply(xp,["Firestore (".concat(_p,"): ").concat(e)].concat((0,Wt.Z)(i)))}}function Tp(e){if(xp.logLevel<=Yt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Cp);xp.warn.apply(xp,["Firestore (".concat(_p,"): ").concat(e)].concat((0,Wt.Z)(i)))}}function Cp(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Np(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(_p,") INTERNAL ASSERTION FAILED: ")+e;throw Sp(t),new Error(t)}function Ap(e,t){e||Np()}function Rp(e,t){return e}var Pp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Op=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return it(n)}(Rt),Dp=it((function e(){var t=this;nt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Lp=it((function e(t,n){nt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),jp=function(){function e(){nt(this,e)}return it(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(wp.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Mp=function(){function e(t){nt(this,e),this.token=t,this.changeListener=null}return it(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Up=function(){function e(t){nt(this,e),this.t=t,this.currentUser=wp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return it(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Dp;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Dp,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Ep("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Ep("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Dp)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ep("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ap("string"==typeof n.accessToken),new Lp(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ap(null===e||"string"==typeof e),new wp(e)}}]),e}(),Fp=it((function e(t,n,r){nt(this,e),this.type="FirstParty",this.user=wp.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Vp=function(){function e(t,n,r){nt(this,e),this.h=t,this.l=n,this.m=r}return it(e,[{key:"getToken",value:function(){return Promise.resolve(new Fp(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(wp.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Bp=it((function e(t){nt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),zp=function(){function e(t){nt(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return it(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Ep("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Ep("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Ep("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Ap("string"==typeof e.token),new Bp(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),qp=function(){function e(t,n){var r=this;nt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return it(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Zp(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}qp.I=-1;var Wp=function(){function e(){nt(this,e)}return it(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Zp(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Hp(e,t){return e<t?-1:e>t?1:0}function Kp(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Gp(e){return e+"\0"}var Qp=function(){function e(t,n){if(nt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Op(Pp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Op(Pp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Op(Pp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Op(Pp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return it(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Hp(this.nanoseconds,e.nanoseconds):Hp(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Yp=function(){function e(t){nt(this,e),this.timestamp=t}return it(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Qp(0,0))}}]),e}();function Jp(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $p(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xp(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ev=function(){function e(t,n,r){nt(this,e),void 0===n?n=0:n>t.length&&Np(),void 0===r?r=t.length-n:r>t.length-n&&Np(),this.segments=t,this.offset=n,this.len=r}return it(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),tv=function(e){ut(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return it(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Op(Pp.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,(0,Wt.Z)(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ev),nv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rv=function(e){ut(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return it(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return nv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Op(Pp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Op(Pp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Op(Pp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Op(Pp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ev),iv=function(){function e(t){nt(this,e),this.fields=t,t.sort(rv.comparator)}return it(e,[{key:"covers",value:function(e){var t,n=ot(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Kp(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var av=function(e){function t(e){nt(this,t),this.binaryString=e}return it(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Hp(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();av.EMPTY_BYTE_STRING=new av("");var ov=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sv(e){if(Ap(!!e),"string"==typeof e){var t=0,n=ov.exec(e);if(Ap(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:uv(e.seconds),nanos:uv(e.nanos)}}function uv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function cv(e){return"string"==typeof e?av.fromBase64String(e):av.fromUint8Array(e)}function lv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fv(e){var t=e.mapValue.fields.__previous_value__;return lv(t)?fv(t):t}function hv(e){var t=sv(e.mapValue.fields.__local_write_time__.timestampValue);return new Qp(t.seconds,t.nanos)}function dv(e){return null==e}function pv(e){return 0===e&&1/e==-1/0}function vv(e){return"number"==typeof e&&Number.isInteger(e)&&!pv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var mv=function(){function e(t){nt(this,e),this.path=t}return it(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===tv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(tv.fromString(t))}},{key:"fromName",value:function(t){return new e(tv.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return tv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new tv(t.slice()))}}]),e}();function gv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?lv(e)?4:10:Np()}function yv(e,t){if(e===t)return!0;var n=gv(e);if(n!==gv(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hv(e).isEqual(hv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=sv(e.timestampValue),r=sv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return cv(e.bytesValue).isEqual(cv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return uv(e.geoPointValue.latitude)===uv(t.geoPointValue.latitude)&&uv(e.geoPointValue.longitude)===uv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return uv(e.integerValue)===uv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=uv(e.doubleValue),r=uv(t.doubleValue);return n===r?pv(n)===pv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Kp(e.arrayValue.values||[],t.arrayValue.values||[],yv);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Jp(n)!==Jp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!yv(n[i],r[i])))return!1;return!0}(e,t);default:return Np()}}function kv(e,t){return void 0!==(e.values||[]).find((function(e){return yv(e,t)}))}function bv(e,t){if(e===t)return 0;var n=gv(e),r=gv(t);if(n!==r)return Hp(n,r);switch(n){case 0:return 0;case 1:return Hp(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=uv(e.integerValue||e.doubleValue),r=uv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return wv(e.timestampValue,t.timestampValue);case 4:return wv(hv(e),hv(t));case 5:return Hp(e.stringValue,t.stringValue);case 6:return function(e,t){var n=cv(e),r=cv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Hp(n[i],r[i]);if(0!==a)return a}return Hp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Hp(uv(e.latitude),uv(t.latitude));return 0!==n?n:Hp(uv(e.longitude),uv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=bv(n[i],r[i]);if(a)return a}return Hp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Hp(r[o],a[o]);if(0!==s)return s;var u=bv(n[r[o]],i[a[o]]);if(0!==u)return u}return Hp(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Np()}}function wv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Hp(e,t);var n=sv(e),r=sv(t),i=Hp(n.seconds,r.seconds);return 0!==i?i:Hp(n.nanos,r.nanos)}function _v(e){return xv(e)}function xv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=sv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?cv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,mv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ot(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=xv(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ot(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(xv(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Np();var t,n}function Iv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ev(e){return!!e&&"integerValue"in e}function Sv(e){return!!e&&"arrayValue"in e}function Tv(e){return!!e&&"nullValue"in e}function Cv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Nv(e){return!!e&&"mapValue"in e}function Av(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return $p(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Av(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Av(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Rv=function(){function e(t){nt(this,e),this.value=t}return it(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Nv(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Av(t)}},{key:"setAll",value:function(e){var t=this,n=rv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Av(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Nv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return yv(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Nv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){$p(t,(function(t,n){return e[t]=n}));var r,i=ot(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Av(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Pv(e){var t=[];return $p(e.fields,(function(e,n){var r=new rv([e]);if(Nv(n)){var i=Pv(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ot(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new iv(t)}var Ov=function(){function e(t,n,r,i,a){nt(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return it(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Rv.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Rv.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Yp.min(),Rv.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Rv.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Rv.empty(),2)}}]),e}(),Dv=it((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;nt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function Lv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Dv(e,t,n,r,i,a,o)}function jv(e){var t=Rp(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+_v(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),dv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Qv(t.startAt)),t.endAt&&(n+="|ub:",n+=Qv(t.endAt)),t.R=n}return t.R}function Mv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Jv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!yv(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Xv(e.startAt,t.startAt)&&Xv(e.endAt,t.endAt)}function Uv(e){return mv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Fv=function(e){ut(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return it(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(bv(t,this.value)):null!==t&&gv(this.value)===gv(t)&&this.v(bv(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Np()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Vv(e,t,r):"array-contains"===t?new Zv(e,r):"in"===t?new Wv(e,r):"not-in"===t?new Hv(e,r):"array-contains-any"===t?new Kv(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new Bv(e,n):new zv(e,n)}}]),n}(function(){return it((function e(){nt(this,e)}))}());var Vv=function(e){ut(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),(a=t.call(this,e,r,i)).key=mv.fromName(i.referenceValue),a}return it(n,[{key:"matches",value:function(e){var t=mv.comparator(e.key,this.key);return this.v(t)}}]),n}(Fv),Bv=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e,"in",r)).keys=qv("in",r),i}return it(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Fv),zv=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e,"not-in",r)).keys=qv("not-in",r),i}return it(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Fv);function qv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return mv.fromName(e.referenceValue)}))}var Zv=function(e){ut(n,e);var t=dt(n);function n(e,r){return nt(this,n),t.call(this,e,"array-contains",r)}return it(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Sv(t)&&kv(t.arrayValue,this.value)}}]),n}(Fv),Wv=function(e){ut(n,e);var t=dt(n);function n(e,r){return nt(this,n),t.call(this,e,"in",r)}return it(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&kv(this.value.arrayValue,t)}}]),n}(Fv),Hv=function(e){ut(n,e);var t=dt(n);function n(e,r){return nt(this,n),t.call(this,e,"not-in",r)}return it(n,[{key:"matches",value:function(e){if(kv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!kv(this.value.arrayValue,t)}}]),n}(Fv),Kv=function(e){ut(n,e);var t=dt(n);function n(e,r){return nt(this,n),t.call(this,e,"array-contains-any",r)}return it(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Sv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return kv(t.value.arrayValue,e)}))}}]),n}(Fv),Gv=it((function e(t,n){nt(this,e),this.position=t,this.before=n}));function Qv(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return _v(e)})).join(","))}var Yv=it((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";nt(this,e),this.field=t,this.dir=n}));function Jv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function $v(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?mv.comparator(mv.fromName(o.referenceValue),n.key):bv(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Xv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!yv(e.position[n],t.position[n]))return!1;return!0}var em=it((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;nt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function tm(e,t,n,r,i,a,o,s){return new em(e,t,n,r,i,a,o,s)}function nm(e){return new em(e)}function rm(e){return!dv(e.limit)&&"F"===e.limitType}function im(e){return!dv(e.limit)&&"L"===e.limitType}function am(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function om(e){var t,n=ot(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function sm(e){return null!==e.collectionGroup}function um(e){var t=Rp(e);if(null===t.S){t.S=[];var n=om(t),r=am(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Yv(n)),t.S.push(new Yv(rv.keyField(),"asc"));else{var i,a=!1,o=ot(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Yv(rv.keyField(),u))}}}return t.S}function cm(e){var t=Rp(e);if(!t.D)if("F"===t.limitType)t.D=Lv(t.path,t.collectionGroup,um(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ot(um(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Yv(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Gv(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Gv(t.startAt.position,!t.startAt.before):null;t.D=Lv(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function lm(e,t,n){return new em(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fm(e,t){return Mv(cm(e),cm(t))&&e.limitType===t.limitType}function hm(e){return"".concat(jv(cm(e)),"|lt:").concat(e.limitType)}function dm(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(_v(t.value));var t})).join(", "),"]")),dv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Qv(e.startAt)),e.endAt&&(t+=", endAt: "+Qv(e.endAt)),"Target(".concat(t,")")}(cm(e)),"; limitType=").concat(e.limitType,")")}function pm(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):mv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ot(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ot(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!$v(e.startAt,um(e),t))&&(!e.endAt||!$v(e.endAt,um(e),t))}(e,t)}function vm(e){return function(t,n){var r,i=!1,a=ot(um(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=mm(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function mm(e,t,n){var r=e.field.isKeyField()?mv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?bv(r,i):Np()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Np()}}function gm(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pv(t)?"-0":t}}function ym(e){return{integerValue:""+e}}function km(e,t){return vv(t)?ym(t):gm(e,t)}var bm=it((function e(){nt(this,e),this._=void 0}));function wm(e,t,n){return e instanceof Im?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Em?Sm(e,t):e instanceof Tm?Cm(e,t):function(e,t){var n=xm(e,t),r=Am(n)+Am(e.N);return Ev(n)&&Ev(e.N)?ym(r):gm(e.k,r)}(e,t)}function _m(e,t,n){return e instanceof Em?Sm(e,t):e instanceof Tm?Cm(e,t):n}function xm(e,t){return e instanceof Nm?Ev(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Im=function(e){ut(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return it(n)}(bm),Em=function(e){ut(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).elements=e,r}return it(n)}(bm);function Sm(e,t){var n,r=Rm(t),i=ot(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return yv(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Tm=function(e){ut(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).elements=e,r}return it(n)}(bm);function Cm(e,t){var n,r=Rm(t),i=ot(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!yv(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Nm=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this)).k=e,i.N=r,i}return it(n)}(bm);function Am(e){return uv(e.integerValue||e.doubleValue)}function Rm(e){return Sv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Pm=it((function e(t,n){nt(this,e),this.field=t,this.transform=n}));var Om=it((function e(t,n){nt(this,e),this.version=t,this.transformResults=n})),Dm=function(){function e(t,n){nt(this,e),this.updateTime=t,this.exists=n}return it(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Lm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var jm=it((function e(){nt(this,e)}));function Mm(e,t,n){e instanceof zm?function(e,t,n){var r=e.value.clone(),i=Wm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof qm?function(e,t,n){if(Lm(e.precondition,t)){var r=Wm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Zm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Um(e,t,n){e instanceof zm?function(e,t,n){if(Lm(e.precondition,t)){var r=e.value.clone(),i=Hm(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Bm(t),r).setHasLocalMutations()}}(e,t,n):e instanceof qm?function(e,t,n){if(Lm(e.precondition,t)){var r=Hm(e.fieldTransforms,n,t),i=t.data;i.setAll(Zm(e)),i.setAll(r),t.convertToFoundDocument(Bm(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Lm(e.precondition,t)&&t.convertToNoDocument(Yp.min())}(e,t)}function Fm(e,t){var n,r=null,i=ot(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=xm(a.transform,o||null);null!=s&&(null==r&&(r=Rv.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Vm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Kp(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Em&&t instanceof Em||e instanceof Tm&&t instanceof Tm?Kp(e.elements,t.elements,yv):e instanceof Nm&&t instanceof Nm?yv(e.N,t.N):e instanceof Im&&t instanceof Im}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Bm(e){return e.isFoundDocument()?e.version:Yp.min()}var zm=function(e){ut(n,e);var t=dt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return nt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return it(n)}(jm),qm=function(e){ut(n,e);var t=dt(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return nt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return it(n)}(jm);function Zm(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Wm(e,t,n){var r=new Map;Ap(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,_m(o,s,n[i]))}return r}function Hm(e,t,n){var r,i=new Map,a=ot(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,wm(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Km,Gm,Qm=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return it(n)}(jm),Ym=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return it(n)}(jm),Jm=it((function e(t){nt(this,e),this.count=t}));function $m(e){switch(e){default:return Np();case Pp.CANCELLED:case Pp.UNKNOWN:case Pp.DEADLINE_EXCEEDED:case Pp.RESOURCE_EXHAUSTED:case Pp.INTERNAL:case Pp.UNAVAILABLE:case Pp.UNAUTHENTICATED:return!1;case Pp.INVALID_ARGUMENT:case Pp.NOT_FOUND:case Pp.ALREADY_EXISTS:case Pp.PERMISSION_DENIED:case Pp.FAILED_PRECONDITION:case Pp.ABORTED:case Pp.OUT_OF_RANGE:case Pp.UNIMPLEMENTED:case Pp.DATA_LOSS:return!0}}function Xm(e){if(void 0===e)return Sp("GRPC error has no .code"),Pp.UNKNOWN;switch(e){case Km.OK:return Pp.OK;case Km.CANCELLED:return Pp.CANCELLED;case Km.UNKNOWN:return Pp.UNKNOWN;case Km.DEADLINE_EXCEEDED:return Pp.DEADLINE_EXCEEDED;case Km.RESOURCE_EXHAUSTED:return Pp.RESOURCE_EXHAUSTED;case Km.INTERNAL:return Pp.INTERNAL;case Km.UNAVAILABLE:return Pp.UNAVAILABLE;case Km.UNAUTHENTICATED:return Pp.UNAUTHENTICATED;case Km.INVALID_ARGUMENT:return Pp.INVALID_ARGUMENT;case Km.NOT_FOUND:return Pp.NOT_FOUND;case Km.ALREADY_EXISTS:return Pp.ALREADY_EXISTS;case Km.PERMISSION_DENIED:return Pp.PERMISSION_DENIED;case Km.FAILED_PRECONDITION:return Pp.FAILED_PRECONDITION;case Km.ABORTED:return Pp.ABORTED;case Km.OUT_OF_RANGE:return Pp.OUT_OF_RANGE;case Km.UNIMPLEMENTED:return Pp.UNIMPLEMENTED;case Km.DATA_LOSS:return Pp.DATA_LOSS;default:return Np()}}(Gm=Km||(Km={}))[Gm.OK=0]="OK",Gm[Gm.CANCELLED=1]="CANCELLED",Gm[Gm.UNKNOWN=2]="UNKNOWN",Gm[Gm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gm[Gm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gm[Gm.NOT_FOUND=5]="NOT_FOUND",Gm[Gm.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gm[Gm.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gm[Gm.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gm[Gm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gm[Gm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gm[Gm.ABORTED=10]="ABORTED",Gm[Gm.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gm[Gm.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gm[Gm.INTERNAL=13]="INTERNAL",Gm[Gm.UNAVAILABLE=14]="UNAVAILABLE",Gm[Gm.DATA_LOSS=15]="DATA_LOSS";var eg=function(){function e(t,n){nt(this,e),this.comparator=t,this.root=n||ng.EMPTY}return it(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ng.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ng.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new tg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new tg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new tg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new tg(this.root,e,this.comparator,!0)}}]),e}(),tg=function(){function e(t,n,r,i){nt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return it(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ng=function(){function e(t,n,r,i,a){nt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return it(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Np();if(this.right.isRed())throw Np();var e=this.left.check();if(e!==this.right.check())throw Np();return e+(this.isRed()?0:1)}}]),e}();ng.EMPTY=null,ng.RED=!0,ng.BLACK=!1,ng.EMPTY=new(function(){function e(){nt(this,e),this.size=0}return it(e,[{key:"key",get:function(){throw Np()}},{key:"value",get:function(){throw Np()}},{key:"color",get:function(){throw Np()}},{key:"left",get:function(){throw Np()}},{key:"right",get:function(){throw Np()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ng(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var rg=function(){function e(t){nt(this,e),this.comparator=t,this.data=new eg(this.comparator)}return it(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ig(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ig(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ig=function(){function e(t){nt(this,e),this.iter=t}return it(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),ag=new eg(mv.comparator);function og(){return ag}var sg=new eg(mv.comparator);function ug(){return sg}var cg=new eg(mv.comparator);function lg(){return cg}var fg=new rg(mv.comparator);function hg(){for(var e=fg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var dg=new rg(Hp);function pg(){return dg}var vg=function(){function e(t,n,r,i,a){nt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return it(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,mg.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Yp.min(),r,pg(),og(),hg())}}]),e}(),mg=function(){function e(t,n,r,i,a){nt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return it(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(av.EMPTY_BYTE_STRING,n,hg(),hg(),hg())}}]),e}(),gg=it((function e(t,n,r,i){nt(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),yg=it((function e(t,n){nt(this,e),this.targetId=t,this.M=n})),kg=it((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:av.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;nt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),bg=function(){function e(){nt(this,e),this.F=0,this.L=xg(),this.B=av.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return it(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=hg(),t=hg(),n=hg();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Np()}})),new mg(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=xg()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),wg=function(){function e(t){nt(this,e),this.et=t,this.nt=new Map,this.st=og(),this.it=_g(),this.rt=new rg(Hp)}return it(e,[{key:"ot",value:function(e){var t,n=ot(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(s){n.e(s)}finally{n.f()}var i,a=ot(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Np()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(Uv(i))if(0===n){var a=new mv(i.path);this.at(t,a,Ov.newNoDocument(a,Yp.min()))}else Ap(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Uv(a.target)){var o=new mv(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,Ov.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=hg();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new vg(e,n,this.rt,this.st,r);return this.st=og(),this.it=_g(),this.rt=new rg(Hp),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new bg,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new rg(Hp),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Ep("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new bg),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function _g(){return new eg(mv.comparator)}function xg(){return new eg(mv.comparator)}var Ig={asc:"ASCENDING",desc:"DESCENDING"},Eg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sg=it((function e(t,n){nt(this,e),this.databaseId=t,this.C=n}));function Tg(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Cg(e,t){return e.C?t.toBase64():t.toUint8Array()}function Ng(e,t){return Tg(e,t.toTimestamp())}function Ag(e){return Ap(!!e),Yp.fromTimestamp(function(e){var t=sv(e);return new Qp(t.seconds,t.nanos)}(e))}function Rg(e,t){return function(e){return new tv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Pg(e){var t=tv.fromString(e);return Ap(ry(t)),t}function Og(e,t){return Rg(e.databaseId,t.path)}function Dg(e,t){var n=Pg(t);if(n.get(1)!==e.databaseId.projectId)throw new Op(Pp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Op(Pp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new mv(Ug(n))}function Lg(e,t){return Rg(e.databaseId,t)}function jg(e){var t=Pg(e);return 4===t.length?tv.emptyPath():Ug(t)}function Mg(e){return new tv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ug(e){return Ap(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Fg(e,t,n){return{name:Og(e,t),fields:n.value.mapValue.fields}}function Vg(e,t,n){var r=Dg(e,t.name),i=Ag(t.updateTime),a=new Rv({mapValue:{fields:t.fields}}),o=Ov.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Bg(e,t){return"found"in t?function(e,t){Ap(!!t.found),t.found.name,t.found.updateTime;var n=Dg(e,t.found.name),r=Ag(t.found.updateTime),i=new Rv({mapValue:{fields:t.found.fields}});return Ov.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ap(!!t.missing),Ap(!!t.readTime);var n=Dg(e,t.missing),r=Ag(t.readTime);return Ov.newNoDocument(n,r)}(e,t):Np()}function zg(e,t){var n;if(t instanceof zm)n={update:Fg(e,t.key,t.value)};else if(t instanceof Qm)n={delete:Og(e,t.key)};else if(t instanceof qm)n={update:Fg(e,t.key,t.data),updateMask:ny(t.fieldMask)};else{if(!(t instanceof Ym))return Np();n={verify:Og(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Im)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Em)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Tm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Nm)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Np()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ng(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Np()}(e,t.precondition)),n}function qg(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Dm.updateTime(Ag(e.updateTime)):void 0!==e.exists?Dm.exists(e.exists):Dm.none()}(t.currentDocument):Dm.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ap("REQUEST_TIME"===t.setToServerValue),n=new Im;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Em(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Tm(i)}else"increment"in t?n=new Nm(e,t.increment):Np();var a=rv.fromServerFormat(t.fieldPath);return new Pm(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Dg(e,t.update.name),a=new Rv({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new iv(t.map((function(e){return rv.fromServerFormat(e)})))}(t.updateMask);return new qm(i,a,o,n,r)}return new zm(i,a,n,r)}if(t.delete){var s=Dg(e,t.delete);return new Qm(s,n)}if(t.verify){var u=Dg(e,t.verify);return new Ym(u,n)}return Np()}function Zg(e,t){return{documents:[Lg(e,t.path)]}}function Wg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Lg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Lg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Cv(e.value))return{unaryFilter:{field:$g(e.field),op:"IS_NAN"}};if(Tv(e.value))return{unaryFilter:{field:$g(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Cv(e.value))return{unaryFilter:{field:$g(e.field),op:"IS_NOT_NAN"}};if(Tv(e.value))return{unaryFilter:{field:$g(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$g(e.field),op:Jg(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:$g(e.field),direction:Yg(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||dv(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Gg(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Gg(t.endAt)),n}function Hg(e){var t=jg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ap(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Kg(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Yv(Xg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return dv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Qg(n.startAt));var l=null;return n.endAt&&(l=Qg(n.endAt)),tm(t,i,s,o,u,"F",c,l)}function Kg(e){return e?void 0!==e.unaryFilter?[ty(e)]:void 0!==e.fieldFilter?[ey(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Kg(e)})).reduce((function(e,t){return e.concat(t)})):Np():[]}function Gg(e){return{before:e.before,values:e.position}}function Qg(e){var t=!!e.before,n=e.values||[];return new Gv(n,t)}function Yg(e){return Ig[e]}function Jg(e){return Eg[e]}function $g(e){return{fieldPath:e.canonicalString()}}function Xg(e){return rv.fromServerFormat(e.fieldPath)}function ey(e){return Fv.create(Xg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Np()}}(e.fieldFilter.op),e.fieldFilter.value)}function ty(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Xg(e.unaryFilter.field);return Fv.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Xg(e.unaryFilter.field);return Fv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Xg(e.unaryFilter.field);return Fv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Xg(e.unaryFilter.field);return Fv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Np()}}function ny(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ry(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function iy(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=oy(t)),t=ay(e.get(n),t);return oy(t)}function ay(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function oy(e){return e+"\x01\x01"}function sy(e){var t=e.length;if(Ap(t>=2),2===t)return Ap("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),tv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Np(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Np()}a=o+2}return new tv(r)}var uy=it((function e(t,n){nt(this,e),this.seconds=t,this.nanoseconds=n})),cy=it((function e(t,n,r){nt(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));cy.store="owner",cy.key="owner";var ly=it((function e(t,n,r){nt(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));ly.store="mutationQueues",ly.keyPath="userId";var fy=it((function e(t,n,r,i,a){nt(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));fy.store="mutations",fy.keyPath="batchId",fy.userMutationsIndex="userMutationsIndex",fy.userMutationsKeyPath=["userId","batchId"];var hy=function(){function e(){nt(this,e)}return it(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,iy(t)]}},{key:"key",value:function(e,t,n){return[e,iy(t),n]}}]),e}();hy.store="documentMutations",hy.PLACEHOLDER=new hy;var dy=it((function e(t,n){nt(this,e),this.path=t,this.readTime=n})),py=it((function e(t,n){nt(this,e),this.path=t,this.version=n})),vy=it((function e(t,n,r,i,a,o){nt(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));vy.store="remoteDocuments",vy.readTimeIndex="readTimeIndex",vy.readTimeIndexPath="readTime",vy.collectionReadTimeIndex="collectionReadTimeIndex",vy.collectionReadTimeIndexPath=["parentPath","readTime"];var my=it((function e(t){nt(this,e),this.byteSize=t}));my.store="remoteDocumentGlobal",my.key="remoteDocumentGlobalKey";var gy=it((function e(t,n,r,i,a,o,s){nt(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));gy.store="targets",gy.keyPath="targetId",gy.queryTargetsIndexName="queryTargetsIndex",gy.queryTargetsKeyPath=["canonicalId","targetId"];var yy=it((function e(t,n,r){nt(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));yy.store="targetDocuments",yy.keyPath=["targetId","path"],yy.documentTargetsIndex="documentTargetsIndex",yy.documentTargetsKeyPath=["path","targetId"];var ky=it((function e(t,n,r,i){nt(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));ky.key="targetGlobalKey",ky.store="targetGlobal";var by=it((function e(t,n){nt(this,e),this.collectionId=t,this.parent=n}));by.store="collectionParents",by.keyPath=["collectionId","parent"];var wy=it((function e(t,n,r,i){nt(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));wy.store="clientMetadata",wy.keyPath="clientId";var _y=it((function e(t,n,r){nt(this,e),this.bundleId=t,this.createTime=n,this.version=r}));_y.store="bundles",_y.keyPath="bundleId";var xy=it((function e(t,n,r){nt(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));xy.store="namedQueries",xy.keyPath="name";var Iy=[ly.store,fy.store,hy.store,vy.store,gy.store,cy.store,ky.store,yy.store].concat([wy.store]).concat([my.store]).concat([by.store]).concat([_y.store,xy.store]),Ey="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sy=function(){function e(){nt(this,e),this.onCommittedListeners=[]}return it(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Ty=function(){function e(t){var n=this;nt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return it(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Np(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ot(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Cy=function(){function e(t,n){var r=this;nt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new Dp,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Ry(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=jy(e.target.error);r.It.reject(new Ry(t,n))}}return it(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Ep("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Oy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ry(n,t)}}}]),e}(),Ny=function(){function e(t,n,r){nt(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt(It())&&Sp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return it(e,[{key:"Ct",value:function(){var e=ge(be().mark((function e(t){var n=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ep("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ry(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Op(Pp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Op(Pp.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Ry(t,n))},i.onupgradeneeded=function(e){Ep("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Ep("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ge(be().mark((function e(t,n,r,i){var a,o,s,u,c=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(be().mark((function e(){var n,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Cy.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),Ty.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,Ep("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ep("SimpleDb","Removing database:",e),Dy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if(!At())return!1;if(e.vt())return!0;var t=It(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/lifeinvader",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Ay=function(){function e(t){nt(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return it(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return Dy(this.$t.delete())}}]),e}(),Ry=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,Pp.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return it(n)}(Op);function Py(e){return"IndexedDbTransactionError"===e.name}var Oy=function(){function e(t){nt(this,e),this.store=t}return it(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ep("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ep("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Dy(n)}},{key:"add",value:function(e){return Ep("SimpleDb","ADD",this.store.name,e,e),Dy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Dy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ep("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ep("SimpleDb","DELETE",this.store.name,e),Dy(this.store.delete(e))}},{key:"count",value:function(){return Ep("SimpleDb","COUNT",this.store.name),Dy(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Ep("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new Ty((function(n,r){t.onerror=function(e){var t=jy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new Ty((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Ay(i),o=t(i.primaryKey,i.value,a);if(o instanceof Ty){var s=o.catch((function(e){return a.done(),Ty.reject(e)}));n.push(s)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return Ty.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Dy(e){return new Ty((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=jy(e.target.error);n(t)}}))}var Ly=!1;function jy(e){var t=Ny.bt(It());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Op("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ly||(Ly=!0,setTimeout((function(){throw r}),0)),r}}return e}var My=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return it(n)}(Sy);function Uy(e,t){var n=Rp(e);return Ny.Dt(n.Wt,t)}var Fy=function(){function e(t,n,r,i){nt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return it(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Mm(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=ot(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Um(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=ot(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Um(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Yp.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),hg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Kp(this.mutations,e.mutations,(function(e,t){return Vm(e,t)}))&&Kp(this.baseMutations,e.baseMutations,(function(e,t){return Vm(e,t)}))}}]),e}(),Vy=function(){function e(t,n,r,i){nt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return it(e,null,[{key:"from",value:function(t,n,r){Ap(t.mutations.length===r.length);for(var i=lg(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),By=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Yp.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Yp.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:av.EMPTY_BYTE_STRING;nt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return it(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),zy=it((function e(t){nt(this,e),this.Gt=t}));function qy(e,t){if(t.document)return Vg(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=mv.fromSegments(t.noDocument.path),r=Gy(t.noDocument.readTime),i=Ov.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=mv.fromSegments(t.unknownDocument.path),o=Gy(t.unknownDocument.version);return Ov.newUnknownDocument(a,o)}return Np()}function Zy(e,t,n){var r=Wy(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Og(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Tg(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new vy(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Ky(t.version),c=t.hasCommittedMutations;return new vy(null,new dy(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Ky(t.version);return new vy(new py(l,f),null,null,!0,r,i)}return Np()}function Wy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Hy(e){var t=new Qp(e[0],e[1]);return Yp.fromTimestamp(t)}function Ky(e){var t=e.toTimestamp();return new uy(t.seconds,t.nanoseconds)}function Gy(e){var t=new Qp(e.seconds,e.nanoseconds);return Yp.fromTimestamp(t)}function Qy(e,t){for(var n=(t.baseMutations||[]).map((function(t){return qg(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return qg(e.Gt,t)})),s=Qp.fromMillis(t.localWriteTimeMs);return new Fy(t.batchId,s,n,o)}function Yy(e){var t,n,r=Gy(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Gy(e.lastLimboFreeSnapshotVersion):Yp.min();return void 0!==e.query.documents?(Ap(1===(n=e.query).documents.length),t=cm(nm(jg(n.documents[0])))):t=function(e){return cm(Hg(e))}(e.query),new By(t,e.targetId,0,e.lastListenSequenceNumber,r,i,av.fromBase64String(e.resumeToken))}function Jy(e,t){var n,r=Ky(t.snapshotVersion),i=Ky(t.lastLimboFreeSnapshotVersion);n=Uv(t.target)?Zg(e.Gt,t.target):Wg(e.Gt,t.target);var a=t.resumeToken.toBase64();return new gy(t.targetId,jv(t.target),r,a,t.sequenceNumber,i,n)}function $y(e){var t=Hg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?lm(t,t.limit,"L"):t}var Xy=function(){function e(){nt(this,e)}return it(e,[{key:"getBundleMetadata",value:function(e,t){return ek(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Gy(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return ek(e).put({bundleId:(n=t).id,createTime:Ky(Ag(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return tk(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:$y(t.bundledQuery),readTime:Gy(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return tk(e).put(function(e){return{name:e.name,readTime:Ky(Ag(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function ek(e){return Uy(e,_y.store)}function tk(e){return Uy(e,xy.store)}var nk=function(){function e(){nt(this,e),this.zt=new rk}return it(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Ty.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ty.resolve(this.zt.getEntries(t))}}]),e}(),rk=function(){function e(){nt(this,e),this.index={}}return it(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new rg(tv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new rg(tv.comparator)).toArray()}}]),e}(),ik=function(){function e(){nt(this,e),this.Ht=new rk}return it(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:iy(i)};return ak(e).put(a)}return Ty.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Gp(t),""],!1,!0);return ak(e).Bt(r).next((function(e){var r,i=ot(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(sy(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function ak(e){return Uy(e,by.store)}var ok={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sk=function(){function e(t,n,r){nt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return it(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function uk(e,t,n){var r=e.store(fy.store),i=e.store(hy.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Ap(1===s)})));var c,l=[],f=ot(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=hy.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Ty.waitFor(a).next((function(){return l}))}function ck(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Np();t=e.noDocument}return JSON.stringify(t).length}sk.DEFAULT_COLLECTION_PERCENTILE=10,sk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sk.DEFAULT=new sk(41943040,sk.DEFAULT_COLLECTION_PERCENTILE,sk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sk.DISABLED=new sk(-1,0,0);var lk=function(){function e(t,n,r,i){nt(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return it(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hk(e).jt({index:fy.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=dk(e),o=hk(e);return o.add({}).next((function(s){Ap("number"==typeof s);var u,c=new Fy(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return zg(e.Gt,t)})),i=n.mutations.map((function(t){return zg(e.Gt,t)}));return new fy(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new rg((function(e,t){return Hp(e.canonicalString(),t.canonicalString())})),d=ot(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=hy.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,hy.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),Ty.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return hk(e).get(t).next((function(e){return e?(Ap(e.userId===n.userId),Qy(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?Ty.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return hk(e).jt({index:fy.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Ap(t.batchId>=r),a=Qy(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hk(e).jt({index:fy.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hk(e).Bt(fy.userMutationsIndex,n).next((function(e){return e.map((function(e){return Qy(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=hy.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return dk(e).jt({range:i},(function(r,i,o){var s=(0,ye.Z)(r,3),u=s[0],c=s[1],l=s[2],f=sy(c);if(u===n.userId&&t.path.isEqual(f))return hk(e).get(l).next((function(e){if(!e)throw Np();Ap(e.userId===n.userId),a.push(Qy(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new rg(Hp),i=[];return t.forEach((function(t){var a=hy.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=dk(e).jt({range:o},(function(e,i,a){var o=(0,ye.Z)(e,3),s=o[0],u=o[1],c=o[2],l=sy(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),Ty.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=hy.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new rg(Hp);return dk(e).jt({range:o},(function(e,t,a){var o=(0,ye.Z)(e,3),u=o[0],c=o[1],l=o[2],f=sy(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(hk(e).get(t).next((function(e){if(null===e)throw Np();Ap(e.userId===n.userId),r.push(Qy(n.k,e))})))})),Ty.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return uk(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),Ty.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Ty.resolve();var r=IDBKeyRange.lowerBound(hy.prefixForUser(t.userId)),i=[];return dk(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=sy(e[1]);i.push(a)}else r.done()})).next((function(){Ap(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return fk(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return pk(e).get(this.userId).next((function(e){return e||new ly(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return Ap(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function fk(e,t,n){var r=hy.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return dk(e).jt({range:a,Kt:!0},(function(e,n,r){var a=(0,ye.Z)(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function hk(e){return Uy(e,fy.store)}function dk(e){return Uy(e,hy.store)}function pk(e){return Uy(e,ly.store)}var vk=function(){function e(t){nt(this,e),this.se=t}return it(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),mk=function(){function e(t,n){nt(this,e),this.referenceDelegate=t,this.k=n}return it(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new vk(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return Yp.fromTimestamp(new Qp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return gk(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return Ap(t.targetCount>0),t.targetCount-=1,n.ce(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return gk(e).jt((function(o,s){var u=Yy(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Ty.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return gk(e).jt((function(e,n){var r=Yy(n);t(r)}))}},{key:"oe",value:function(e){return yk(e).get(ky.key).next((function(e){return Ap(null!==e),e}))}},{key:"ce",value:function(e,t){return yk(e).put(ky.key,t)}},{key:"ae",value:function(e,t){return gk(e).put(Jy(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=jv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return gk(e).jt({range:r,index:gy.queryTargetsIndexName},(function(e,n,r){var a=Yy(n);Mv(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=kk(e);return t.forEach((function(t){var o=iy(t.path);i.push(a.put(new yy(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Ty.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=kk(e);return Ty.forEach(t,(function(t){var a=iy(t.path);return Ty.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=kk(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=kk(e),i=hg();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=sy(e[1]),a=new mv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=iy(t.path),r=IDBKeyRange.bound([n],[Gp(n)],!1,!0),i=0;return kk(e).jt({index:yy.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=(0,ye.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return gk(e).get(t).next((function(e){return e?Yy(e):null}))}}]),e}();function gk(e){return Uy(e,gy.store)}function yk(e){return Uy(e,ky.store)}function kk(e){return Uy(e,yy.store)}function bk(e){return wk.apply(this,arguments)}function wk(){return wk=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Pp.FAILED_PRECONDITION&&t.message===Ey){e.next=2;break}throw t;case 2:Ep("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),wk.apply(this,arguments)}function _k(e,t){var n=(0,ye.Z)(e,2),r=n[0],i=n[1],a=(0,ye.Z)(t,2),o=a[0],s=a[1],u=Hp(r,o);return 0===u?Hp(i,s):u}var xk=function(){function e(t){nt(this,e),this.he=t,this.buffer=new rg(_k),this.le=0}return it(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();_k(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Ik=function(){function e(t,n){nt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return it(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Ep("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,ge(be().mark((function n(){return be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Py(n.t0)){n.next=12;break}Ep("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,bk(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Ek=function(){function e(t,n){nt(this,e),this.ge=t,this.params=n}return it(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Ty.resolve(qp.I);var r=new xk(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ep("LruGarbageCollector","Garbage collection skipped; disabled"),Ty.resolve(ok)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ep("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ok):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ep("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Ip()<=Yt.DEBUG&&Ep("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Ty.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Sk=function(){function e(t,n){nt(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ek(e,t)}(this,n)}return it(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Tk(e,n)}},{key:"removeReference",value:function(e,t,n){return Tk(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Tk(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return pk(e).Qt((function(r){return fk(e,r,t).next((function(e){return e&&(n=!0),Ty.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),kk(e).delete([0,iy(o.path)])}))}));i.push(u)}})).next((function(){return Ty.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Tk(e,t)}},{key:"Ie",value:function(e,t){var n,r=kk(e),i=qp.I;return r.jt({index:yy.documentTargetsIndex},(function(e,r){var a=(0,ye.Z)(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==qp.I&&t(new mv(sy(n)),i),i=u,n=s):i=qp.I})).next((function(){i!==qp.I&&t(new mv(sy(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Tk(e,t){return kk(e).put(function(e,t){return new yy(0,iy(e.path),t)}(t,e.currentSequenceNumber))}var Ck=function(){function e(t,n){nt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return it(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ot(n);try{for(i.s();!(r=i.n()).done;){var a=(0,ye.Z)(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){$p(this.inner,(function(t,n){var r,i=ot(n);try{for(i.s();!(r=i.n()).done;){var a=(0,ye.Z)(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Xp(this.inner)}}]),e}(),Nk=function(){function e(){nt(this,e),this.changes=new Ck((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return it(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Yp.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Ov.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ty.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ak=function(){function e(t,n){nt(this,e),this.k=t,this.Jt=n}return it(e,[{key:"addEntry",value:function(e,t,n){return Ok(e).put(Dk(t),n)}},{key:"removeEntry",value:function(e,t){var n=Ok(e),r=Dk(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Ok(e).get(Dk(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return Ok(e).get(Dk(t)).next((function(e){return{document:n.be(t,e),size:ck(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=og();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=og(),i=new eg(mv.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,ck(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return Ty.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Ok(e).jt({range:r},(function(e,t,r){for(var o=mv.fromSegments(e);a&&mv.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=og(),a=t.path.length+1,o={};if(n.isEqual(Yp.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Wy(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=vy.collectionReadTimeIndex}return Ok(e).jt(o,(function(e,n,o){if(e.length===a){var s=qy(r.k,n);t.path.isPrefixOf(s.key.path)?pm(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Rk(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Pk(e).get(my.key).next((function(e){return Ap(!!e),e}))}},{key:"Re",value:function(e,t){return Pk(e).put(my.key,t)}},{key:"be",value:function(e,t){if(t){var n=qy(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(Yp.min()))return n}return Ov.newInvalidDocument(e)}}]),e}(),Rk=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Ck((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return it(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new rg((function(e,t){return Hp(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=Zy(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=ck(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=Zy(t.De.k,Ov.newNoDocument(a,Yp.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),Ty.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(Nk);function Pk(e){return Uy(e,my.store)}function Ok(e){return Uy(e,vy.store)}function Dk(e){return e.path.toArray()}var Lk=function(){function e(t){nt(this,e),this.k=t}return it(e,[{key:"Nt",value:function(e,t,n,r){var i=this;Ap(n<r&&n>=0&&r<=11);var a=new Cy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(cy.store)}(e),function(e){e.createObjectStore(ly.store,{keyPath:ly.keyPath}),e.createObjectStore(fy.store,{keyPath:fy.keyPath,autoIncrement:!0}).createIndex(fy.userMutationsIndex,fy.userMutationsKeyPath,{unique:!0}),e.createObjectStore(hy.store)}(e),jk(e),function(e){e.createObjectStore(vy.store)}(e));var o=Ty.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(yy.store),e.deleteObjectStore(gy.store),e.deleteObjectStore(ky.store)}(e),jk(e)),o=o.next((function(){return function(e){var t=e.store(ky.store),n=new ky(0,0,Yp.min().toTimestamp(),0);return t.put(ky.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(fy.store).Bt().next((function(n){e.deleteObjectStore(fy.store),e.createObjectStore(fy.store,{keyPath:fy.keyPath,autoIncrement:!0}).createIndex(fy.userMutationsIndex,fy.userMutationsKeyPath,{unique:!0});var r=t.store(fy.store),i=n.map((function(e){return r.put(e)}));return Ty.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(wy.store,{keyPath:wy.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(my.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(vy.store);t.createIndex(vy.readTimeIndex,vy.readTimeIndexPath,{unique:!1}),t.createIndex(vy.collectionReadTimeIndex,vy.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(_y.store,{keyPath:_y.keyPath})}(e),function(e){e.createObjectStore(xy.store,{keyPath:xy.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(vy.store).jt((function(e,n){t+=ck(n)})).next((function(){var n=new my(t);return e.store(my.store).put(my.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(ly.store),r=e.store(fy.store);return n.Bt().next((function(n){return Ty.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(fy.userMutationsIndex,i).next((function(r){return Ty.forEach(r,(function(r){Ap(r.userId===n.userId);var i=Qy(t.k,r);return uk(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(yy.store),n=e.store(vy.store);return e.store(ky.store).get(ky.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new tv(n),o=function(e){return[0,iy(e)]}(a);r.push(t.get(o).next((function(n){return n?Ty.resolve():function(n){return t.put(new yy(0,iy(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Ty.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(by.store,{keyPath:by.keyPath});var n=t.store(by.store),r=new rk,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:iy(i)})}};return t.store(vy.store).jt({Kt:!0},(function(e,t){var n=new tv(e);return i(n.popLast())})).next((function(){return t.store(hy.store).jt({Kt:!0},(function(e,t){var n=(0,ye.Z)(e,3),r=(n[0],n[1]),a=(n[2],sy(r));return i(a.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(gy.store);return n.jt((function(e,r){var i=Yy(r),a=Jy(t.k,i);return n.put(a)}))}}]),e}();function jk(e){e.createObjectStore(yy.store,{keyPath:yy.keyPath}).createIndex(yy.documentTargetsIndex,yy.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(gy.store,{keyPath:gy.keyPath}).createIndex(gy.queryTargetsIndexName,gy.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ky.store)}var Mk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Uk=function(){function e(t,n,r,i,a,o,s,u,c,l){if(nt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=a,this.window=o,this.document=s,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new Op(Pp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Sk(this,i),this.Ge=n+"main",this.k=new zy(u),this.ze=new Ny(this.Ge,11,new Lk(this.k)),this.He=new mk(this.referenceDelegate,this.k),this.Jt=new ik,this.Je=function(e,t){return new Ak(e,t)}(this.k,this.Jt),this.Ye=new Xy,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&Sp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return it(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Op(Pp.FAILED_PRECONDITION,Mk);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new qp(t,e.Fe)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=ge(be().mark((function n(r){return be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=ge(be().mark((function t(n){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Vk(t).put(new wy(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.cn(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(Py(t))return Ep("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ep("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Me.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return Fk(e).get(cy.key).next((function(e){return Ty.resolve(t.un(e))}))}},{key:"hn",value:function(e){return Vk(e).delete(this.clientId)}},{key:"ln",value:function(){var e=ge(be().mark((function e(){var t,n,r,i,a=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Uy(e,wy.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Ty.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=ot(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?Ty.resolve(!0):Fk(e).get(cy.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new Op(Pp.FAILED_PRECONDITION,Mk);return!1}}return!(!t.networkEnabled||!t.inForeground)||Vk(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ep("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ge(be().mark((function e(){var t=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[cy.store,wy.store],(function(e){var n=new My(e,qp.I);return t.cn(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Vk(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return lk.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Ep("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Iy,(function(a){return i=new My(a,r.Be?r.Be.next():qp.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Sp("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Me.enqueueRetryable((function(){return r.We(!1)})),new Op(Pp.FAILED_PRECONDITION,Ey);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return Fk(e).get(cy.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Op(Pp.FAILED_PRECONDITION,Mk)}))}},{key:"an",value:function(e){var t=new cy(this.clientId,this.allowTabSynchronization,Date.now());return Fk(e).put(cy.key,t)}},{key:"cn",value:function(e){var t=this,n=Fk(e);return n.get(cy.key).next((function(e){return t.un(e)?(Ep("IndexedDbPersistence","Releasing primary lease."),n.delete(cy.key)):Ty.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Sp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!St()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Ep("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Sp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(bl){Sp("Failed to set zombie client id.",bl)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(bl){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return Ny.Pt()}}]),e}();function Fk(e){return Uy(e,cy.store)}function Vk(e){return Uy(e,wy.store)}function Bk(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var zk=it((function e(t,n){nt(this,e),this.progress=t,this.In=n})),qk=function(){function e(t,n,r){nt(this,e),this.Je=t,this.An=n,this.Jt=r}return it(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=ot(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=ot(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return mv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):sm(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new mv(t)).next((function(e){var t=ug();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=ug();return this.Jt.getCollectionParents(e,i).next((function(o){return Ty.forEach(o,(function(o){var s=function(e,t){return new em(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=ot(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=ot(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=Ov.newInvalidDocument(c),r=r.insert(c,l)),Um(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){pm(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=hg(),a=ot(t);try{for(a.s();!(r=a.n()).done;){var o,s=ot(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof qm&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),Zk=function(){function e(t,n,r,i){nt(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return it(e,null,[{key:"$n",value:function(t,n){var r,i=hg(),a=hg(),o=ot(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Wk=function(){function e(){nt(this,e)}return it(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Yp.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(rm(t)||im(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(Ip()<=Yt.DEBUG&&Ep("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),dm(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new rg(vm(e));return t.forEach((function(t,r){pm(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return Ip()<=Yt.DEBUG&&Ep("QueryEngine","Using full collection scan to execute query:",dm(t)),this.Mn.getDocumentsMatchingQuery(e,t,Yp.min())}}]),e}(),Hk=function(){function e(t,n,r,i){nt(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new eg(Hp),this.Kn=new Ck((function(e){return jv(e)}),Mv),this.jn=Yp.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new qk(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return it(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function Kk(e,t,n,r){return new Hk(e,t,n,r)}function Gk(e,t){return Qk.apply(this,arguments)}function Qk(){return Qk=ge(be().mark((function e(t,n){var r,i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new qk(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=hg(),u=ot(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=ot(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=ot(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=ot(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),Qk.apply(this,arguments)}function Yk(e,t){var n=Rp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ty.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ap(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function Jk(e){var t=Rp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function $k(e,t){var n=Rp(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(av.EMPTY_BYTE_STRING,Yp.min()).withLastLimboFreeSnapshotVersion(Yp.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var s=og();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Xk(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Yp.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return Ty.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function Xk(e,t,n,r,i){var a=hg();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=og();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Yp.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):Ep("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function eb(e,t){var n=Rp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function tb(e,t){var n=Rp(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,Ty.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new By(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function nb(e,t,n){return rb.apply(this,arguments)}function rb(){return rb=ge(be().mark((function e(t,n,r){var i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rp(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Py(e.t1)){e.next=12;break}throw e.t1;case 12:Ep("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),rb.apply(this,arguments)}function ib(e,t,n){var r=Rp(e),i=Yp.min(),a=hg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Rp(e),i=r.Kn.get(n);return void 0!==i?Ty.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,cm(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:Yp.min(),n?a:hg())})).next((function(e){return{documents:e,zn:a}}))}))}function ab(e,t){var n=Rp(e),r=Rp(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function ob(e){var t=Rp(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Rp(e),i=og(),a=Wy(n),o=Ok(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:vy.readTimeIndex,range:s},(function(e,t){var n=qy(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:Hy(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function sb(e){return ub.apply(this,arguments)}function ub(){return ub=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rp(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Ok(e),n=Yp.min();return t.jt({index:vy.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Hy(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),ub.apply(this,arguments)}function cb(e,t,n,r){return lb.apply(this,arguments)}function lb(){return lb=ge(be().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Rp(t),o=hg(),s=og(),u=lg(),c=ot(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,tb(a,function(e){return cm(nm(tv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Xk(e,d,s,Yp.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),lb.apply(this,arguments)}function fb(e,t){return hb.apply(this,arguments)}function hb(){return hb=ge(be().mark((function e(t,n){var r,i,a,o=arguments;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:hg(),e.next=3,tb(t,cm($y(n.bundledQuery)));case 3:return i=e.sent,a=Rp(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Ag(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(av.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),hb.apply(this,arguments)}var db=function(){function e(t){nt(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return it(e,[{key:"getBundleMetadata",value:function(e,t){return Ty.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ag(n.createTime)}),Ty.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ty.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:$y(e.bundledQuery),readTime:Ag(e.readTime)}}(t)),Ty.resolve()}}]),e}(),pb=function(){function e(){nt(this,e),this.ts=new rg(vb.es),this.ns=new rg(vb.ss)}return it(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new vb(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new vb(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new mv(new tv([])),r=new vb(n,e),i=new vb(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new mv(new tv([])),n=new vb(t,e),r=new vb(t,e+1),i=hg();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new vb(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),vb=function(){function e(t,n){nt(this,e),this.key=t,this.fs=n}return it(e,null,[{key:"es",value:function(e,t){return mv.comparator(e.key,t.key)||Hp(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Hp(e.fs,t.fs)||mv.comparator(e.key,t.key)}}]),e}(),mb=function(){function e(t,n){nt(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new rg(vb.es)}return it(e,[{key:"checkEmpty",value:function(e){return Ty.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Fy(i,t,n,r);this.An.push(a);var o,s=ot(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new vb(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Ty.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ty.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Ty.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ty.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Ty.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new vb(t,0),i=new vb(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),Ty.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new rg(Hp);return t.forEach((function(e){var t=new vb(e,0),i=new vb(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),Ty.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;mv.isDocumentKey(i)||(i=i.child(""));var a=new vb(new mv(i),0),o=new rg(Hp);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),Ty.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ap(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Ty.forEach(t.mutations,(function(i){var a=new vb(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new vb(t,0),r=this.ws.firstAfterOrEqual(n);return Ty.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Ty.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),gb=function(){function e(t,n){nt(this,e),this.Jt=t,this.Ts=n,this.docs=new eg(mv.comparator),this.size=0}return it(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ty.resolve(n?n.document.mutableCopy():Ov.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=og();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ov.newInvalidDocument(e))})),Ty.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=og(),i=new mv(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||pm(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return Ty.resolve(r)}},{key:"Es",value:function(e,t){return Ty.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new yb(this)}},{key:"getSize",value:function(e){return Ty.resolve(this.size)}}]),e}(),yb=function(e){ut(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).De=e,r}return it(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),Ty.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(Nk),kb=function(){function e(t){nt(this,e),this.persistence=t,this.Is=new Ck((function(e){return jv(e)}),Mv),this.lastRemoteSnapshotVersion=Yp.min(),this.highestTargetId=0,this.As=0,this.Rs=new pb,this.targetCount=0,this.bs=vk.ie()}return it(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),Ty.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ty.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ty.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),Ty.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Ty.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new vk(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,Ty.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),Ty.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Ty.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Ty.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ty.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Ty.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Ty.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ty.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Ty.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Ty.resolve(n)}},{key:"containsKey",value:function(e,t){return Ty.resolve(this.Rs.containsKey(t))}}]),e}(),bb=function(){function e(t,n){var r=this;nt(this,e),this.Ps={},this.Be=new qp(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new kb(this),this.Jt=new nk,this.Je=function(e,t){return new gb(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new zy(n),this.Ye=new db(this.k)}return it(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new mb(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Ep("MemoryPersistence","Starting transaction:",e);var i=new wb(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return Ty.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),wb=function(e){ut(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return it(n)}(Sy),_b=function(){function e(t){nt(this,e),this.persistence=t,this.Cs=new pb,this.Ns=null}return it(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Np()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Ty.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Ty.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Ty.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ty.forEach(this.xs,(function(r){var i=mv.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Ty.or([function(){return Ty.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function xb(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ib(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Eb(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Sb=function(){function e(t,n,r,i){nt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return it(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Op(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Sp("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Tb=function(){function e(t,n,r){nt(this,e),this.targetId=t,this.state=n,this.error=r}return it(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Op(i.error.code,i.error.message))),a?new e(t,i.state,r):(Sp("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Cb=function(){function e(t,n){nt(this,e),this.clientId=t,this.activeTargetIds=n}return it(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=pg(),o=0;i&&o<r.activeTargetIds.length;++o)i=vv(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Sp("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Nb=function(){function e(t,n){nt(this,e),this.clientId=t,this.onlineState=n}return it(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Sp("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ab=function(){function e(){nt(this,e),this.activeTargetIds=pg()}return it(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Rb=function(){function e(t,n,r,i,a){nt(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new eg(Hp),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=xb(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Ab),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return it(e,[{key:"start",value:function(){var e=ge(be().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=ot(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(xb(this.persistenceKey,i)))&&(o=Cb.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=ot(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Eb(this.persistenceKey,e));if(n){var r=Tb.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Eb(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ep("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ep("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ep("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ep("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Sp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(ge(be().mark((function e(){var r,i,a,o,s,u;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=qp.I;if(null!=e)try{var n=JSON.parse(e);Ap("number"==typeof n),t=n}catch(e){Sp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==qp.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new Sb(this.currentUser,e,t,n),i=Ib(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=Ib(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Eb(this.persistenceKey,e),i=new Tb(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return Cb.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Sb.Os(new wp(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return Tb.Os(r,t)}},{key:"Zs",value:function(e){return Nb.Os(e)}},{key:"fi",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Ep("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=pg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Pb=function(){function e(){nt(this,e),this.pi=new Ab,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return it(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Ab,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Ob=function(){function e(){nt(this,e)}return it(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Db=function(){function e(){var t=this;nt(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return it(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Ep("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ot(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){Ep("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ot(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Lb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jb=function(){function e(t){nt(this,e),this.Vi=t.Vi,this.Si=t.Si}return it(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),Mb=function(e){ut(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return it(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new kp;o.listenOnce(pp.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case dp.NO_ERROR:var t=o.getResponseJson();Ep("Connection","XHR received:",JSON.stringify(t)),i(t);break;case dp.TIMEOUT:Ep("Connection",'RPC "'+e+'" timed out'),a(new Op(Pp.DEADLINE_EXCEEDED,"Request time out"));break;case dp.HTTP_ERROR:var n=o.getStatus();if(Ep("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pp).indexOf(t)>=0?t:Pp.UNKNOWN}(r.status);a(new Op(s,r.message))}else a(new Op(Pp.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Op(Pp.UNAVAILABLE,"Connection failed."));break;default:Np()}}finally{Ep("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=fp(),a=hp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new gp({})),this.qi(o.initMessageHeaders,t,n),Et()||Ct()||It().indexOf("Electron/")>=0||Nt()||It().indexOf("MSAppHost/")>=0||Tt()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Ep("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new jb({Vi:function(e){l?Ep("Connection","Not sending because WebChannel is closed:",e):(c||(Ep("Connection","Opening WebChannel transport."),u.open(),c=!0),Ep("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,yp.EventType.OPEN,(function(){l||Ep("Connection","WebChannel transport opened.")})),h(u,yp.EventType.CLOSE,(function(){l||(l=!0,Ep("Connection","WebChannel transport closed"),f.Oi())})),h(u,yp.EventType.ERROR,(function(e){l||(l=!0,Tp("Connection","WebChannel transport errored:",e),f.Oi(new Op(Pp.UNAVAILABLE,"The operation could not be completed")))})),h(u,yp.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ap(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ep("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Km[e];if(void 0!==t)return Xm(t)}(a),s=i.message;void 0===o&&(o=Pp.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new Op(o,s)),u.close()}else Ep("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,vp.STAT_EVENT,(function(e){e.stat===mp.PROXY?Ep("Connection","Detected buffering proxy"):e.stat===mp.NOPROXY&&Ep("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){nt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return it(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Ep("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Ep("RestConnection","Received: ",e),e}),(function(t){throw Tp("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_p,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=Lb[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function Ub(){return"undefined"!=typeof window?window:null}function Fb(){return"undefined"!=typeof document?document:null}function Vb(e){return new Sg(e,!0)}var Bb=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;nt(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return it(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Ep("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),zb=function(){function e(t,n,r,i,a,o,s,u){nt(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Bb(t,n)}return it(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Pp.RESOURCE_EXHAUSTED?(Sp(n.toString()),Sp("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Pp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,ye.Z)(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new Op(Pp.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(ge(be().mark((function t(){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Ep("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(Ep("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),qb=function(e){ut(n,e);var t=dt(n);function n(e,r,i,a,o,s){var u;return nt(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return it(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Np()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(Ap(void 0===t||"string"==typeof t),av.fromBase64String(t||"")):(Ap(void 0===t||t instanceof Uint8Array),av.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Pp.UNKNOWN:Xm(e.code);return new Op(t,e.message||"")}(o);n=new kg(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Dg(e,u.document.name),l=Ag(u.document.updateTime),f=new Rv({mapValue:{fields:u.document.fields}}),h=Ov.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new gg(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Dg(e,v.document),g=v.readTime?Ag(v.readTime):Yp.min(),y=Ov.newNoDocument(m,g),k=v.removedTargetIds||[];n=new gg([],k,y.key,y)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Dg(e,b.document),_=b.removedTargetIds||[];n=new gg([],_,w,null)}else{if(!("filter"in t))return Np();t.filter;var x=t.filter;x.targetId;var I=x.count||0,E=new Jm(I),S=x.targetId;n=new yg(S,E)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Yp.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Yp.min():t.readTime?Ag(t.readTime):Yp.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=Mg(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Uv(r)?{documents:Zg(e,r)}:{query:Wg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Cg(e,t.resumeToken):t.snapshotVersion.compareTo(Yp.min())>0&&(n.readTime=Tg(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Np()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Mg(this.k),t.removeTarget=e,this.gr(t)}}]),n}(zb),Zb=function(e){ut(n,e);var t=dt(n);function n(e,r,i,a,o,s){var u;return nt(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return it(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Hn(ct(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Ap(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Ap(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ag(e.updateTime):Ag(t);return n.isEqual(Yp.min())&&(n=Ag(t)),new Om(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ag(e.commitTime);return this.listener.Cr(n,t)}return Ap(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Mg(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return zg(t.k,e)}))};this.gr(n)}}]),n}(zb),Wb=function(e){ut(n,e);var t=dt(n);function n(e,r,i,a){var o;return nt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return it(n,[{key:"Or",value:function(){if(this.$r)throw new Op(Pp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,ye.Z)(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Pp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Op(Pp.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,ye.Z)(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Pp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Op(Pp.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return it((function e(){nt(this,e)}))}()),Hb=function(){function e(t,n){nt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return it(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Sp(t),this.Lr=!1):Ep("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),Kb=it((function e(t,n,r,i,a){var o=this;nt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=iw(o),!e.t0){e.next=5;break}return Ep("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Rp(t)).Gr.add(4),e.next=4,Yb(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,Gb(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Hb(r,i)}));function Gb(e){return Qb.apply(this,arguments)}function Qb(){return Qb=ge(be().mark((function e(t){var n,r,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!iw(t)){e.next=18;break}n=ot(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Qb.apply(this,arguments)}function Yb(e){return Jb.apply(this,arguments)}function Jb(){return Jb=ge(be().mark((function e(t){var n,r,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ot(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Jb.apply(this,arguments)}function $b(e,t){var n=Rp(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),rw(n)?nw(n):Ow(n).lr()&&ew(n,t))}function Xb(e,t){var n=Rp(e),r=Ow(n);n.Wr.delete(t),r.lr()&&tw(n,t),0===n.Wr.size&&(r.lr()?r._r():iw(n)&&n.Jr.set("Unknown"))}function ew(e,t){e.Yr.X(t.targetId),Ow(e).Pr(t)}function tw(e,t){e.Yr.X(t),Ow(e).vr(t)}function nw(e){e.Yr=new wg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),Ow(e).start(),e.Jr.Br()}function rw(e){return iw(e)&&!Ow(e).hr()&&e.Wr.size>0}function iw(e){return 0===Rp(e).Gr.size}function aw(e){e.Yr=void 0}function ow(e){return sw.apply(this,arguments)}function sw(){return sw=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){ew(t,e)}));case 1:case"end":return e.stop()}}),e)}))),sw.apply(this,arguments)}function uw(e,t){return cw.apply(this,arguments)}function cw(){return cw=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:aw(t),rw(t)?(t.Jr.Kr(n),nw(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),cw.apply(this,arguments)}function lw(e,t,n){return fw.apply(this,arguments)}function fw(){return fw=ge(be().mark((function e(t,n,r){var i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof kg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ge(be().mark((function e(t,n){var r,i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ot(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ep("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,hw(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof gg?t.Yr.ot(n):n instanceof yg?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(Yp.min())){e.next=29;break}return e.prev=14,e.next=17,Jk(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(av.EMPTY_BYTE_STRING,n.snapshotVersion)),tw(e,t);var r=new By(n.target,t,1,n.sequenceNumber);ew(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ep("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,hw(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),fw.apply(this,arguments)}function hw(e,t,n){return dw.apply(this,arguments)}function dw(){return dw=ge(be().mark((function e(t,n,r){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Py(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Yb(t);case 5:t.Jr.set("Offline"),r||(r=function(){return Jk(t.localStore)}),t.asyncQueue.enqueueRetryable(ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ep("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,Gb(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),dw.apply(this,arguments)}function pw(e,t){return t().catch((function(n){return hw(e,n,t)}))}function vw(e){return mw.apply(this,arguments)}function mw(){return mw=ge(be().mark((function e(t){var n,r,i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rp(t),r=Dw(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!gw(n)){e.next=19;break}return e.prev=3,e.next=6,eb(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,yw(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,hw(n,e.t0);case 17:e.next=2;break;case 19:kw(n)&&bw(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),mw.apply(this,arguments)}function gw(e){return iw(e)&&e.Qr.length<10}function yw(e,t){e.Qr.push(t);var n=Dw(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function kw(e){return iw(e)&&!Dw(e).hr()&&e.Qr.length>0}function bw(e){Dw(e).start()}function ww(e){return _w.apply(this,arguments)}function _w(){return _w=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Dw(t).kr();case 1:case"end":return e.stop()}}),e)}))),_w.apply(this,arguments)}function xw(e){return Iw.apply(this,arguments)}function Iw(){return Iw=ge(be().mark((function e(t){var n,r,i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Dw(t),r=ot(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Iw.apply(this,arguments)}function Ew(e,t,n){return Sw.apply(this,arguments)}function Sw(){return Sw=ge(be().mark((function e(t,n,r){var i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Vy.from(i,n,r),e.next=3,pw(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,vw(t);case 5:case"end":return e.stop()}}),e)}))),Sw.apply(this,arguments)}function Tw(e,t){return Cw.apply(this,arguments)}function Cw(){return Cw=ge(be().mark((function e(t,n){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Dw(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=ge(be().mark((function e(t,n){var r,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$m(i=n.code)||i===Pp.ABORTED){e.next=7;break}return r=t.Qr.shift(),Dw(t).wr(),e.next=5,pw(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,vw(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:kw(t)&&bw(t);case 5:case"end":return e.stop()}}),e)}))),Cw.apply(this,arguments)}function Nw(e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=ge(be().mark((function e(t,n){var r,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Rp(t)).asyncQueue.verifyOperationInProgress(),Ep("RemoteStore","RemoteStore received new credentials"),i=iw(r),r.Gr.add(3),e.next=6,Yb(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,Gb(r);case 12:case"end":return e.stop()}}),e)}))),Aw.apply(this,arguments)}function Rw(e,t){return Pw.apply(this,arguments)}function Pw(){return Pw=ge(be().mark((function e(t,n){var r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rp(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,Gb(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Yb(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Pw.apply(this,arguments)}function Ow(e){return e.Xr||(e.Xr=function(e,t,n){var r=Rp(e);return r.Or(),new qb(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:ow.bind(null,e),Ni:uw.bind(null,e),br:lw.bind(null,e)}),e.zr.push(function(){var t=ge(be().mark((function t(n){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),rw(e)?nw(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:aw(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function Dw(e){return e.Zr||(e.Zr=function(e,t,n){var r=Rp(e);return r.Or(),new Zb(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:ww.bind(null,e),Ni:Tw.bind(null,e),Nr:xw.bind(null,e),Cr:Ew.bind(null,e)}),e.zr.push(function(){var t=ge(be().mark((function t(n){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,vw(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Ep("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var Lw=function(){function e(t,n,r,i,a){nt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Dp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return it(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Op(Pp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function jw(e,t){if(Sp("AsyncQueue","".concat(t,": ").concat(e)),Py(e))return new Op(Pp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Mw=function(){function e(t){nt(this,e),this.comparator=t?function(e,n){return t(e,n)||mv.comparator(e.key,n.key)}:function(e,t){return mv.comparator(e.key,t.key)},this.keyedMap=ug(),this.sortedSet=new eg(this.comparator)}return it(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Uw=function(){function e(){nt(this,e),this.eo=new eg(mv.comparator)}return it(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Np():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Fw=function(){function e(t,n,r,i,a,o,s,u){nt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return it(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Mw.emptySet(n),a,r,i,!0,!1)}}]),e}(),Vw=it((function e(){nt(this,e),this.so=void 0,this.listeners=[]})),Bw=it((function e(){nt(this,e),this.queries=new Ck((function(e){return hm(e)}),fm),this.onlineState="Unknown",this.io=new Set}));function zw(e,t){return qw.apply(this,arguments)}function qw(){return qw=ge(be().mark((function e(t,n){var r,i,a,o,s;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rp(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Vw),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=jw(e.t0,"Initialization of query '".concat(dm(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&Gw(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),qw.apply(this,arguments)}function Zw(e,t){return Ww.apply(this,arguments)}function Ww(){return Ww=ge(be().mark((function e(t,n){var r,i,a,o,s;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rp(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Hw(e,t){var n,r=Rp(e),i=!1,a=ot(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=ot(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&Gw(r)}function Kw(e,t,n){var r=Rp(e),i=r.queries.get(t);if(i){var a,o=ot(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Gw(e){e.io.forEach((function(e){e.next()}))}var Qw=function(){function e(t,n,r){nt(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return it(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ot(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Fw(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Fw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),Yw=function(){function e(t,n){nt(this,e),this.payload=t,this.byteLength=n}return it(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),Jw=function(){function e(t){nt(this,e),this.k=t}return it(e,[{key:"Hn",value:function(e){return Dg(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Vg(this.k,e.document,!1):Ov.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return Ag(e)}}]),e}(),$w=function(){function e(t,n,r){nt(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=Xw(t)}return it(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new Jw(this.k),i=ot(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=ot(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||hg()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ge(be().mark((function e(){var t,n,r,i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cb(this.localStore,new Jw(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=ot(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,fb(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new zk(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var e_=it((function e(t){nt(this,e),this.key=t})),t_=it((function e(t){nt(this,e),this.key=t})),n_=function(){function e(t,n){nt(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=hg(),this.mutatedKeys=hg(),this.Ao=vm(t),this.Ro=new Mw(this.Ao)}return it(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new Uw,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=rm(this.query)&&i.size===this.query.limit?i.last():null,c=im(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=pm(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),rm(this.query)||im(this.query))for(;o.size>this.query.limit;){var l=rm(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Np()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new Fw(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Uw,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=hg(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new t_(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new e_(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=hg();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Fw.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),r_=it((function e(t,n,r){nt(this,e),this.query=t,this.targetId=n,this.view=r})),i_=it((function e(t){nt(this,e),this.key=t,this.$o=!1})),a_=function(){function e(t,n,r,i,a,o){nt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new Ck((function(e){return hm(e)}),fm),this.Fo=new Map,this.Lo=new Set,this.Bo=new eg(mv.comparator),this.Uo=new Map,this.qo=new pb,this.Ko={},this.jo=new Map,this.Qo=vk.re(),this.onlineState="Unknown",this.Wo=void 0}return it(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function o_(e,t){return s_.apply(this,arguments)}function s_(){return s_=ge(be().mark((function e(t,n){var r,i,a,o,s,u;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=X_(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,tb(r.localStore,cm(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,u_(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&$b(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}function u_(e,t,n,r){return c_.apply(this,arguments)}function c_(){return c_=ge(be().mark((function e(t,n,r,i){var a,o,s,u,c,l;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=ge(be().mark((function e(t,n,r,i){var a,o,s;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,ib(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(N_(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ib(t.localStore,n,!0);case 3:return a=e.sent,o=new n_(n,a.zn),s=o.Po(a.documents),u=mg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),N_(t,r,c.Co),l=new r_(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),c_.apply(this,arguments)}function l_(e,t){return f_.apply(this,arguments)}function f_(){return f_=ge(be().mark((function e(t,n){var r,i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rp(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!fm(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,nb(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Xb(r.remoteStore,i.targetId),T_(r,i.targetId)})).catch(bk);case 9:e.next=14;break;case 11:return T_(r,i.targetId),e.next=14,nb(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),f_.apply(this,arguments)}function h_(e,t,n){return d_.apply(this,arguments)}function d_(){return d_=ge(be().mark((function e(t,n,r){var i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ex(t),e.prev=1,e.next=4,function(e,t){var n,r=Rp(e),i=Qp.now(),a=t.reduce((function(e,t){return e.add(t.key)}),hg());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=ot(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Fm(c,n.get(c.key));null!=l&&s.push(new qm(c.key,l,Pv(l.value.mapValue),Dm.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new eg(Hp)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,P_(i,a.changes);case 9:return e.next=11,vw(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=jw(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),d_.apply(this,arguments)}function p_(e,t){return v_.apply(this,arguments)}function v_(){return v_=ge(be().mark((function e(t,n){var r,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),e.prev=1,e.next=4,$k(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(Ap(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?Ap(n.$o):e.removedDocuments.size>0&&(Ap(n.$o),n.$o=!1))})),e.next=8,P_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,bk(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),v_.apply(this,arguments)}function m_(e,t,n){var r=Rp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Rp(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ot(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Gw(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function g_(e,t,n){return y_.apply(this,arguments)}function y_(){return y_=ge(be().mark((function e(t,n,r){var i,a,o,s,u,c;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Rp(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new eg(mv.comparator)).insert(o,Ov.newNoDocument(o,Yp.min())),u=hg().add(o),c=new vg(Yp.min(),new Map,new rg(Hp),s,u),e.next=9,p_(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),R_(i),e.next=16;break;case 14:return e.next=16,nb(i.localStore,n,!1).then((function(){return T_(i,n,r)})).catch(bk);case 16:case"end":return e.stop()}}),e)}))),y_.apply(this,arguments)}function k_(e,t){return b_.apply(this,arguments)}function b_(){return b_=ge(be().mark((function e(t,n){var r,i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),i=n.batch.batchId,e.prev=1,e.next=4,Yk(r.localStore,n);case 4:return a=e.sent,S_(r,i,null),E_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,P_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,bk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),b_.apply(this,arguments)}function w_(e,t,n){return __.apply(this,arguments)}function __(){return __=ge(be().mark((function e(t,n,r){var i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rp(t),e.prev=1,e.next=4,function(e,t){var n=Rp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Ap(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,S_(i,n,r),E_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,P_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,bk(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),__.apply(this,arguments)}function x_(e,t){return I_.apply(this,arguments)}function I_(){return I_=ge(be().mark((function e(t,n){var r,i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iw((r=Rp(t)).remoteStore)||Ep("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Rp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=jw(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),I_.apply(this,arguments)}function E_(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function S_(e,t,n){var r=Rp(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function T_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ot(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||C_(e,t)}))}function C_(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(Xb(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),R_(e))}function N_(e,t,n){var r,i=ot(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof e_?(e.qo.addReference(a.key,t),A_(e,a)):a instanceof t_?(Ep("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||C_(e,a.key)):Np()}}catch(o){i.e(o)}finally{i.f()}}function A_(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Ep("SyncEngine","New document in limbo: "+n),e.Lo.add(r),R_(e))}function R_(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new mv(tv.fromString(t)),r=e.Qo.next();e.Uo.set(r,new i_(n)),e.Bo=e.Bo.insert(n,r),$b(e.remoteStore,new By(cm(nm(n.path)),r,2,qp.I))}}function P_(e,t,n){return O_.apply(this,arguments)}function O_(){return O_=ge(be().mark((function e(t,n,r){var i,a,o,s;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rp(t),a=[],o=[],s=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Zk.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Oo.br(a),e.next=9,function(){var e=ge(be().mark((function e(t,n){var r,i,a,o,s,u,c,l;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ty.forEach(n,(function(t){return Ty.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ty.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Py(e.t0)){e.next=10;break}throw e.t0;case 10:Ep("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ot(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),O_.apply(this,arguments)}function D_(e,t){return L_.apply(this,arguments)}function L_(){return L_=ge(be().mark((function e(t,n){var r,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Rp(t)).currentUser.isEqual(n)){e.next=11;break}return Ep("SyncEngine","User change. New user:",n.toKey()),e.next=5,Gk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Op(Pp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,P_(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function j_(e,t){var n=Rp(e),r=n.Uo.get(t);if(r&&r.$o)return hg().add(r.key);var i=hg(),a=n.Fo.get(t);if(!a)return i;var o,s=ot(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Mo.get(u);i=i.unionWith(c.view.bo)}}catch(l){s.e(l)}finally{s.f()}return i}function M_(e,t){return U_.apply(this,arguments)}function U_(){return U_=ge(be().mark((function e(t,n){var r,i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),e.next=3,ib(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&N_(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}function F_(e){return V_.apply(this,arguments)}function V_(){return V_=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rp(t),e.abrupt("return",ob(n.localStore).then((function(e){return P_(n,e)})));case 2:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function B_(e,t,n,r){return z_.apply(this,arguments)}function z_(){return z_=ge(be().mark((function e(t,n,r,i){var a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rp(t),e.next=3,function(e,t){var n=Rp(e),r=Rp(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):Ty.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,vw(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(S_(a,n,i||null),E_(a,n),function(e,t){Rp(Rp(e).An).ee(t)}(a.localStore,n)):Np();case 11:return e.next=13,P_(a,o);case 13:e.next=16;break;case 15:Ep("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),z_.apply(this,arguments)}function q_(e,t){return Z_.apply(this,arguments)}function Z_(){return Z_=ge(be().mark((function e(t,n){var r,i,a,o,s,u,c,l;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X_(r=Rp(t)),ex(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,W_(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,Rw(r.remoteStore,!0);case 9:o=ot(a);try{for(o.s();!(s=o.n()).done;)u=s.value,$b(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return T_(r,t),nb(r.localStore,t,!0)})),Xb(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,W_(r,c);case 21:return function(e){var t=Rp(e);t.Uo.forEach((function(e,n){Xb(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new eg(mv.comparator)}(r),r.Wo=!1,e.next=25,Rw(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Z_.apply(this,arguments)}function W_(e,t,n){return H_.apply(this,arguments)}function H_(){return H_=ge(be().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,g;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Rp(t),a=[],o=[],s=ot(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Fo.get(c))||0===f.length){e.next=34;break}return e.next=11,tb(i.localStore,cm(f[0]));case 11:l=e.sent,h=ot(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Mo.get(p),e.next=20,M_(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,ab(i.localStore,c);case 36:return g=e.sent,e.next=39,tb(i.localStore,g);case 39:return l=e.sent,e.next=42,u_(i,K_(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),H_.apply(this,arguments)}function K_(e){return tm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function G_(e){var t=Rp(e);return Rp(Rp(t.localStore).persistence).Tn()}function Q_(e,t,n,r){return Y_.apply(this,arguments)}function Y_(){return Y_=ge(be().mark((function e(t,n,r,i){var a,o,s;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Rp(t)).Wo){e.next=5;break}Ep("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,ob(a.localStore);case 11:return o=e.sent,s=vg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,P_(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,nb(a.localStore,n,!0);case 18:return T_(a,n,i),e.abrupt("break",21);case 20:Np();case 21:case"end":return e.stop()}}),e)}))),Y_.apply(this,arguments)}function J_(e,t,n){return $_.apply(this,arguments)}function $_(){return $_=ge(be().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=X_(t)).Wo){e.next=45;break}a=ot(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Fo.has(s)){e.next=10;break}return Ep("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,ab(i.localStore,s);case 12:return u=e.sent,e.next=15,tb(i.localStore,u);case 15:return c=e.sent,e.next=18,u_(i,K_(u),c.targetId,!1);case 18:$b(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ot(r),e.prev=30,h=be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,nb(i.localStore,t,!1).then((function(){Xb(i.remoteStore,t),T_(i,t)})).catch(bk);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),$_.apply(this,arguments)}function X_(e){var t=Rp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=p_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=j_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=g_.bind(null,t),t.Oo.br=Hw.bind(null,t.eventManager),t.Oo.zo=Kw.bind(null,t.eventManager),t}function ex(e){var t=Rp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=k_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=w_.bind(null,t),t}function tx(e,t,n){var r=Rp(e);(function(){var e=ge(be().mark((function e(t,n,r){var i,a,o,s,u;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Rp(e),r=Ag(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Xw(i)),a=new $w(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,P_(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=Rp(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Tp("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var nx=function(){function e(){nt(this,e),this.synchronizeTabs=!1}return it(e,[{key:"initialize",value:function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Vb(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return Kk(this.persistence,new Wk,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new bb(_b.ks,this.k)}},{key:"Jo",value:function(e){return new Pb}},{key:"terminate",value:function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),rx=function(e){ut(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),(a=t.call(this)).tc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return it(n,[{key:"initialize",value:function(){var e=ge(be().mark((function e(t){var r=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(ct(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,sb(this.localStore);case 4:return e.next=6,this.tc.initialize(this,t);case 6:return e.next=8,ex(this.tc.syncEngine);case 8:return e.next=10,vw(this.tc.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return Kk(this.persistence,new Wk,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Ik(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=Bk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sk.withCacheSize(this.cacheSizeBytes):sk.DEFAULT;return new Uk(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ub(),Fb(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new Pb}}]),n}(nx),ix=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return it(n,[{key:"initialize",value:function(){var e=ge(be().mark((function e(t){var r,i=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn(ct(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.tc.syncEngine,e.t0=this.sharedClientState instanceof Rb,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:B_.bind(null,r),gi:Q_.bind(null,r),yi:J_.bind(null,r),Tn:G_.bind(null,r),_i:F_.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q_(i.tc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=Ub();if(!Rb.Pt(t))throw new Op(Pp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Bk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Rb(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(rx),ax=function(){function e(){nt(this,e)}return it(e,[{key:"initialize",value:function(){var e=ge(be().mark((function e(t,n){var r=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return m_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=D_.bind(null,this.syncEngine),e.next=12,Rw(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Bw}},{key:"createDatastore",value:function(e){var t,n=Vb(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Mb(t));return function(e,t,n,r){return new Wb(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return m_(o.syncEngine,e,0)},a=Db.Pt()?new Db:new Ob,new Kb(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new a_(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rp(t),Ep("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Yb(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function ox(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ge(be().mark((function r(){var i;return be().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var sx=function(){function e(t){nt(this,e),this.observer=t,this.muted=!1}return it(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ux=function(){function e(t,n){var r=this;nt(this,e),this.sc=t,this.k=n,this.metadata=new Dp,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return it(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rc",value:function(){var e=ge(be().mark((function e(){var t,n,r,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ic.decode(t),r=Number(n),isNaN(r)&&this.cc("length string (".concat(n,") is not valid number")),e.next=9,this.ac(r);case 9:return i=e.sent,e.abrupt("return",new Yw(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oc",value:function(){var e=ge(be().mark((function e(){var t,n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.uc()<0)){e.next=7;break}return e.next=3,this.hc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.uc())<0&&this.cc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.hc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.cc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ic.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=ge(be().mark((function e(){var t,n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),cx=function(){function e(t){nt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return it(e,[{key:"lookup",value:function(){var e=ge(be().mark((function e(t){var n,r=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Op(Pp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ge(be().mark((function e(t,n){var r,i,a,o,s,u;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),i=Mg(r.k)+"/documents",a={documents:n.map((function(e){return Og(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Bg(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Ap(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Qm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ge(be().mark((function e(){var t,n=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=mv.fromPath(t);n.mutations.push(new Ym(r,n.precondition(r)))})),e.next=7,function(){var e=ge(be().mark((function e(t,n){var r,i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(t),i=Mg(r.k)+"/documents",a={writes:n.map((function(e){return zg(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Np();t=Yp.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Op(Pp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Dm.updateTime(t):Dm.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Yp.min()))throw new Op(Pp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dm.updateTime(t)}return Dm.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),lx=function(){function e(t,n,r,i){nt(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new Bb(this.asyncQueue,"transaction_retry")}return it(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi(ge(be().mark((function t(){var n,r;return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new cx(e.datastore),(r=e.dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wc(t)}))}))})).catch((function(t){e.wc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!dv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((function(){return t.fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!$m(t)}return!1}}]),e}(),fx=function(){function e(t,n,r,i){var a=this;nt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wp.UNAUTHENTICATED,this.clientId=Wp.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ep("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ep("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return it(e,[{key:"getConfiguration",value:function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Op(Pp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Dp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ge(be().mark((function n(){var r;return be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=jw(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function hx(e,t){return dx.apply(this,arguments)}function dx(){return dx=ge(be().mark((function e(t,n){var r,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ep("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Gk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),dx.apply(this,arguments)}function px(e,t){return vx.apply(this,arguments)}function vx(){return vx=ge(be().mark((function e(t,n){var r,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,mx(t);case 3:return r=e.sent,Ep("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Nw(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Nw(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),vx.apply(this,arguments)}function mx(e){return gx.apply(this,arguments)}function gx(){return gx=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ep("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,hx(t,new nx);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),gx.apply(this,arguments)}function yx(e){return kx.apply(this,arguments)}function kx(){return kx=ge(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ep("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,px(t,new ax);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}function bx(e){return mx(e).then((function(e){return e.persistence}))}function wx(e){return mx(e).then((function(e){return e.localStore}))}function _x(e){return yx(e).then((function(e){return e.remoteStore}))}function xx(e){return yx(e).then((function(e){return e.syncEngine}))}function Ix(e){return Ex.apply(this,arguments)}function Ex(){return Ex=ge(be().mark((function e(t){var n,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yx(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=o_.bind(null,n.syncEngine),r.onUnlisten=l_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Ex.apply(this,arguments)}function Sx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Dp;return e.asyncQueue.enqueueAndForget(ge(be().mark((function i(){return be().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new sx({next:function(a){t.enqueueAndForget((function(){return Zw(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Op(Pp.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Op(Pp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Qw(nm(n.path),a,{includeMetadataChanges:!0,wo:!0});return zw(e,o)},i.next=3,Ix(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Tx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Dp;return e.asyncQueue.enqueueAndForget(ge(be().mark((function i(){return be().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new sx({next:function(n){t.enqueueAndForget((function(){return Zw(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Op(Pp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Qw(n,a,{includeMetadataChanges:!0,wo:!0});return zw(e,o)},i.next=3,Ix(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Cx=it((function e(t,n,r,i,a,o,s,u){nt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Nx=function(){function e(t,n){nt(this,e),this.projectId=t,this.database=n||"(default)"}return it(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Ax=new Map;function Rx(e,t,n){if(!n)throw new Op(Pp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Px(e,t,n,r){if(!0===t&&!0===r)throw new Op(Pp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Ox(e){if(!mv.isDocumentKey(e))throw new Op(Pp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Dx(e){if(mv.isDocumentKey(e))throw new Op(Pp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lx(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Np()}function jx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Op(Pp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Lx(e);throw new Op(Pp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Mx(e,t){if(t<=0)throw new Op(Pp.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Ux=function(){function e(t){var n;if(nt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Op(Pp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Op(Pp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Px("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return it(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Fx=function(){function e(t,n,r){nt(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ux({}),this._settingsFrozen=!1,t instanceof Nx?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Op(Pp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nx(e.options.projectId)}(t))}return it(e,[{key:"app",get:function(){if(!this._app)throw new Op(Pp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Op(Pp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ux(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new jp;switch(e.type){case"gapi":var t=e.client;return Ap(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Vp(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Op(Pp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Ax.get(e);t&&(Ep("ComponentProvider","Removing Datastore"),Ax.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Vx(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=jx(e,Fx))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Tp("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=wp.MOCK_USER;else{o=xt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Op(Pp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new wp(u)}e._authCredentials=new Mp(new Lp(o,s))}}var Bx=function(){function e(t,n,r){nt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return it(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new qx(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),zx=function(){function e(t,n,r){nt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return it(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),qx=function(e){ut(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),(a=t.call(this,e,r,nm(i)))._path=i,a.type="collection",a}return it(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Bx(this.firestore,null,new mv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(zx);function Zx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Zt(e),Rx("collection","path",t),e instanceof Fx){var a=tv.fromString.apply(tv,[t].concat(r));return Dx(a),new qx(e,null,a)}if(!(e instanceof Bx||e instanceof qx))throw new Op(Pp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(tv.fromString.apply(tv,[t].concat(r)));return Dx(o),new qx(e.firestore,null,o)}function Wx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Zt(e),1===arguments.length&&(t=Wp.A()),Rx("doc","path",t),e instanceof Fx){var a=tv.fromString.apply(tv,[t].concat(r));return Ox(a),new Bx(e,null,new mv(a))}if(!(e instanceof Bx||e instanceof qx))throw new Op(Pp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(tv.fromString.apply(tv,[t].concat(r)));return Ox(o),new Bx(e.firestore,e instanceof qx?e.converter:null,new mv(o))}function Hx(e,t){return e=Zt(e),t=Zt(t),(e instanceof Bx||e instanceof qx)&&(t instanceof Bx||t instanceof qx)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Kx(e,t){return e=Zt(e),t=Zt(t),e instanceof zx&&t instanceof zx&&e.firestore===t.firestore&&fm(e._query,t._query)&&e.converter===t.converter}var Gx=function(){function e(){var t=this;nt(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Bb(this,"async_queue_retry"),this.bc=function(){var e=Fb();e&&Ep("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Fb();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return it(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=Fb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new Dp;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=ge(be().mark((function e(){var t=this;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Py(e.t0)){e.next=12;break}throw e.t0;case 12:Ep("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Sp("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=Lw.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&Np()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=ot(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ot(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function Qx(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ot(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Yx=function(){function e(){nt(this,e),this._progressObserver={},this._taskCompletionResolver=new Dp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return it(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Jx=function(e){ut(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Gx,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return it(n,[{key:"_terminate",value:function(){return this._firestoreClient||Xx(this),this._firestoreClient.terminate()}}]),n}(Fx);function $x(e){return e._firestoreClient||Xx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Xx(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Cx(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new fx(e._authCredentials,e._appCheckCredentials,e._queue,r)}function eI(e,t,n){var r=new Dp;return e.asyncQueue.enqueue(ge(be().mark((function i(){return be().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,hx(e,n);case 3:return i.next=5,px(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Pp.FAILED_PRECONDITION||e.code===Pp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function tI(e){return function(e){return e.asyncQueue.enqueue(ge(be().mark((function t(){var n,r;return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bx(e);case 2:return n=t.sent,t.next=5,_x(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Rp(e);return t.Gr.delete(0),Gb(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}($x(e=jx(e,Jx)))}function nI(e){return function(e){return e.asyncQueue.enqueue(ge(be().mark((function t(){var n,r;return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bx(e);case 2:return n=t.sent,t.next=5,_x(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Rp(t)).Gr.add(0),e.next=4,Yb(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}($x(e=jx(e,Jx)))}function rI(e,t){var n=$x(e=jx(e,Jx)),r=new Yx;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ux(e,t)}(function(e,t){if(e instanceof Uint8Array)return ox(e,t);if(e instanceof ArrayBuffer)return ox(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Vb(t));e.asyncQueue.enqueueAndForget(ge(be().mark((function t(){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tx,t.next=3,xx(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function iI(e,t){return function(e,t){return e.asyncQueue.enqueue(ge(be().mark((function n(){return be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Rp(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,wx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}($x(e=jx(e,Jx)),t).then((function(t){return t?new zx(e,null,t.query):null}))}function aI(e){if(e._initialized||e._terminated)throw new Op(Pp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var oI=function(){function e(){nt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Op(Pp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rv(n)}return it(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var sI=function(){function e(t){nt(this,e),this._byteString=t}return it(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(av.fromBase64String(t))}catch(t){throw new Op(Pp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(av.fromUint8Array(t))}}]),e}(),uI=it((function e(t){nt(this,e),this._methodName=t})),cI=function(){function e(t,n){if(nt(this,e),!isFinite(t)||t<-90||t>90)throw new Op(Pp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Op(Pp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return it(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Hp(this._lat,e._lat)||Hp(this._long,e._long)}}]),e}(),lI=/^__.*__$/,fI=function(){function e(t,n,r){nt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return it(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new qm(e,this.data,this.fieldMask,t,this.fieldTransforms):new zm(e,this.data,t,this.fieldTransforms)}}]),e}(),hI=function(){function e(t,n,r){nt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return it(e,[{key:"toMutation",value:function(e,t){return new qm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function dI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Np()}}var pI=function(){function e(t,n,r,i,a,o){nt(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return it(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return DI(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(dI(this.$c)&&lI.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),vI=function(){function e(t,n,r){nt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Vb(t)}return it(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pI({$c:e,methodName:t,jc:n,path:rv.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function mI(e){var t=e._freezeSettings(),n=Vb(e._databaseId);return new vI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function gI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);AI("Data must be an object, but it was:",o,r);var s,u,c=CI(r,o);if(a.merge)s=new iv(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ot(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=RI(t,d,n);if(!o.contains(p))throw new Op(Pp.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));LI(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new iv(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new fI(new Rv(c),s,u)}var yI=function(e){ut(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return it(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(uI);function kI(e,t,n){return new pI({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var bI=function(e){ut(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return it(n,[{key:"_toFieldTransform",value:function(e){return new Pm(e.path,new Im)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(uI),wI=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e)).Wc=r,i}return it(n,[{key:"_toFieldTransform",value:function(e){var t=kI(this,e,!0),n=this.Wc.map((function(e){return TI(e,t)})),r=new Em(n);return new Pm(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(uI),_I=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e)).Wc=r,i}return it(n,[{key:"_toFieldTransform",value:function(e){var t=kI(this,e,!0),n=this.Wc.map((function(e){return TI(e,t)})),r=new Tm(n);return new Pm(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(uI),xI=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e)).Gc=r,i}return it(n,[{key:"_toFieldTransform",value:function(e){var t=new Nm(e.k,km(e.k,this.Gc));return new Pm(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(uI);function II(e,t,n,r){var i=e.Qc(1,t,n);AI("Data must be an object, but it was:",i,r);var a=[],o=Rv.empty();$p(r,(function(e,r){var s=OI(t,e,n);r=Zt(r);var u=i.Bc(s);if(r instanceof yI)a.push(s);else{var c=TI(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new iv(a);return new hI(o,s,i.fieldTransforms)}function EI(e,t,n,r,i,a){var o=e.Qc(1,t,n),s=[RI(t,r,n)],u=[i];if(a.length%2!=0)throw new Op(Pp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(RI(t,a[c])),u.push(a[c+1]);for(var l=[],f=Rv.empty(),h=s.length-1;h>=0;--h)if(!LI(l,s[h])){var d=s[h],p=u[h];p=Zt(p);var v=o.Bc(d);if(p instanceof yI)l.push(d);else{var m=TI(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new iv(l);return new hI(f,g,o.fieldTransforms)}function SI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return TI(n,e.Qc(r?4:3,t))}function TI(e,t){if(NI(e=Zt(e)))return AI("Unsupported field value:",t,e),CI(e,t);if(e instanceof uI)return function(e,t){if(!dI(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ot(e);try{for(a.s();!(n=a.n()).done;){var o=TI(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Zt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return km(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Qp.fromDate(e);return{timestampValue:Tg(t.k,n)}}if(e instanceof Qp){var r=new Qp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tg(t.k,r)}}if(e instanceof cI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof sI)return{bytesValue:Cg(t.k,e._byteString)};if(e instanceof Bx){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Rg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(Lx(e)))}(e,t)}function CI(e,t){var n={};return Xp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$p(e,(function(e,r){var i=TI(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function NI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Qp||e instanceof cI||e instanceof sI||e instanceof Bx||e instanceof uI)}function AI(e,t,n){if(!NI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Lx(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function RI(e,t,n){if((t=Zt(t))instanceof oI)return t._internalPath;if("string"==typeof t)return OI(e,t);throw DI("Field path arguments must be of type string or ",e,!1,void 0,n)}var PI=new RegExp("[~\\*/\\[\\]]");function OI(e,t,n){if(t.search(PI)>=0)throw DI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return pt(oI,(0,Wt.Z)(t.split(".")))._internalPath}catch(r){throw DI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function DI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Op(Pp.INVALID_ARGUMENT,s+e+u)}function LI(e,t){return e.some((function(e){return e.isEqual(t)}))}var jI=function(){function e(t,n,r,i,a){nt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return it(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Bx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(UI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),MI=function(e){ut(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return it(n,[{key:"data",value:function(){return Hn(ct(n.prototype),"data",this).call(this)}}]),n}(jI);function UI(e,t){return"string"==typeof t?OI(e,t):t instanceof oI?t._internalPath:t._delegate._internalPath}var FI=function(){function e(t,n){nt(this,e),this.hasPendingWrites=t,this.fromCache=n}return it(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),VI=function(e){ut(n,e);var t=dt(n);function n(e,r,i,a,o,s){var u;return nt(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return it(n,[{key:"exists",value:function(){return Hn(ct(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new BI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(UI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(jI),BI=function(e){ut(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return it(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Hn(ct(n.prototype),"data",this).call(this,e)}}]),n}(VI),zI=function(){function e(t,n,r,i){nt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new FI(i.hasPendingWrites,i.fromCache),this.query=r}return it(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new BI(n._firestore,n._userDataWriter,r.key,r,new FI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Op(Pp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new BI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new FI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new BI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new FI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:qI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function qI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Np()}}function ZI(e,t){return e instanceof VI&&t instanceof VI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof zI&&t instanceof zI&&e._firestore===t._firestore&&Kx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function WI(e){if(im(e)&&0===e.explicitOrderBy.length)throw new Op(Pp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var HI=it((function e(){nt(this,e)}));function KI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var GI=function(e){ut(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return it(n,[{key:"_apply",value:function(e){var t=mI(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Op(Pp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){aE(o,a);var u,c=[],l=ot(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(iE(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=iE(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||aE(o,a),s=SI(n,"where",o,"in"===a||"not-in"===a);var h=Fv.create(i,a,s);return function(e,t){if(t.V()){var n=om(e);if(null!==n&&!n.isEqual(t.field))throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=am(e);null!==r&&oE(e,t.field,r)}var i=function(e,t){var n,r=ot(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Op(Pp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Op(Pp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new zx(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new em(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(HI);var QI=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return it(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Yv(t,n);return function(e,t){if(null===am(e)){var n=om(e);null!==n&&oE(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new zx(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new em(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(HI);var YI=function(e){ut(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return it(n,[{key:"_apply",value:function(e){return new zx(e.firestore,e.converter,lm(e._query,this.Xc,this.Zc))}}]),n}(HI);var JI=function(e){ut(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return it(n,[{key:"_apply",value:function(e){var t=rE(e,this.type,this.ta,this.ea);return new zx(e.firestore,e.converter,function(e,t){return new em(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(HI);function $I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JI("startAt",t,!0)}function XI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JI("startAfter",t,!1)}var eE=function(e){ut(n,e);var t=dt(n);function n(e,r,i){var a;return nt(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return it(n,[{key:"_apply",value:function(e){var t=rE(e,this.type,this.ta,this.ea);return new zx(e.firestore,e.converter,function(e,t){return new em(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(HI);function tE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eE("endBefore",t,!0)}function nE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eE("endAt",t,!1)}function rE(e,t,n,r){if(n[0]=Zt(n[0]),n[0]instanceof jI)return function(e,t,n,r,i){if(!r)throw new Op(Pp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=ot(um(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Iv(t,r.key));else{var c=r.data.field(u.field);if(lv(c))throw new Op(Pp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Gv(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=mI(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Op(Pp.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!sm(e)&&-1!==c.indexOf("/"))throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(tv.fromString(c));if(!mv.isDocumentKey(l))throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new mv(l);s.push(Iv(t,f))}else{var h=SI(n,r,c);s.push(h)}}return new Gv(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function iE(e,t,n){if("string"==typeof(n=Zt(n))){if(""===n)throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sm(t)&&-1!==n.indexOf("/"))throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(tv.fromString(n));if(!mv.isDocumentKey(r))throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Iv(e,new mv(r))}if(n instanceof Bx)return Iv(e,n._key);throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Lx(n),"."))}function aE(e,t){if(!Array.isArray(e)||0===e.length)throw new Op(Pp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Op(Pp.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function oE(e,t,n){if(!n.isEqual(t))throw new Op(Pp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var sE=function(){function e(){nt(this,e)}return it(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(gv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return uv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Np()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return $p(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new cI(uv(e.latitude),uv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=fv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(hv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=sv(e);return new Qp(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=tv.fromString(e);Ap(ry(n));var r=new Nx(n.get(1),n.get(3)),i=new mv(n.popFirst(5));return r.isEqual(t)||Sp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function uE(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var cE=function(e){ut(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).firestore=e,r}return it(n,[{key:"convertBytes",value:function(e){return new sI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bx(this.firestore,null,t)}}]),n}(sE),lE=function(){function e(t,n){nt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mI(t)}return it(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=fE(e,this._firestore),i=uE(r.converter,t,n),a=gI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Dm.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=fE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Zt(t))||t instanceof oI?EI(this._dataReader,"WriteBatch.update",i._key,t,n,o):II(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Dm.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=fE(e,this._firestore);return this._mutations=this._mutations.concat(new Qm(t._key,Dm.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Op(Pp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function fE(e,t){if((e=Zt(e)).firestore!==t)throw new Op(Pp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var hE=function(e){ut(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).firestore=e,r}return it(n,[{key:"convertBytes",value:function(e){return new sI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bx(this.firestore,null,t)}}]),n}(sE);function dE(e){e=jx(e,Bx);var t=jx(e.firestore,Jx),n=$x(t),r=new hE(t);return function(e,t){var n=new Dp;return e.asyncQueue.enqueueAndForget(ge(be().mark((function r(){return be().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ge(be().mark((function e(t,n,r){var i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Rp(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Op(Pp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=jw(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,wx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new VI(t,r,e._key,n,new FI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function pE(e){e=jx(e,zx);var t=jx(e.firestore,Jx),n=$x(t),r=new hE(t);return function(e,t){var n=new Dp;return e.asyncQueue.enqueueAndForget(ge(be().mark((function r(){return be().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ge(be().mark((function e(t,n,r){var i,a,o,s,u;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ib(t,n,!0);case 3:i=e.sent,a=new n_(n,i.zn),o=a.Po(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=jw(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,wx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new zI(t,r,e,n)}))}function vE(e,t,n){e=jx(e,Bx);var r=jx(e.firestore,Jx),i=uE(e.converter,t,n);return kE(r,[gI(mI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Dm.none())])}function mE(e,t,n){e=jx(e,Bx);for(var r=jx(e.firestore,Jx),i=mI(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return kE(r,[("string"==typeof(t=Zt(t))||t instanceof oI?EI(i,"updateDoc",e._key,t,n,o):II(i,"updateDoc",e._key,t)).toMutation(e._key,Dm.exists(!0))])}function gE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Zt(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Qx(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Qx(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Bx)l=jx(e.firestore,Jx),f=nm(e._key.path),c={next:function(t){n[u]&&n[u](bE(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=jx(e,zx);l=jx(p.firestore,Jx),f=p._query;var v=new hE(l);c={next:function(e){n[u]&&n[u](new zI(l,v,p,e))},error:n[u+1],complete:n[u+2]},WI(e._query)}return function(e,t,n,r){var i=new sx(r),a=new Qw(t,i,n);return e.asyncQueue.enqueueAndForget(ge(be().mark((function t(){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=zw,t.next=3,Ix(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.nc(),e.asyncQueue.enqueueAndForget(ge(be().mark((function t(){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Zw,t.next=3,Ix(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}($x(l),f,h,c)}function yE(e,t){return function(e,t){var n=new sx(t);return e.asyncQueue.enqueueAndForget(ge(be().mark((function t(){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Rp(e).io.add(t),t.next()},t.next=3,Ix(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.nc(),e.asyncQueue.enqueueAndForget(ge(be().mark((function t(){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Rp(e).io.delete(t)},t.next=3,Ix(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}($x(e=jx(e,Jx)),Qx(t)?t:{next:t})}function kE(e,t){return function(e,t){var n=new Dp;return e.asyncQueue.enqueueAndForget(ge(be().mark((function r(){return be().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=h_,r.next=3,xx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}($x(e),t)}function bE(e,t,n){var r=n.docs.get(t._key),i=new hE(e);return new VI(e,i,t._key,r,new FI(n.hasPendingWrites,n.fromCache),t.converter)}var wE=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e,r))._firestore=e,i}return it(n,[{key:"get",value:function(e){var t=this,r=fE(e,this._firestore),i=new hE(this._firestore);return Hn(ct(n.prototype),"get",this).call(this,e).then((function(e){return new VI(t._firestore,i,r._key,e._document,new FI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){nt(this,e),this._firestore=t,this._transaction=n,this._dataReader=mI(t)}return it(e,[{key:"get",value:function(e){var t=this,n=fE(e,this._firestore),r=new cE(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Np();var i=e[0];if(i.isFoundDocument())return new jI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new jI(t._firestore,r,n._key,null,n.converter);throw Np()}))}},{key:"set",value:function(e,t,n){var r=fE(e,this._firestore),i=uE(r.converter,t,n),a=gI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=fE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Zt(t))||t instanceof oI?EI(this._dataReader,"Transaction.update",i._key,t,n,o):II(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=fE(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function _E(e,t){return function(e,t){var n=new Dp;return e.asyncQueue.enqueueAndForget(ge(be().mark((function r(){var i;return be().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return yx(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new lx(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}($x(e=jx(e,Jx)),(function(n){return t(new wE(e,n))}))}function xE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wI("arrayUnion",t)}function IE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _I("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_p=e}(Sn),gn(new Ht("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Jx(i,new Up(e.getProvider("auth-internal")),new zp(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Pn(bp,"3.4.4",e),Pn(bp,"3.4.4","esm2017")}();function EE(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Op("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function SE(){if("undefined"===typeof Uint8Array)throw new Op("unimplemented","Uint8Arrays are not available in this environment.")}function TE(){if("undefined"==typeof atob)throw new Op("unimplemented","Blobs are unavailable in Firestore in this environment.")}var CE=function(){function e(t){nt(this,e),this._delegate=t}return it(e,[{key:"toBase64",value:function(){return TE(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return SE(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return TE(),new e(sI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return SE(),new e(sI.fromUint8Array(t))}}]),e}();function NE(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ot(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var AE=function(){function e(){nt(this,e)}return it(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){aI(e=jx(e,Jx));var n=$x(e),r=e._freezeSettings(),i=new ax;return eI(n,i,new rx(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){aI(e=jx(e,Jx));var t=$x(e),n=e._freezeSettings(),r=new ax;return eI(t,r,new ix(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Op(Pp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Dp;return e._queue.enqueueAndForgetEvenWhileRestricted(ge(be().mark((function n(){return be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ny.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Ny.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Bk(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),RE=function(){function e(t,n,r){var i=this;nt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Nx||(this._appCompat=t)}return it(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Tp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Vx(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return tI(this._delegate)}},{key:"disableNetwork",value:function(){return nI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Px("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Dp;return e.asyncQueue.enqueueAndForget(ge(be().mark((function n(){return be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=x_,n.next=3,xx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}($x(e=jx(e,Jx)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return yE(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Op("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new WE(this,Zx(this._delegate,e))}catch(t){throw ME(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new jE(this,Wx(this._delegate,e))}catch(t){throw ME(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new zE(this,function(e,t){if(e=jx(e,Fx),Rx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Op(Pp.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new zx(e,null,function(e){return new em(tv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw ME(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return _E(this._delegate,(function(n){return e(new OE(t,n))}))}},{key:"batch",value:function(){var e=this;return $x(this._delegate),new DE(new lE(this._delegate,(function(t){return kE(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return rI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return iI(this._delegate,e).then((function(e){return e?new zE(t,e):null}))}}]),e}(),PE=function(e){ut(n,e);var t=dt(n);function n(e){var r;return nt(this,n),(r=t.call(this)).firestore=e,r}return it(n,[{key:"convertBytes",value:function(e){return new CE(new sI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return jE.forKey(t,this.firestore,null)}}]),n}(sE);var OE=function(){function e(t,n){nt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new PE(t)}return it(e,[{key:"get",value:function(e){var t=this,n=HE(e);return this._delegate.get(n).then((function(e){return new VE(t._firestore,new VI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=HE(e);return n?(EE("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=HE(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=HE(e);return this._delegate.delete(t),this}}]),e}(),DE=function(){function e(t){nt(this,e),this._delegate=t}return it(e,[{key:"set",value:function(e,t,n){var r=HE(e);return n?(EE("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=HE(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=HE(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),LE=function(){function e(t,n,r){nt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return it(e,[{key:"fromFirestore",value:function(e,t){var n=new BI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new BE(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new PE(t),n),i.set(n,a)),a}}]),e}();LE.INSTANCES=new WeakMap;var jE=function(){function e(t,n){nt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new PE(t)}return it(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new WE(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new WE(this.firestore,Zx(this._delegate,e))}catch(t){throw ME(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Zt(e))instanceof Bx&&Hx(this._delegate,e)}},{key:"set",value:function(e,t){t=EE("DocumentReference.set",t);try{return t?vE(this._delegate,e,t):vE(this._delegate,e)}catch(n){throw ME(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?mE(this._delegate,e):mE.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw ME(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return kE(jx(e.firestore,Jx),[new Qm(e._key,Dm.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=UE(n),a=FE(n,(function(t){return new VE(e.firestore,new VI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return gE(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?dE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=jx(e,Bx);var t=jx(e.firestore,Jx);return Sx($x(t),e._key,{source:"server"}).then((function(n){return bE(t,e,n)}))}(this._delegate):function(e){e=jx(e,Bx);var t=jx(e.firestore,Jx);return Sx($x(t),e._key).then((function(n){return bE(t,e,n)}))}(this._delegate),t.then((function(e){return new VE(n.firestore,new VI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(LE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Op("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Bx(n._delegate,r,new mv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Bx(n._delegate,r,t))}}]),e}();function ME(e,t,n){return e.message=e.message.replace(t,n),e}function UE(e){var t,n=ot(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!NE(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function FE(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=NE(e[0])?e[0]:NE(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var VE=function(){function e(t,n){nt(this,e),this._firestore=t,this._delegate=n}return it(e,[{key:"ref",get:function(){return new jE(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return ZI(this._delegate,e._delegate)}}]),e}(),BE=function(e){ut(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return it(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Np()}(void 0!==t),t}}]),n}(VE),zE=function(){function e(t,n){nt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new PE(t)}return it(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,KI(this._delegate,function(e,t,n){var r=t,i=UI("where",e);return new GI(i,r,n)}(t,n,r)))}catch(i){throw ME(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,KI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=UI("orderBy",e);return new QI(n,t)}(t,n)))}catch(r){throw ME(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,KI(this._delegate,function(e){return Mx("limit",e),new YI("limit",e,"F")}(t)))}catch(n){throw ME(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,KI(this._delegate,function(e){return Mx("limitToLast",e),new YI("limitToLast",e,"L")}(t)))}catch(n){throw ME(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,KI(this._delegate,$I.apply(void 0,arguments)))}catch(t){throw ME(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,KI(this._delegate,XI.apply(void 0,arguments)))}catch(t){throw ME(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,KI(this._delegate,tE.apply(void 0,arguments)))}catch(t){throw ME(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,KI(this._delegate,nE.apply(void 0,arguments)))}catch(t){throw ME(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Kx(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?pE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=jx(e,zx);var t=jx(e.firestore,Jx),n=$x(t),r=new hE(t);return Tx(n,e._query,{source:"server"}).then((function(n){return new zI(t,r,e,n)}))}(this._delegate):function(e){e=jx(e,zx);var t=jx(e.firestore,Jx),n=$x(t),r=new hE(t);return WI(e._query),Tx(n,e._query).then((function(n){return new zI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new ZE(n.firestore,new zI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=UE(n),a=FE(n,(function(t){return new ZE(e.firestore,new zI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return gE(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(LE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),qE=function(){function e(t,n){nt(this,e),this._firestore=t,this._delegate=n}return it(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new BE(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),ZE=function(){function e(t,n){nt(this,e),this._firestore=t,this._delegate=n}return it(e,[{key:"query",get:function(){return new zE(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new BE(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new qE(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new BE(n._firestore,r))}))}},{key:"isEqual",value:function(e){return ZI(this._delegate,e._delegate)}}]),e}(),WE=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return it(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new jE(this.firestore,e):null}},{key:"doc",value:function(e){try{return new jE(this.firestore,void 0===e?Wx(this._delegate):Wx(this._delegate,e))}catch(t){throw ME(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=jx(e.firestore,Jx),r=Wx(e),i=uE(e.converter,t);return kE(n,[gI(mI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Dm.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new jE(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Hx(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(LE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(zE);function HE(e){return jx(e,Bx)}var KE=function(){function e(){nt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=pt(oI,n)}return it(e,[{key:"isEqual",value:function(e){return(e=Zt(e))instanceof oI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(rv.keyField().canonicalString())}}]),e}(),GE=function(){function e(t){nt(this,e),this._delegate=t}return it(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new bI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new yI("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=xE.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=IE.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new xI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),QE={Firestore:RE,GeoPoint:cI,Timestamp:Qp,Blob:CE,Transaction:OE,WriteBatch:DE,DocumentReference:jE,DocumentSnapshot:VE,Query:zE,QueryDocumentSnapshot:BE,QuerySnapshot:ZE,CollectionReference:WE,FieldPath:KE,FieldValue:GE,setLogLevel:function(e){!function(e){xp.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ht("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},QE)))}(e,(function(e,t){return new RE(e,t,new AE)})),e.registerVersion("@firebase/firestore-compat","0.1.13")}(Bn);var YE="firebasestorage.googleapis.com",JE=function(e){ut(n,e);var t=dt(n);function n(e,r){var i;return nt(this,n),(i=t.call(this,$E(e),"Firebase Storage: ".concat(r," (").concat($E(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(st(i),n.prototype),i}return it(n,[{key:"_codeEquals",value:function(e){return $E(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Rt);function $E(e){return"storage/"+e}function XE(){return new JE("unknown","An unknown error occurred, please check the error payload for server response.")}function eS(){return new JE("canceled","User canceled the upload/download.")}function tS(){return new JE("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function nS(e){return new JE("invalid-argument",e)}function rS(){return new JE("app-deleted","The Firebase app was deleted.")}function iS(e){return new JE("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function aS(e,t){return new JE("invalid-format","String does not match format '"+e+"': "+t)}function oS(e){throw new JE("internal-error","Internal error: "+e)}var sS,uS=function(){function e(t,n){nt(this,e),this.bucket=t,this.path_=n}return it(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new JE("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===YE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new JE("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),cS=function(){function e(t){nt(this,e),this.promise_=Promise.reject(t)}return it(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function lS(e){return"string"===typeof e||e instanceof String}function fS(e){return hS()&&e instanceof Blob}function hS(){return"undefined"!==typeof Blob}function dS(e,t,n,r){if(r<t)throw nS("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw nS("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function pS(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function vS(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(sS||(sS={}));var mS=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;nt(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return it(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=XE();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?rS():eS());else i(new JE("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new gS(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new gS(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===sS.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new gS(o,r))}else{var s=r.getErrorCode()===sS.ABORT;t(!1,new gS(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),gS=it((function e(t,n,r){nt(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function yS(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function kS(){for(var e=yS(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(hS())return new Blob(n);throw new JE("unsupported-environment","This browser doesn't seem to support creating Blobs")}var bS={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},wS=it((function e(t,n){nt(this,e),this.data=t,this.contentType=n||null}));function _S(e,t){switch(e){case bS.RAW:return new wS(xS(t));case bS.BASE64:case bS.BASE64URL:return new wS(IS(e,t));case bS.DATA_URL:return new wS(function(e){var t=new ES(e);return t.base64?IS(bS.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw aS(bS.DATA_URL,"Malformed data URL.")}return xS(t)}(t.rest)}(t),new ES(t).contentType)}throw XE()}function xS(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function IS(e,t){switch(e){case bS.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw aS(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case bS.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw aS(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw aS(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var ES=it((function e(t){nt(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw aS(bS.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var SS=function(){function e(t,n){nt(this,e);var r=0,i="";fS(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return it(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(fS(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(hS()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(kS.apply(null,i))}var a=n.map((function(e){return lS(e)?_S(bS.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function TS(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function CS(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function NS(e,t){return t}var AS=it((function e(t,n,r,i){nt(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||NS})),RS=null;function PS(){if(RS)return RS;var e=[];e.push(new AS("bucket")),e.push(new AS("generation")),e.push(new AS("metageneration")),e.push(new AS("name","fullPath",!0));var t=new AS("name");t.xform=function(e,t){return function(e){return!lS(e)||e.length<2?e:CS(e)}(t)},e.push(t);var n=new AS("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new AS("timeCreated")),e.push(new AS("updated")),e.push(new AS("md5Hash",null,!0)),e.push(new AS("cacheControl",null,!0)),e.push(new AS("contentDisposition",null,!0)),e.push(new AS("contentEncoding",null,!0)),e.push(new AS("contentLanguage",null,!0)),e.push(new AS("contentType",null,!0)),e.push(new AS("metadata","customMetadata",!0)),RS=e}function OS(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new uS(n,r);return t._makeStorageReference(i)}})}(r,e),r}function DS(e,t,n){var r=TS(t);return null===r?null:OS(e,r,n)}function LS(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function jS(e,t,n){var r=TS(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=ot(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new uS(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,c=ot(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new uS(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var MS=it((function e(t,n,r,i){nt(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function US(e){if(!e)throw XE()}function FS(e,t){return function(n,r){var i=DS(e,r,t);return US(null!==i),i}}function VS(e,t){return function(n,r){var i=DS(e,r,t);return US(null!==i),function(e,t,n,r){var i=TS(t);if(null===i)return null;if(!lS(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return pS("/b/"+o(i)+"/o/"+o(a),n,r)+vS({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function BS(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new JE("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new JE("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new JE("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new JE("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function zS(e){var t=BS(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new JE("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function qS(e,t,n){var r=pS(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new MS(r,"GET",FS(e,n),i);return a.errorHandler=zS(t),a}function ZS(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=pS(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new MS(o,"GET",function(e,t){return function(n,r){var i=jS(e,t,r);return US(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=BS(t),u}function WS(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function HS(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=WS(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+LS(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=SS.getBlob(c,r,l);if(null===f)throw tS();var h={name:u.fullPath},d=pS(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new MS(d,"POST",FS(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=BS(t),v}var KS=it((function e(t,n,r,i){nt(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function GS(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){US(!1)}return US(!!n&&-1!==(t||["active"]).indexOf(n)),n}var QS=262144;function YS(e,t,n,r,i,a,o,s){var u=new KS(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new JE("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw tS();var v=t.maxUploadRetryTime,m=new MS(n,"POST",(function(e,n){var i,o=GS(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?FS(t,a)(e,n):null,new KS(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=BS(e),m}var JS={STATE_CHANGED:"state_changed"},$S={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function XS(e){switch(e){case"running":case"pausing":case"canceling":return $S.RUNNING;case"paused":return $S.PAUSED;case"success":return $S.SUCCESS;case"canceled":return $S.CANCELED;default:return $S.ERROR}}var eT=it((function e(t,n,r){nt(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function tT(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var nT=function(){function e(){var t=this;nt(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sS.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=sS.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=sS.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return it(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw oS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw oS("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw oS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw oS("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw oS("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),rT=function(e){ut(n,e);var t=dt(n);function n(){return nt(this,n),t.apply(this,arguments)}return it(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(nT);function iT(){return new rT}var aT=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;nt(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=PS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return it(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=(0,ye.Z)(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=WS(t,r,i),s={name:o.fullPath},u=pS(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=LS(o,n),f=e.maxUploadRetryTime,h=new MS(u,"POST",(function(e){var t;GS(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){US(!1)}return US(lS(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=BS(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,iT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new MS(n,"POST",(function(e){var t=GS(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){US(!1)}n||US(!1);var i=Number(n);return US(!isNaN(i)),new KS(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=BS(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,iT,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=QS*this._chunkMultiplier,n=new KS(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=YS(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,iT,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){QS*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=qS(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,iT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=HS(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,iT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=eS(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=XS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new eT(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(XS(this._state)){case $S.SUCCESS:tT(this._resolve.bind(null,this.snapshot))();break;case $S.CANCELED:case $S.ERROR:tT(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(XS(this._state)){case $S.RUNNING:case $S.PAUSED:e.next&&tT(e.next.bind(e,this.snapshot))();break;case $S.SUCCESS:e.complete&&tT(e.complete.bind(e))();break;default:e.error&&tT(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),oT=function(){function e(t,n){nt(this,e),this._service=t,this._location=n instanceof uS?n:uS.makeFromUrl(n,t.host)}return it(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new uS(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return CS(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new uS(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw iS(e)}}]),e}();function sT(e,t,n){return uT.apply(this,arguments)}function uT(){return(uT=ge(be().mark((function e(t,n,r){var i,a,o,s;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,cT(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,(0,Wt.Z)(s.prefixes)),(a=n.items).push.apply(a,(0,Wt.Z)(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,sT(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cT(e,t){null!=t&&"number"===typeof t.maxResults&&dS("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=ZS(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,iT)}function lT(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=pS(t.fullServerUrl(),e.host,e._protocol),a=LS(n,r),o=e.maxOperationRetryTime,s=new MS(i,"PATCH",FS(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=zS(t),s}(e.storage,e._location,t,PS());return e.storage.makeRequestWithTokens(n,iT)}function fT(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=pS(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new MS(r,"GET",VS(e,n),i);return a.errorHandler=zS(t),a}(e.storage,e._location,PS());return e.storage.makeRequestWithTokens(t,iT).then((function(e){if(null===e)throw new JE("no-download-url","The given file does not have any download URLs.");return e}))}function hT(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=pS(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new MS(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=zS(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,iT)}function dT(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new uS(e._location.bucket,n);return new oT(e.storage,r)}function pT(e,t){if(e instanceof yT){var n=e;if(null==n._bucket)throw new JE("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new oT(n,n._bucket);return null!=t?pT(r,t):r}return void 0!==t?dT(e,t):e}function vT(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof yT)return new oT(e,t);throw nS("To use ref(service, url), the first argument must be a Storage instance.")}return pT(e,t)}function mT(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:uS.makeFromBucketSpec(n,e)}function gT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:xt(i,e.app.options.projectId))}var yT=function(){function e(t,n,r,i,a){nt(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=YE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?uS.makeFromBucketSpec(i,this._host):mT(this._host,this.app.options)}return it(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=uS.makeFromBucketSpec(this._url,e):this._bucket=mT(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){dS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){dS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ge(be().mark((function e(){var t,n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ge(be().mark((function e(){var t,n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new oT(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new cS(rS());var a=function(e,t,n,r,i,a){var o=vS(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new mS(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=ge(be().mark((function e(t,n){var r,i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=(0,ye.Z)(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),kT="@firebase/storage",bT="0.9.2",wT="storage";function _T(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new aT(e,new SS(t),n)}(e=Zt(e),t,n)}function xT(e){return function(e){e._throwIfRoot("getMetadata");var t=qS(e.storage,e._location,PS());return e.storage.makeRequestWithTokens(t,iT)}(e=Zt(e))}function IT(e){return function(e){var t={prefixes:[],items:[]};return sT(e,t).then((function(){return t}))}(e=Zt(e))}function ET(e,t){return vT(e=Zt(e),t)}function ST(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};gT(e,t,n,r)}function TT(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new yT(r,i,a,n,Sn)}gn(new Ht(wT,TT,"PUBLIC").setMultipleInstances(!0)),Pn(kT,bT,""),Pn(kT,bT,"esm2017");var CT=function(){function e(t,n,r){nt(this,e),this._delegate=t,this.task=n,this.ref=r}return it(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),NT=function(){function e(t,n){nt(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return it(e,[{key:"snapshot",get:function(){return new CT(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new CT(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new CT(e,i,i._ref))}:{next:t.next?function(e){return t.next(new CT(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),AT=function(){function e(t,n){nt(this,e),this._delegate=t,this._service=n}return it(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new RT(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new RT(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),RT=function(){function e(t,n){nt(this,e),this._delegate=t,this.storage=n}return it(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return dT(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new NT(_T(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bS.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=_S(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new NT(new aT(this._delegate,new SS(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return IT(this._delegate).then((function(t){return new AT(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return cT(e=Zt(e),t)}(this._delegate,e||void 0).then((function(e){return new AT(e,t.storage)}))}},{key:"getMetadata",value:function(){return xT(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return lT(e=Zt(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return fT(Zt(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),hT(Zt(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw iS(e)}}]),e}(),PT=function(){function e(t,n){nt(this,e),this.app=t,this._delegate=n}return it(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(OT(e))throw nS("ref() expected a child path but got a URL, use refFromURL instead.");return new RT(ET(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!OT(e))throw nS("refFromURL() expected a full URL but got a child path, use ref() instead.");try{uS.makeFromUrl(e,this._delegate.host)}catch(t){throw nS("refFromUrl() expected a valid full URL but got an invalid one.")}return new RT(ET(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ST(this._delegate,e,t,n)}}]),e}();function OT(e){return/^[A-Za-z]+:\/\//.test(e)}function DT(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new PT(r,i)}!function(e){var t={TaskState:$S,TaskEvent:JS,StringFormat:bS,Storage:PT,Reference:RT};e.INTERNAL.registerComponent(new Ht("storage-compat",DT,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.10")}(Bn);Bn.initializeApp({apiKey:"AIzaSyBZlVFLNaM3WjwA-v6FpioYvKzpbAPjDXE",authDomain:"monkegram-a00ab.firebaseapp.com",projectId:"monkegram-a00ab",storageBucket:"monkegram-a00ab.appspot.com",messagingSenderId:"281620684228",appId:"1:281620684228:web:3ac17f8c84bc4b32d0d891",measurementId:"G-9W2ZPXVZBV"});var LT=function(){var e=new Bn.auth.GoogleAuthProvider;Bn.auth().signInWithPopup(e)},jT=Bn.firestore.FieldValue,MT=(Bn.firestore.FieldValue.serverTimestamp(),Bn.auth()),UT=Bn.firestore(),FT=Bn.storage().ref(),VT=Bn.storage(),BT=n(184),zT=function(e){var t=e.setOpenMenu,n=e.currentUser,r=e.logout;e.theme,e.setTheme;return(0,BT.jsx)("div",{onClick:function(e){e.preventDefault(),t(!1)},className:Qe,children:(0,BT.jsx)("div",{className:Ye,children:n?(0,BT.jsxs)(BT.Fragment,{children:[(0,BT.jsxs)(ve,{className:Je,to:"/profile/".concat(n.uid),children:[(0,BT.jsx)(ze,{className:$e}),(0,BT.jsx)("div",{children:(0,BT.jsx)("p",{children:"Profile"})})]}),(0,BT.jsxs)("div",{onClick:r,className:Je,children:[(0,BT.jsx)(Ue,{className:$e}),(0,BT.jsx)("p",{children:"Logout"})]})]}):(0,BT.jsx)(BT.Fragment,{children:(0,BT.jsxs)(he,{className:Je,to:"/sign-up",children:[(0,BT.jsx)(Ve,{className:$e}),(0,BT.jsx)("div",{children:(0,BT.jsx)("p",{children:"Sign Up"})})]})})})})},qT={nav:"nav_nav__QedYd",inner:"nav_inner__oWhQg",logoImg:"nav_logoImg__yqknh",logo:"nav_logo__vVNB6",searchInput:"nav_searchInput__curmO",icons:"nav_icons__UDt8U",icon:"nav_icon__P7IYZ",person:"nav_person__C5d3Q",add:"nav_add__jh7je",home:"nav_home__kB+Bj",heart:"nav_heart__XIzr+",chat:"nav_chat__e4z7P",notiBadge:"nav_notiBadge__OOWwU",profileLink:"nav_profileLink__074L7",notiContainer:"nav_notiContainer__rNMq5"},ZT=function(e,t){var n=(t-e)/1e3;if(n<30)return"now";if(n<60){var r=Math.floor(n);return"".concat(r,"s")}if(n>=60&&n<3600){var i=Math.floor(n/60);return"".concat(i,"m")}if(n>=3600&&n<86400){var a=Math.floor(n/3600);return"".concat(a,"h")}if(n>=86400&&n<604800){var o=Math.floor(n/86400);return"".concat(o,"d")}if(n>=604800&&n<2592e3){var s=Math.floor(n/604800);return"".concat(s,"w")}if(n>=2592e3&&n<31536e3){var u=Math.floor(n/2592e3);return"".concat(u).concat(1===u?"mth":"mths")}if(n>=31536e3){var c=Math.floor(n/31536e3);return"".concat(c).concat(1===c?"yr":"yrs")}},WT={container:"notifications__item_container__KrVh3",link:"notifications__item_link__HwV3-",start:"notifications__item_start__6z5aN",inlineLink:"notifications__item_inlineLink__7RFVA",avatar:"notifications__item_avatar__UkSrK",displayName:"notifications__item_displayName__wqstJ",type:"notifications__item_type__su3Oc",comment:"notifications__item_comment__sChCX",time:"notifications__item_time__y88tn",end:"notifications__item_end__YBwYl",preview:"notifications__item_preview__27npS",followed:"notifications__item_followed__gE3Tv"},HT=function(e){var n=e.item,r=e.userProfile,i=(0,t.useState)(),a=(0,ye.Z)(i,2),o=a[0],s=a[1],u=(0,t.useState)(),c=(0,ye.Z)(u,2),l=c[0],f=c[1],h=(0,t.useState)(),d=(0,ye.Z)(h,2),p=d[0],v=d[1],m=(0,t.useState)(),g=(0,ye.Z)(m,2),y=g[0],k=g[1],b=function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UT.collection("users").doc(n.user).get();case 2:t=e.sent,s(t.data());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=ge(be().mark((function e(){var t,i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UT.collection("users").doc(r.userID).collection("posts").doc(n.post).get();case 2:i=e.sent,a=null===(t=i.data())||void 0===t?void 0:t.src,f(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){b(),"liked"!==n.type&&"comment"!==n.type||w()}),[]),(0,t.useEffect)((function(){var e=Date.now(),t=ZT(n.time,e);k(t)}),[]),(0,t.useEffect)((function(){o&&l?("liked"===n.type&&v((0,BT.jsx)(he,{className:WT.link,to:"/post/".concat(r.userID,"/").concat(n.post),children:(0,BT.jsxs)("div",{className:WT.container,children:[(0,BT.jsxs)("div",{className:WT.start,children:[(0,BT.jsxs)(he,{className:WT.inlineLink,to:"/profile/".concat(n.user),children:[(0,BT.jsx)("div",{className:WT.avatarContainer,children:(0,BT.jsx)("img",{className:WT.avatar,src:o.profilePhoto,alt:""})}),(0,BT.jsx)("div",{className:WT.displayName,children:o.displayName})]}),(0,BT.jsx)("div",{className:WT.type,children:"liked your post."})]}),(0,BT.jsxs)("div",{className:WT.end,children:[(0,BT.jsx)("span",{className:WT.time,children:"".concat(y)}),(0,BT.jsx)("img",{className:WT.preview,src:l,alt:""})]})]})})),"comment"===n.type&&v((0,BT.jsx)(he,{className:WT.link,to:"/post/".concat(r.userID,"/").concat(n.post),children:(0,BT.jsxs)("div",{className:WT.container,children:[(0,BT.jsxs)("div",{className:WT.start,children:[(0,BT.jsxs)(he,{className:WT.inlineLink,to:"/profile/".concat(n.user),children:[(0,BT.jsx)("div",{className:WT.avatarContainer,children:(0,BT.jsx)("img",{className:WT.avatar,src:o.profilePhoto,alt:""})}),(0,BT.jsx)("div",{className:WT.displayName,children:o.displayName})]}),(0,BT.jsx)("div",{className:WT.type,children:"left a comment:"}),(0,BT.jsx)("div",{className:WT.comment,children:n.comment.length>=15?n.comment.substring(0,15)+"...":n.comment})]}),(0,BT.jsxs)("div",{className:WT.end,children:[(0,BT.jsx)("span",{className:WT.time,children:"".concat(y)}),(0,BT.jsx)("img",{className:WT.preview,src:l,alt:""})]})]})}))):o&&"followed"===n.type&&v((0,BT.jsx)(he,{className:WT.link,to:"/profile/".concat(n.user),children:(0,BT.jsxs)("div",{className:WT.container,children:[(0,BT.jsxs)("div",{className:WT.start,children:[(0,BT.jsx)("div",{className:WT.avatarContainer,children:(0,BT.jsx)("img",{className:WT.avatar,src:o.profilePhoto,alt:""})}),(0,BT.jsx)("div",{className:WT.displayName,children:o.displayName}),(0,BT.jsx)("div",{className:WT.type,children:"followed you."})]}),(0,BT.jsxs)("div",{className:WT.end,children:[(0,BT.jsx)("span",{className:WT.time,children:"".concat(y)}),(0,BT.jsx)(Be,{className:WT.followed})]})]})}))}),[l,o]),(0,BT.jsx)(BT.Fragment,{children:o&&p})},KT=t.createContext();function GT(){return(0,t.useContext)(KT)}function QT(e){var n=e.children,r=(0,t.useState)(),i=(0,ye.Z)(r,2),a=i[0],o=i[1],s=(0,t.useState)(),u=(0,ye.Z)(s,2),c=u[0],l=u[1],f=(0,t.useState)(),h=(0,ye.Z)(f,2),d=h[0],p=h[1],v=(0,t.useState)(!0),m=(0,ye.Z)(v,2),g=m[0],y=m[1],k=ie();(0,t.useEffect)((function(){return MT.onAuthStateChanged((function(e){o(e),y(!1)}))}),[]);var b=function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UT.collection("users").doc(a.uid).get();case 2:t=e.sent,l(t.data());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){if(a&&b(),d&&a)return UT.collection("users").doc(a.uid).get().then((function(e){e.exists||(MT.signOut(),p(!1))}))}),[a]);var w=function(){var e=ge(be().mark((function e(t){var n,r,i,o,s,u;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===a){e.next=24;break}return e.next=3,UT.collection("users").doc(a.uid).get();case 3:if(e.sent.exists){e.next=23;break}return e.next=7,UT.collection("users").where("username","==",t).get().then((function(e){return e.forEach((function(e){n=e.data()}))}));case 7:if(void 0!==n){e.next=20;break}return r=a.displayName.toLowerCase(),i=Date.now(),e.next=12,UT.collection("users").doc(a.uid).set({displayName:a.displayName,searchName:r,profilePhoto:a.photoURL,banner:"https://firebasestorage.googleapis.com/v0/b/insta-a107a.appspot.com/o/default-banner.jpg?alt=media&token=d3c53902-0e3a-4761-8705-8991db9d7b68",bio:"Hi my name is ".concat(a.displayName),username:t,userID:a.uid,joinDate:a.metadata.creationTime,lastPostDate:0,likedPosts:[],postsCounter:0,followers:[],following:["otCUufb9ukYZlSN6JoJ2fV6R49J2"],messagesCounter:0,notifications:[],theme:"light"}).catch((function(e){console.error("Error writing new message to database",e)}));case 12:return o=function(){UT.collection("users").doc(a.uid).collection("messages").doc("otCUufb9ukYZlSN6JoJ2fV6R49J2").set({messages:[{message:"Hi ".concat(a.displayName,", Thanks for signing up and testing my project. Please look around and test all the features you can. You can reply to this message if you'd like, but I might not see it. So, to get in touch please contact aty KJSCE made by ALi,Vivek,Umesh"),time:i,user:"otCUufb9ukYZlSN6JoJ2fV6R49J2"}],time:i,user:"otCUufb9ukYZlSN6JoJ2fV6R49J2"})},s=function(){UT.collection("users").doc("otCUufb9ukYZlSN6JoJ2fV6R49J2").update({followers:jT.arrayUnion(a.uid)})},u=function(){UT.collection("users").doc("otCUufb9ukYZlSN6JoJ2fV6R49J2").update({notifications:jT.arrayUnion({user:a.uid,type:"followed",time:i})})},e.next=17,Promise.all([o(),s(),u()]);case 17:k.push("/settings"),e.next=21;break;case 20:MT.signOut();case 21:e.next=24;break;case 23:k.push("/");case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_={currentUser:a,userProfile:c,getUserProfile:b,login:function(){LT(),p(!0)},logout:function(){return l(null),k.push("/"),MT.signOut()},firebaseRegister:w};return(0,BT.jsx)(KT.Provider,{value:_,children:!g&&n})}var YT="notifications_container__iFK-u",JT="notifications_inner__FEV97",$T="notifications_loader__cdz+S",XT="notifications_none__y9p61",eC=function(e){var n,r=e.handleNoti,i=e.setCurrentNotis,a=e.notiArray,o=GT(),s=o.userProfile,u=o.getUserProfile,c=(0,t.useState)(!0),l=(0,ye.Z)(c,2),f=l[0],h=l[1],d=ie();return(0,t.useEffect)((function(){s?u():(d.push("/sign-up"),r())}),[]),(0,t.useEffect)((function(){s&&h(!1)}),[s]),(0,t.useEffect)((function(){f||i(0)}),[f]),f&&(n=(0,BT.jsx)("div",{className:"".concat($T," loader")})),f||(n=a&&a.length>0?a.map((function(e){return(0,BT.jsx)(HT,{userProfile:s,item:e},e.time)})):(0,BT.jsx)("p",{className:XT,children:"No Notifications"})),(0,BT.jsx)("div",{onClick:r,className:YT,children:(0,BT.jsx)("div",{className:JT,children:n})})},tC={container:"nav__search__item_container__h1zOx",link:"nav__search__item_link__sjIVi",start:"nav__search__item_start__PBXtq",avatar:"nav__search__item_avatar__mbG4j",displayName:"nav__search__item_displayName__LjUNH",type:"nav__search__item_type__7DfIC"},nC=function(e){var n=e.src,r=e.position,i=void 0===r?"relative":r,a=e.width,o=void 0===a?"100%":a,s=e.height,u=void 0===s?"100%":s,c=e.transition,l=void 0===c?.7:c,f=e.cursor,h=void 0===f?"pointer":f,d=e.borderRadius,p=void 0===d?"0":d,v=e.shadow,m=void 0===v?"none":v,g=e.zIndex,y=void 0===g?"1":g,k=e.transform,b=void 0===k?"initial":k,w=(0,t.useState)(!0),_=(0,ye.Z)(w,2),x=_[0],I=_[1],E={width:o,height:u,position:i,zIndex:y,background:"var(--loading-gradient)",backgroundSize:"200%",animation:"2s linear infinite gradientMove",borderRadius:p,boxShadow:m,transform:b},S={width:o,height:u,position:i,zIndex:y,background:"var(--loading-gradient)",backgroundSize:"200%",animation:"none",display:"block",borderRadius:p,boxShadow:m,transform:b},T={position:i,width:o,height:u,objectFit:"cover",objectPosition:"center",cursor:h,opacity:"1",transition:"opacity ".concat(l,"s"),borderRadius:p,boxShadow:m,transform:b},C={position:i,width:o,height:u,opacity:"0",borderRadius:p,transform:b};return(0,BT.jsx)(BT.Fragment,{children:(0,BT.jsx)("div",{style:x?E:S,children:(0,BT.jsx)("img",{style:x?C:T,onLoad:function(){I(!1)},src:n,alt:""})})})},rC=function(e){var t=e.item,n=e.setOpenSearch,r=e.setSearchInput,i=ie();return(0,BT.jsx)("div",{onClick:function(){i.push("/profile/".concat(t.userID)),n(!1),r("")},className:tC.container,children:(0,BT.jsx)("div",{className:tC.container,children:(0,BT.jsxs)("div",{className:tC.start,children:[(0,BT.jsx)("div",{className:tC.avatarContainer,children:(0,BT.jsx)(nC,{borderRadius:"100%",width:"25px",height:"25px",src:t.profilePhoto})}),(0,BT.jsx)("div",{className:tC.displayName,children:t.displayName}),(0,BT.jsxs)("div",{className:tC.type,children:["@",t.username]})]})})})},iC="nav__search_container__Dthf0",aC="nav__search_inner__+wTFi",oC="nav__search_loader__Q3dRA",sC="nav__search_noResults__Aby1Y",uC=function(e){var n,r=e.searchInput,i=e.setOpenSearch,a=e.setSearchInput,o=e.searchRef,s=(0,t.useState)([]),u=(0,ye.Z)(s,2),c=u[0],l=u[1],f=(0,t.useState)(!0),h=(0,ye.Z)(f,2),d=h[0],p=h[1];return(0,t.useEffect)((function(){var e=function(e){o.current&&!o.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),(0,t.useEffect)((function(){var e=function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===r){e.next=7;break}return p(!0),t=[],e.next=5,UT.collection("users").where("searchName",">=",r.toLowerCase()).where("searchName","<=",r.toLowerCase()+"\uf8ff").limit(5).get().then((function(e){return e.forEach((function(e){t.push(e.data())}))}));case 5:l(t),p(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]),d&&(n=(0,BT.jsx)("div",{className:"loader ".concat(oC)})),d||(n=(0,BT.jsxs)(BT.Fragment,{children:[0===c.length&&(0,BT.jsx)("p",{className:sC,children:"No Results"}),c.map((function(e){return(0,BT.jsx)(rC,{setSearchInput:a,setOpenSearch:i,item:e},e.username)}))]})),(0,BT.jsx)("div",{ref:o,className:iC,children:(0,BT.jsx)("div",{className:aC,children:n})})},cC=function(e,t){var n;return function(){var r=arguments,i=this;clearTimeout(n),n=setTimeout((function(){e.apply(i,r)}),t)}},lC=function(e){!1===e?document.body.classList.add("stop-scrolling"):document.body.classList.remove("stop-scrolling")},fC=function(e,t,n,r){var i=e.target.files[0];if(i&&i.size<5e6){var a=new FileReader;a.readAsDataURL(i),a.onload=function(e){var i=document.createElement("img");i.src=e.target.result,i.onload=function(e){var i=document.createElement("canvas"),a=r,o=a/e.target.width;i.width=a,i.height=e.target.height*o;var s=i.getContext("2d");s.drawImage(e.target,0,0,i.width,i.height);var u=s.canvas.toDataURL(e.target,"image/jpeg");"none"!==t&&t(u),s.canvas.toBlob((function(e){n(e)}),"image/jpeg",.7)}}}},hC="profile__upload_modal__57W4Y",dC="profile__upload_container__JWJ-Y",pC="profile__upload_header__afux2",vC="profile__upload_close__A2LTE",mC="profile__upload_topContainer__cEBHz",gC="profile__upload_uploadContainer__kECu4",yC="profile__upload_upload__JmxHu",kC="profile__upload_buttonContainer__G8Qzh",bC="profile__upload_fileInput__gZvEz",wC="profile__upload_preview__4R6uP",_C="profile__upload_captionContainer__7uXMZ",xC="profile__upload_captionInput__M+LQT",IC="profile__upload_postButton__gI+Fx",EC="profile__upload_saveBtn__OnfWB",SC="profile__upload_loader__OEzGS",TC=function(e){var n=e.getModal,r=e.setNewPost,i=(0,t.useState)(null),a=(0,ye.Z)(i,2),o=a[0],s=a[1],u=(0,t.useState)(""),c=(0,ye.Z)(u,2),l=c[0],f=c[1],h=(0,t.useState)(!1),d=(0,ye.Z)(h,2),p=d[0],v=d[1],m=(0,t.useState)(),g=(0,ye.Z)(m,2),y=g[0],k=g[1],b=GT(),w=b.userProfile,_=b.getUserProfile,x=function(){var e=ge(be().mark((function e(t){var i,a,s,u;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Date.now(),t.preventDefault(),v(!0),e.next=5,UT.collection("users").doc(w.userID).collection("posts").add({date:i,likes:[],comments:[],caption:l,userID:w.userID});case 5:return a=e.sent,s=FT.child("".concat(w.userID,"/").concat(a.id)),e.next=9,s.put(o);case 9:return e.next=11,s.getDownloadURL();case 11:return u=e.sent,e.next=14,a.set({src:u},{merge:!0});case 14:return e.next=16,UT.collection("users").doc(w.userID).set({postsCounter:w.postsCounter+1,lastPostDate:i},{merge:!0});case 16:if(n(t),v(!1),_(),r){e.next=21;break}return e.abrupt("return");case 21:r((function(e){return e+1}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,BT.jsx)("div",{className:hC,children:(0,BT.jsxs)("div",{className:dC,children:[(0,BT.jsxs)("div",{className:pC,children:[(0,BT.jsx)("h3",{children:"Create New Post"}),(0,BT.jsx)(Pe,{onClick:n,className:vC})]}),(0,BT.jsxs)("div",{className:mC,children:[(0,BT.jsx)("img",{style:y?null:{display:"none"},className:wC,src:y,alt:""}),(0,BT.jsx)("div",{style:y&&{display:"none"},className:gC,children:(0,BT.jsxs)("label",{className:kC,children:[(0,BT.jsx)("input",{onChange:function(e){var t=e.target.files[0];t&&t.size<5e6?fC(e,k,s,1e3):s(null)},type:"file",accept:"image/jpeg, image/png, image/jpg",className:bC}),(0,BT.jsx)(Oe,{className:yC}),(0,BT.jsx)("p",{children:null===o?"File size limit 5 mb.":"ready to post"})]})}),(0,BT.jsx)("div",{children:(0,BT.jsx)("div",{className:_C,children:(0,BT.jsx)("textarea",{className:xC,name:"caption",maxLength:"150",placeholder:"Enter Caption...",onChange:function(e){e.preventDefault(),f(e.target.value)}})})})]}),p?(0,BT.jsx)("div",{className:"".concat(SC," loader")}):(0,BT.jsx)("button",{onClick:null!==o?x:function(e){e.preventDefault()},type:"submit",className:null===o?IC:EC,children:"Post"})]})})},CC=function(){var e=GT(),n=e.currentUser,r=e.logout,i=e.userProfile,a=(0,t.useState)("light"),o=(0,ye.Z)(a,2),s=o[0],u=o[1],c=(0,t.useState)(!1),l=(0,ye.Z)(c,2),f=l[0],h=l[1],d=(0,t.useState)(!1),p=(0,ye.Z)(d,2),v=p[0],m=p[1],g=(0,t.useState)(!1),y=(0,ye.Z)(g,2),k=y[0],b=y[1],w=(0,t.useState)(0),_=(0,ye.Z)(w,2),x=_[0],I=_[1],E=(0,t.useState)([]),S=(0,ye.Z)(E,2),T=S[0],C=S[1],N=(0,t.useState)(""),A=(0,ye.Z)(N,2),R=A[0],P=A[1],O=(0,t.useState)(""),D=(0,ye.Z)(O,2),L=D[0],j=D[1],M=(0,t.useState)(!1),U=(0,ye.Z)(M,2),F=U[0],V=U[1],B=ie(),z=function(e){if(e.preventDefault(),!i)return B.push("/sign-up");V(!F),lC(F)},q=function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return",B.push("/sign-up"));case 2:if(!v){e.next=6;break}m(!1),e.next=12;break;case 6:return C(i.notifications),I(0),m(!0),t=UT.collection("users").doc(i.userID),e.next=12,t.set({notifications:[]},{merge:!0});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=(0,t.useRef)(),W=(0,t.useRef)();(0,t.useEffect)((function(){var e=function(e){Z.current&&!Z.current.contains(e.target)&&h(!1),W.current&&!W.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),(0,t.useEffect)((function(){if(i&&i.notifications){var e=i.notifications.length;I(e)}i&&i.theme&&("dark"===i.theme?(et(),u("dark")):"light"===i.theme&&u("light"))}),[i]);var H=(0,t.useCallback)(cC((function(e){return P(e)}),500),[]),K=(0,t.useRef)();return(0,BT.jsx)(BT.Fragment,{children:F?(0,BT.jsx)(TC,{getModal:z}):(0,BT.jsx)("div",{className:qT.nav,children:(0,BT.jsxs)("div",{className:qT.inner,children:[(0,BT.jsx)(he,{to:"/",children:(0,BT.jsx)("div",{className:qT.logo,children:(0,BT.jsx)("img",{className:qT.logoImg,src:Ge,alt:""})})}),(0,BT.jsxs)("div",{className:qT.search,children:[(0,BT.jsx)("form",{autoComplete:"off",children:(0,BT.jsx)("input",{ref:K,onChange:function(e){j(e.target.value),H(e.target.value)},value:L,className:qT.searchInput,onClick:function(e){e.preventDefault(),!k&&b(!0)},type:"text",placeholder:"Search"})}),k&&""!==R?(0,BT.jsx)(uC,{setSearchInput:P,searchInput:R,setOpenSearch:b,searchRef:K}):null]}),(0,BT.jsxs)("div",{className:qT.icons,children:[(0,BT.jsx)(ve,{exact:!0,to:"/",children:(0,BT.jsx)(je,{className:qT.icon+" "+qT.home})}),(0,BT.jsx)(ve,{exact:!0,to:i?"/messages":"/sign-up",children:(0,BT.jsx)(Ae,{className:qT.icon+" "+qT.chat})}),(0,BT.jsx)(Ce,{onClick:z,className:qT.icon+" "+qT.add}),(0,BT.jsxs)("div",{onClick:q,className:qT.notiContainer,ref:W,children:[(0,BT.jsx)(Le,{className:qT.icon+" "+qT.heart}),x>0?(0,BT.jsx)("div",{className:qT.notiBadge,children:x}):null,v&&(0,BT.jsx)(eC,{notiArray:T,setCurrentNotis:I,handleNoti:q})]}),(0,BT.jsxs)("div",{className:"user-menu-container",ref:Z,children:[(0,BT.jsx)(ve,{className:qT.profileLink,onClick:function(e){return e.preventDefault()},exact:!0,to:"/profile/".concat(null===n||void 0===n?void 0:n.uid),children:(0,BT.jsx)(qe,{onClick:function(e){e.preventDefault(),h(!f)},className:qT.icon+" "+qT.person})}),f&&(0,BT.jsx)(zT,{theme:s,setTheme:u,setOpenMenu:h,logout:r,currentUser:n})]})]})]})})})},NC="home__login_loginButtons__9bHJf",AC="home__login_signUp__6sHz8",RC="home__login_login__tKm0z",PC=function(){var e=GT(),t=e.login,n=e.currentUser;return(0,BT.jsx)("div",{children:!n&&(0,BT.jsxs)("div",{className:NC,children:[(0,BT.jsx)(he,{id:"home__sidebar__sign-up",to:"/sign-up",children:(0,BT.jsx)("button",{className:AC,children:"Sign Up"})}),(0,BT.jsx)("button",{className:RC,onClick:function(e){e.preventDefault(),t()},children:"Login"})]})})},OC={modal:"profile__followers-modal_modal__HMwUA",anim:"profile__followers-modal_anim__dTOdW",container:"profile__followers-modal_container__pL4-7",header:"profile__followers-modal_header__r4mJi",activeHeader:"profile__followers-modal_activeHeader__1rQU6",inactiveHeader:"profile__followers-modal_inactiveHeader__YiTxW",tabs:"profile__followers-modal_tabs__CXcYh",close:"profile__followers-modal_close__u+8Ym",listContainer:"profile__followers-modal_listContainer__NI7FU",listItem:"profile__followers-modal_listItem__+Znoq",start:"profile__followers-modal_start__fShsY",avatarContainer:"profile__followers-modal_avatarContainer__4uHuP",names:"profile__followers-modal_names__7lsYl",displayName:"profile__followers-modal_displayName__syGYh",username:"profile__followers-modal_username__BzKAn",link:"profile__followers-modal_link__+X2VR",profileBtn:"profile__followers-modal_profileBtn__0huvu",dummy:"profile__followers-modal_dummy__WD3x3"},DC=function(e){var n=e.Styles,r=e.currentUser,i=e.match,a=e.currentProfile,o=e.getUserObject,s=e.handleFollowers,u=(0,t.useState)(!1),c=(0,ye.Z)(u,2),l=c[0],f=c[1],h=GT().userProfile,d=ie();(0,t.useEffect)((function(){var e=null===a||void 0===a?void 0:a.followers.includes(null===h||void 0===h?void 0:h.userID);f(!!e)}),[a]);var p=function(){var e=ge(be().mark((function e(t){var n,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h){e.next=3;break}return e.abrupt("return",d.push("/sign-up"));case 3:return n=UT.collection("users").doc(i),r=UT.collection("users").doc(h.userID),e.next=7,n.update({followers:jT.arrayUnion(h.userID)});case 7:return e.next=9,r.update({following:jT.arrayUnion(a.userID)});case 9:return e.next=11,n.update({notifications:jT.arrayUnion({user:h.userID,type:"followed",time:Date.now()})});case 11:o();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=ge(be().mark((function e(t){var n,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=UT.collection("users").doc(i),r=UT.collection("users").doc(h.userID),e.next=5,n.update({followers:jT.arrayRemove(h.userID)});case 5:return e.next=7,r.update({following:jT.arrayRemove(a.userID)});case 7:o();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=(0,BT.jsx)("button",{onClick:p,className:n.profileBtn,children:"Follow"});return l&&(m=(0,BT.jsx)("button",{onClick:v,className:n.profileBtn,children:"Unfollow"})),(null===r||void 0===r?void 0:r.uid)===i&&(m=(0,BT.jsx)("button",{onClick:function(e){e.preventDefault(),s&&s(e),d.push("/settings")},className:n.profileBtn,children:"Edit Profile"})),(0,BT.jsx)(BT.Fragment,{children:m})},LC=function(e){var n=e.item,r=e.Styles,i=e.handleFollowers,a=e.currentTab,o=e.currentUser,s=(0,t.useState)(null),u=(0,ye.Z)(s,2),c=u[0],l=u[1],f=ie(),h=function(){var e=ge(be().mark((function e(){var t,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=UT.collection("users").doc(n),e.next=3,t.get();case 3:r=e.sent,l(r.data());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){h()}),[a]);return(0,BT.jsxs)("div",{className:r.listItem,children:[(0,BT.jsxs)("div",{onClick:function(e){e.preventDefault(),i(e),f.push("/profile/".concat(null===c||void 0===c?void 0:c.userID))},className:r.start,children:[(0,BT.jsx)("div",{className:r.avatarContainer,children:(0,BT.jsx)(nC,{src:null===c||void 0===c?void 0:c.profilePhoto,borderRadius:"100%"})}),(0,BT.jsxs)("div",{className:r.names,children:[(0,BT.jsx)("p",{className:r.displayName,children:null===c||void 0===c?void 0:c.displayName}),(0,BT.jsxs)("p",{className:r.username,children:["@",null===c||void 0===c?void 0:c.username]})]})]}),(0,BT.jsx)(DC,{currentProfile:c,match:null===c||void 0===c?void 0:c.userID,currentUser:o,getUserObject:h,Styles:r,handleFollowers:i})]})},jC=function(e,n){var r=(0,t.useState)(!1),i=(0,ye.Z)(r,2),a=i[0],o=i[1];return(0,t.useEffect)((function(){var t=new IntersectionObserver((function(e){if((0,ye.Z)(e,1)[0].isIntersecting&&!a){if(!n)return o(!0);!1===n.current&&o(!0)}}),{root:null,rootMargin:"0px",threshold:.1});return e.current&&t.observe(e.current),function(){t.disconnect()}}),[e]),[a,o]},MC=function(e){var n=e.openFollowers,r=e.handleFollowers,i=e.currentProfile,a=e.currentTab,o=e.setCurrentTab,s=e.currentUser,u=(0,t.useState)([]),c=(0,ye.Z)(u,2),l=c[0],f=c[1],h=(0,t.useRef)(),d=jC(h),p=(0,ye.Z)(d,2),v=p[0],m=p[1],g=function(e){e.preventDefault();var t=e.target.getAttribute("data-type");o(t)};(0,t.useEffect)((function(){if(i){var e=i.followers,t=i.following,n=("following"===a?t:e).slice(0).reverse().slice(0,10);f((0,Wt.Z)(n))}}),[a]);var y;return(0,t.useEffect)((function(){v&&function(){if(i){var e=i.followers,t=i.following,n=("following"===a?t:e).slice(0).reverse().slice(l.length,l.length+10),r=[].concat((0,Wt.Z)(l),(0,Wt.Z)(n));f(r)}}()}),[v]),(0,t.useEffect)((function(){m(!1)}),[l]),"following"===a&&(y=l.map((function(e){return(0,BT.jsx)(LC,{currentTab:a,handleFollowers:r,item:e,Styles:OC,currentUser:s},e)}))),"followers"===a&&(y=l.map((function(e){return(0,BT.jsx)(LC,{currentTab:a,handleFollowers:r,item:e,Styles:OC,currentUser:s},e)}))),(0,BT.jsx)(BT.Fragment,{children:n&&(0,BT.jsx)("div",{className:OC.modal,children:(0,BT.jsxs)("div",{className:OC.container,children:[(0,BT.jsxs)("div",{className:OC.header,children:[(0,BT.jsxs)("div",{className:OC.tabs,children:[(0,BT.jsx)("div",{onClick:g,"data-type":"following",className:"following"===a?OC.activeHeader:OC.inactiveHeader,children:(0,BT.jsx)("h3",{"data-type":"following",children:"Following"})}),(0,BT.jsx)("div",{onClick:g,"data-type":"followers",className:"followers"===a?OC.activeHeader:OC.inactiveHeader,children:(0,BT.jsx)("h3",{"data-type":"followers",children:"Followers"})})]}),(0,BT.jsx)(Pe,{onClick:r,className:OC.close})]}),(0,BT.jsxs)("div",{className:OC.listContainer,children:[y,(0,BT.jsx)("div",{className:OC.dummy,ref:h})]})]})})})},UC={sidebar:"home__sidebar_sidebar__YaTZx",container:"home__sidebar_container__tB4Ds",profileContainer:"home__sidebar_profileContainer__bZRns",imageContainer:"home__sidebar_imageContainer__8ocap",profileImg:"home__sidebar_profileImg__iuZTd",profileImgBlur:"home__sidebar_profileImgBlur__dvhSA",fade:"home__sidebar_fade__-WBNx",nameContainer:"home__sidebar_nameContainer__f5YNk",username:"home__sidebar_username__mcMe7",stats:"home__sidebar_stats__gzsqB",postsLink:"home__sidebar_postsLink__palb+",statContainer:"home__sidebar_statContainer__1Ar53",stat:"home__sidebar_stat__eINhX",number:"home__sidebar_number__RfnNk"},FC=function(e){var n=e.setNewPost,r=GT().userProfile,i=(0,t.useState)(!1),a=(0,ye.Z)(i,2),o=a[0],s=a[1],u=(0,t.useState)(),c=(0,ye.Z)(u,2),l=c[0],f=c[1],h=(0,t.useState)(!1),d=(0,ye.Z)(h,2),p=d[0],v=d[1],m=function(e){e.preventDefault();var t=e.target.getAttribute("data-type");f(t),s(!o),lC(o)},g=function(e){e.preventDefault(),v(!p),lC(p)};return(0,BT.jsxs)("div",{className:UC.sidebar,children:[(0,BT.jsx)(MC,{currentProfile:r,handleFollowers:m,setOpenFollowers:s,openFollowers:o,currentTab:l,setCurrentTab:f,currentUser:r}),p&&(0,BT.jsx)(TC,{setNewPost:n,getModal:g}),(0,BT.jsxs)("div",{className:UC.container,children:[r&&(0,BT.jsx)(he,{to:"/profile/".concat(r.userID),children:(0,BT.jsxs)("div",{className:UC.profileContainer,children:[(0,BT.jsxs)("div",{className:UC.imageContainer,children:[(0,BT.jsx)(nC,{src:r.profilePhoto,position:"absolute",width:"80px",height:"80px",cursor:"pointer",borderRadius:"100%"}),(0,BT.jsx)("img",{className:UC.profileImgBlur,src:r.profilePhoto,alt:""})]}),(0,BT.jsxs)("div",{className:UC.nameContainer,children:[(0,BT.jsx)("h2",{className:UC.displayName,children:r.displayName}),(0,BT.jsxs)("p",{className:UC.username,children:["@",r.username]})]})]})}),r&&(0,BT.jsxs)("div",{className:UC.stats,children:[(0,BT.jsxs)("div",{onClick:m,"data-type":"following",className:UC.statContainer,children:[(0,BT.jsx)("div",{"data-type":"following",className:UC.stat,children:(0,BT.jsx)("p",{"data-type":"following",className:UC.number,children:r.following.length})}),(0,BT.jsx)("p",{"data-type":"following",children:"Following"})]}),(0,BT.jsxs)("div",{onClick:m,"data-type":"followers",className:UC.statContainer,children:[(0,BT.jsx)("div",{"data-type":"followers",className:UC.stat,children:(0,BT.jsx)("p",{"data-type":"followers",className:UC.number,children:r.followers.length})}),(0,BT.jsx)("p",{"data-type":"followers",children:"Followers"})]}),(0,BT.jsx)(he,{className:UC.postsLink,to:"/profile/".concat(r.userID),children:(0,BT.jsxs)("div",{className:UC.statContainer,children:[(0,BT.jsx)("div",{className:UC.stat,children:(0,BT.jsx)("p",{className:UC.number,children:r.postsCounter})}),(0,BT.jsx)("p",{children:"Posts"})]})}),(0,BT.jsxs)("div",{onClick:g,className:UC.statContainer,children:[(0,BT.jsx)("div",{className:UC.stat,children:(0,BT.jsx)(Ce,{})}),(0,BT.jsx)("p",{children:"New Post"})]})]}),(0,BT.jsx)(PC,{})]})]})},VC=n(94),BC={card:"home__card_card__2Mf6l",container:"home__card_container__8LLDQ",header:"home__card_header__a8a-y",left:"home__card_left__eWgZ5",right:"home__card_right__gDiJM",moreIcon:"home__card_moreIcon__GIhso",avatar:"home__card_avatar__w3B2v",userInfo:"home__card_userInfo__Culuj",displayName:"home__card_displayName__oZYVp",username:"home__card_username__oLXZg",loading:"home__card_loading__sme3O",gradientMove:"home__card_gradientMove__nBATZ",imageLink:"home__card_imageLink__EiDNC",imageContainer:"home__card_imageContainer__CVScB",imageBlur:"home__card_imageBlur__GuMWK",fade:"home__card_fade__a1AxQ",footer:"home__card_footer__VVqcF",firstChild:"home__card_firstChild__O5ZRH",icon:"home__card_icon__2AOks",likeIcon:"home__card_likeIcon__C9a-B",likedIcon:"home__card_likedIcon__ISUtt",likes:"home__card_likes__BVW43",commentContainer:"home__card_commentContainer__5Jbrk",comments:"home__card_comments__mQe-4",viewAll:"home__card_viewAll__DprBe",comment:"home__card_comment__XxQvF",commentUser:"home__card_commentUser__2YroS",commentBox:"home__card_commentBox__lxnk0",commentForm:"home__card_commentForm__Dlhqd",inputBox:"home__card_inputBox__2BK1l",send:"home__card_send__1XkzE"},zC=function(e){var n=e.post,r=e.userID,i=e.setLikeState,a=(0,t.useState)(!1),o=(0,ye.Z)(a,2),s=o[0],u=o[1],c=GT().userProfile,l=ie(),f=function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c&&c.likedPosts&&(c.likedPosts.includes(n.id)?u(!0):u(!1));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){f()}),[c]);var h=function(){var e=ge(be().mark((function e(t){var a,o,f,h,d,p,v,m;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!c||!r){e.next=21;break}if(a=UT.collection("users").doc(r).collection("posts").doc(n.id),o=UT.collection("users").doc(c.userID),f=UT.collection("users").doc(r),s){e.next=15;break}return u(!0),i((function(e){return e+1})),h=function(){a.update({likes:jT.arrayUnion(c.userID)})},d=function(){o.update({likedPosts:jT.arrayUnion(n.id)})},p=function(){f.update({notifications:jT.arrayUnion({user:c.userID,type:"liked",post:n.id,time:Date.now()})})},e.next=13,Promise.all([p(),h(),d()]);case 13:e.next=19;break;case 15:return v=function(){u(!1),i((function(e){return e-1})),a.update({likes:jT.arrayRemove(c.userID)})},m=function(){o.update({likedPosts:jT.arrayRemove(n.id)})},e.next=19,Promise.all([v(),m()]);case 19:e.next=22;break;case 21:l.push("/sign-up");case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,BT.jsx)(Le,{onClick:h,className:s?BC.likedIcon:BC.likeIcon})},qC=function(e){var n=e.Styles,r=e.item,i=(0,t.useState)(),a=(0,ye.Z)(i,2),o=a[0],s=a[1];return(0,t.useEffect)((function(){var e=function(){var e=ge(be().mark((function e(){var t,n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=UT.collection("users").doc(r.user),e.next=3,t.get();case 3:n=e.sent,s(n.data());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]),(0,BT.jsx)(BT.Fragment,{children:o&&(0,BT.jsxs)("p",{className:n.comment,children:[(0,BT.jsx)(he,{to:"/profile/".concat(o.userID),children:(0,BT.jsx)("span",{className:n.commentUser,children:o.displayName})}),r.comment.length>=15?r.comment.substring(0,50)+"...":r.comment]})})},ZC=function(e){var n=e.Styles,r=e.userID,i=e.post,a=(0,t.useState)([]),o=(0,ye.Z)(a,2),s=o[0],u=o[1],c=(0,t.useState)(""),l=(0,ye.Z)(c,2),f=l[0],h=l[1],d=GT().userProfile;(0,t.useEffect)((function(){var e=i.data().comments,t=e.slice(Math.max(e.length-2,0));u(t)}),[i]);var p=function(){var e=ge(be().mark((function e(t){var n,a,o,c,l,p,v;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!d){e.next=15;break}if(!(f.length>0&&f.length<100)){e.next=15;break}return n=Date.now(),a={time:n,comment:f,user:d.userID},(o=s.slice(Math.max(s.length-1,0))).push(a),c=UT.collection("users").doc(r).collection("posts").doc(i.id),l=UT.collection("users").doc(r),p=function(){c.update({comments:jT.arrayUnion(a)})},v=function(){l.update({notifications:jT.arrayUnion({user:d.userID,type:"comment",comment:f,post:i.id,time:n})})},e.next=13,Promise.all([v(),p()]);case 13:u(o),h("");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,BT.jsxs)(BT.Fragment,{children:[(0,BT.jsxs)("div",{className:n.comments,children:[(0,BT.jsx)(he,{className:n.imageLink,to:"/Post/".concat(r,"/").concat(i.id),children:(0,BT.jsx)("p",{className:n.viewAll,children:0===s.length?"No Comments":"View All Comments"})}),(0,BT.jsx)("div",{className:n.commentContainer,children:s.map((function(e){return(0,BT.jsx)(qC,{item:e,Styles:n},e.time)}))})]}),(0,BT.jsxs)("div",{className:n.commentBox,children:[(0,BT.jsx)("form",{onSubmit:p,className:n.commentForm,children:(0,BT.jsx)("input",{className:n.inputBox,value:f,onChange:function(e){h(e.target.value)},type:"text",placeholder:"Add a comment...",maxLength:"99"})}),(0,BT.jsx)(Ze,{onClick:p,className:n.send})]})]})},WC=function(e){var t=e.Styles,n=e.src,r=e.userID,i=e.postID;return(0,BT.jsx)(he,{className:t.imageLink,to:"/post/".concat(r,"/").concat(i),children:(0,BT.jsx)("div",{className:t.imageContainer,children:(0,BT.jsx)(nC,{src:n,cursor:"pointer"})})})},HC="home__card__overlay_container__-a6eW",KC="home__card__overlay_header__-v5Hi",GC="home__card__overlay_close__2mDY1",QC="home__card__overlay_main__D598u",YC="home__card__overlay_share__6BvQg",JC="home__card__overlay_input__H3TiN",$C="home__card__overlay_button__LqNsG",XC=function(e){var t,n=e.getModal,r=e.type,i=e.userID,a=e.post,o=GT().userProfile,s=ie(),u=function(){var e=ge(be().mark((function e(){var t,r;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=UT.collection("users").doc(i),r=UT.collection("users").doc(o.userID),e.next=4,t.update({followers:jT.arrayRemove(o.userID)});case 4:return e.next=6,r.update({following:jT.arrayRemove(i)});case 6:n();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(e){s.push("/".concat(e))};return"share"===r&&(t=(0,BT.jsxs)("div",{className:YC,children:[(0,BT.jsx)("input",{className:JC,value:"".concat(window.location.href,"post/").concat(i,"/").concat(a.id),readOnly:!0}),(0,BT.jsx)("button",{onClick:function(){!function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}("".concat(window.location.href,"post/").concat(i,"/").concat(a.id)),n()},className:$C,children:"Copy Link"})]})),"follow"===r&&(o||(t=(0,BT.jsx)("button",{onClick:function(){c("sign-up")},className:$C,children:"Login"})),o&&(o.userID===i&&(t=(0,BT.jsx)("button",{onClick:function(){c("settings")},className:$C,children:"Edit Profile"})),o.userID!==i&&(t=(0,BT.jsx)("button",{onClick:u,className:$C,children:"Unfollow"})))),(0,BT.jsxs)("div",{className:HC,children:[(0,BT.jsx)("div",{className:KC,children:(0,BT.jsx)(Pe,{onClick:n,className:GC})}),(0,BT.jsx)("div",{className:QC,children:t})]})},eN=function(e){var n=e.post,r=(0,t.useState)(),i=(0,ye.Z)(r,2),a=i[0],o=i[1],s=(0,t.useState)(),u=(0,ye.Z)(s,2),c=u[0],l=u[1],f=n.data(),h=f.src,d=f.userID,p=f.likes,v=(0,t.useState)(!1),m=(0,ye.Z)(v,2),g=m[0],y=m[1],k=(0,t.useState)(),b=(0,ye.Z)(k,2),w=b[0],_=b[1];(0,t.useEffect)((function(){var e=function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UT.collection("users").doc(d).get();case 2:t=e.sent,o(t.data()),l(p.length);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]);var x=function(e){y(!g),_(e)};return(0,BT.jsx)(BT.Fragment,{children:n&&a?(0,BT.jsxs)("div",{className:BC.card,children:[(0,BT.jsxs)("div",{className:BC.container,children:[g&&(0,BT.jsx)(XC,{getModal:x,userID:d,type:w,post:n}),(0,BT.jsxs)("div",{className:BC.header,children:[(0,BT.jsx)(he,{to:"/profile/".concat(d),children:(0,BT.jsxs)("div",{className:BC.left,children:[(0,BT.jsx)("img",{src:a.profilePhoto,alt:"",className:BC.avatar}),(0,BT.jsxs)("div",{className:BC.userInfo,children:[(0,BT.jsx)("p",{className:BC.displayName,children:a.displayName}),(0,BT.jsxs)("p",{className:BC.username,children:["@",a.username]})]})]})}),(0,BT.jsx)("div",{className:BC.right,children:(0,BT.jsx)(VC.Z,{onClick:function(){x("follow")},className:BC.moreIcon})})]}),(0,BT.jsx)(WC,{Styles:BC,postID:n.id,userID:d,src:h}),(0,BT.jsxs)("div",{className:BC.footer,children:[(0,BT.jsx)("div",{className:BC.firstChild,children:(0,BT.jsxs)("div",{className:BC.left,children:[(0,BT.jsx)(zC,{setLikeState:l,post:n,userID:d}),(0,BT.jsx)(he,{className:BC.chatLink,to:"/Post/".concat(d,"/").concat(n.id),children:(0,BT.jsx)(Ae,{className:BC.icon})})]})}),(0,BT.jsx)(he,{className:BC.imageLink,to:"/Post/".concat(d,"/").concat(n.id),children:(0,BT.jsxs)("p",{className:BC.likes,children:[c," likes"]})}),(0,BT.jsx)(ZC,{Styles:BC,userID:d,post:n})]})]}),(0,BT.jsx)("img",{className:BC.imageBlur+" blur",src:h,alt:""})]}):null})},tN="home__feed_container__QLTIZ",nN="home__feed_loaderContainer__3CKDc",rN="home__feed_noPosts__VSAUc",iN=function(e){var n=e.newPost,r=GT().userProfile,i=(0,t.useState)([]),a=(0,ye.Z)(i,2),o=a[0],s=a[1],u=(0,t.useState)([]),c=(0,ye.Z)(u,2),l=c[0],f=c[1],h=(0,t.useState)(),d=(0,ye.Z)(h,2),p=d[0],v=d[1],m=(0,t.useState)(!1),g=(0,ye.Z)(m,2),y=g[0],k=g[1],b=(0,t.useRef)(!1),w=(0,t.useRef)(),_=jC(w,b),x=(0,ye.Z)(_,2),I=x[0],E=x[1],S=function(){var e=ge(be().mark((function e(t){var n,i,a,o,s,u,c;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],"first"!==t){e.next=8;break}return n.push(r),e.next=5,UT.collection("users").where("followers","array-contains",r.userID).orderBy("lastPostDate","desc").limit(5).get();case 5:i=e.sent,e.next=25;break;case 8:if("infinite"!==t){e.next=17;break}if(r){e.next=12;break}return E(!1),e.abrupt("return",k(!0));case 12:return e.next=14,UT.collection("users").where("followers","array-contains",r.userID).orderBy("lastPostDate","desc").startAfter(p).limit(5).get();case 14:i=e.sent,e.next=25;break;case 17:if("none"!==t){e.next=25;break}return e.next=20,UT.collection("users").doc("otCUufb9ukYZlSN6JoJ2fV6R49J2").get();case 20:return a=e.sent,n.push(a.data()),e.next=24,UT.collection("users").where("followers","array-contains","otCUufb9ukYZlSN6JoJ2fV6R49J2").orderBy("lastPostDate","desc").limit(10).get();case 24:i=e.sent;case 25:if(i.forEach((function(e){n.push(e.data())})),"infinite"!==t||i.docs[i.docs.length-1]){e.next=31;break}return E(!1),k(!0),b.current=!0,e.abrupt("return");case 31:return v(i.docs[i.docs.length-1]),o=n.map(function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UT.collection("users").doc(t.userID).collection("posts").orderBy("date","desc").limit(5).get();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=35,Promise.all(o);case 35:return s=e.sent,u=[],s.forEach((function(e){e.forEach((function(e){u.push(e)}))})),c=u.sort((function(e,t){return t.data().date-e.data().date})),e.abrupt("return",c);case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("none");case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("first");case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){if(o){var e=o.slice(l.length,l.length+2),t=[].concat((0,Wt.Z)(l),(0,Wt.Z)(e));f(t)}};(0,t.useEffect)((function(){N()}),[o]);var A=function(){var e=ge(be().mark((function e(){var t,n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=3;break}return E(!1),e.abrupt("return");case 3:return e.next=5,S("infinite");case 5:if(t=e.sent){e.next=8;break}return e.abrupt("return");case 8:n=[].concat((0,Wt.Z)(o),(0,Wt.Z)(t)),s(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){r?C():T()}),[r]),(0,t.useEffect)(ge(be().mark((function e(){var t,i,a;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n){e.next=2;break}return e.abrupt("return");case 2:return t=[],e.next=5,UT.collection("users").doc(r.userID).collection("posts").orderBy("date","desc").limit(1).get();case 5:if(i=e.sent){e.next=8;break}return e.abrupt("return");case 8:i.forEach((function(e){t.push(e)})),a=[].concat(t,(0,Wt.Z)(l)),f(a),window.scrollTo(0,0);case 12:case"end":return e.stop()}}),e)}))),[n]),(0,t.useEffect)((function(){I&&(l.length===o.length?A():N())}),[I]),(0,t.useEffect)((function(){E(!1)}),[l]),(0,BT.jsxs)("div",{className:tN,children:[l.map((function(e){return(0,BT.jsx)(eN,{post:e},e.id)})),(0,BT.jsxs)("div",{ref:w,className:"".concat(nN),children:[I&&(0,BT.jsx)("div",{className:"loader"}),y&&(0,BT.jsx)("div",{className:rN,children:"No More Posts"})]})]})},aN="home_home__lqDgS",oN="home_inner__H82Db";function sN(){var e=ae().pathname;return(0,t.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var uN=function(){var e=(0,t.useState)(0),n=(0,ye.Z)(e,2),r=n[0],i=n[1];return(0,BT.jsxs)("div",{className:aN,children:[(0,BT.jsx)(sN,{}),(0,BT.jsxs)("div",{className:oN,children:[(0,BT.jsx)(iN,{newPost:r}),(0,BT.jsx)(FC,{setNewPost:i})]})]})},cN="profile__sidebar_sidebar__lruj2",lN="profile__sidebar_usernames__2agu9",fN="profile__sidebar_displayName__iVTQp",hN="profile__sidebar_username__TydLQ",dN="profile__sidebar_postsContainer__xYPFb",pN="profile__sidebar_posts__PH4LS",vN="profile__sidebar_userInfo__7aT9x",mN="profile__sidebar_followersContainer__lcuj7",gN="profile__sidebar_followingContainer__0i-rj",yN="profile__sidebar_followers__017Zl",kN="profile__sidebar_following__XoQLW",bN="profile__sidebar_bio__ay1TM",wN="profile__sidebar_bioHeader__pmR6a",_N="profile__sidebar_bioText__9lidE",xN="profile__sidebar_nameLoading__R7lSN",IN="profile__sidebar_usernameLoading__twLjV",EN="profile__sidebar_counterLoading__wI1ki",SN="profile__sidebar_secondContainer__bV0O4",TN=function(e){var n,r=e.currentProfile,i=e.loaded,a=e.currentUser,o=(0,t.useState)(!1),s=(0,ye.Z)(o,2),u=s[0],c=s[1],l=(0,t.useState)(),f=(0,ye.Z)(l,2),h=f[0],d=f[1],p=function(e){e.preventDefault();var t=e.target.getAttribute("data-type");d(t),c(!u),lC(u)};return!1===i&&(n=(0,BT.jsxs)("div",{className:cN,children:[(0,BT.jsxs)("div",{className:lN,children:[(0,BT.jsx)("div",{className:"".concat(xN," gradientLoad")}),(0,BT.jsx)("div",{className:"".concat(IN," gradientLoad")})]}),(0,BT.jsxs)("div",{className:"".concat(EN),children:[(0,BT.jsx)("div",{className:"".concat(EN," gradientLoad")}),(0,BT.jsx)("div",{className:"".concat(EN," gradientLoad")}),(0,BT.jsx)("div",{className:"".concat(EN," gradientLoad")})]})]})),!0===i&&(n=(0,BT.jsxs)("div",{className:cN,children:[(0,BT.jsxs)("div",{className:lN,children:[(0,BT.jsx)("h2",{className:fN,children:r.displayName}),(0,BT.jsxs)("h3",{className:hN,children:["@",r.username]})]}),(0,BT.jsxs)("div",{className:SN,children:[(0,BT.jsxs)("div",{className:dN,children:[(0,BT.jsx)("h3",{children:r.postsCounter}),(0,BT.jsx)("p",{className:pN,children:"Posts"})]}),u&&(0,BT.jsx)(MC,{currentProfile:r,handleFollowers:p,setOpenFollowers:c,openFollowers:u,currentTab:h,setCurrentTab:d,currentUser:a}),(0,BT.jsxs)("div",{className:vN,children:[(0,BT.jsxs)("div",{onClick:p,"data-type":"following",className:gN,children:[(0,BT.jsxs)("h3",{"data-type":"following",children:[" ",r.following.length," "]}),(0,BT.jsx)("p",{"data-type":"following",className:kN,children:"Following"})]}),(0,BT.jsxs)("div",{"data-type":"followers",onClick:p,className:mN,children:[(0,BT.jsx)("h3",{"data-type":"followers",children:r.followers.length}),(0,BT.jsx)("p",{"data-type":"followers",className:yN,children:"Followers"})]})]})]}),(0,BT.jsxs)("div",{className:bN,children:[(0,BT.jsx)("h3",{className:wN,children:"Bio"}),(0,BT.jsx)("p",{className:_N,children:r.bio})]})]})),(0,BT.jsx)(BT.Fragment,{children:n})},CN="profile__card_card__JBGEG",NN="profile__card_container__bpwyj",AN="profile__card_link__Aywed",RN="profile__card_blur__iBRtX",PN="profile__card_overlay__gsBYx",ON="profile__card_icon__DERsb",DN=function(e){var t=e.src,n=e.match,r=e.postId,i=e.likes,a=e.comments;return(0,BT.jsxs)("div",{className:CN,children:[(0,BT.jsx)("div",{className:NN,children:(0,BT.jsxs)(he,{className:AN,to:"/post/".concat(n.params.uid,"/").concat(r),children:[(0,BT.jsxs)("div",{className:PN,children:[(0,BT.jsxs)("div",{className:ON,children:[(0,BT.jsx)(Le,{})," ",(0,BT.jsx)("p",{children:i.length})]}),(0,BT.jsxs)("div",{className:ON,children:[(0,BT.jsx)(Ae,{}),(0,BT.jsx)("p",{children:a.length})]})]}),(0,BT.jsx)(nC,{src:t,borderRadius:"9px"})]})}),(0,BT.jsx)("img",{className:RN,src:t,alt:""})]})},LN={feedContainer:"profile__feed_feedContainer__YHYG2",feed:"profile__feed_feed__E7zDV",outer:"profile__feed_outer__eaPTv",notFound:"profile__feed_notFound__iBvi1",notFoundButton:"profile__feed_notFoundButton__INHpT",loaderContainer:"profile__feed_loaderContainer__sQn0w",endFeed:"profile__feed_endFeed__FqVfB"},jN=function(e){var n=e.firestore,r=e.match,i=e.newPost,a=e.noPosts,o=(0,t.useState)([]),s=(0,ye.Z)(o,2),u=s[0],c=s[1],l=(0,t.useState)(),f=(0,ye.Z)(l,2),h=f[0],d=f[1],p=(0,t.useState)(!1),v=(0,ye.Z)(p,2),m=v[0],g=v[1],y=(0,t.useRef)(!1),k=(0,t.useRef)(),b=jC(k,y),w=(0,ye.Z)(b,2),_=w[0],x=w[1],I=function(){var e=ge(be().mark((function e(){var t,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],h){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.collection("users").doc(r.params.uid).collection("posts").orderBy("date","desc").startAfter(h).limit(8).get();case 5:return i=e.sent,e.next=8,i.forEach((function(e){e.complete=!1,t.push(e)}));case 8:if(i.docs[i.docs.length-1]){e.next=13;break}return x(!1),g(!0),y.current=!0,e.abrupt("return");case 13:return d(i.docs[i.docs.length-1]),e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=ge(be().mark((function e(){var t,i;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,n.collection("users").doc(r.params.uid).collection("posts").orderBy("date","desc").limit(8).get();case 3:return i=e.sent,e.next=6,i.forEach((function(e){e.complete=!1,t.push(e)}));case 6:return d(i.docs[i.docs.length-1]),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=ge(be().mark((function e(){var t,n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:n=[].concat((0,Wt.Z)(u),(0,Wt.Z)(t)),c(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){return T()}),[i]),(0,t.useEffect)((function(){T(),g(!1),y.current=!1}),[r]),(0,t.useEffect)((function(){x(!1)}),[u]),(0,t.useEffect)((function(){_&&!m&&S()}),[_]),(0,BT.jsx)(BT.Fragment,{children:a?(0,BT.jsx)("div",{className:LN.outer,children:(0,BT.jsx)("div",{className:LN.notFound,children:(0,BT.jsx)("div",{className:LN.notFoundContainer,children:(0,BT.jsx)("button",{className:LN.notFoundButton,children:"No Posts"})})})}):(0,BT.jsxs)("div",{className:LN.feedContainer,children:[(0,BT.jsx)("div",{className:LN.feed,children:u.map((function(e){return(0,BT.jsx)(DN,{src:e.data().src,match:r,postId:e.id,likes:e.data().likes,comments:e.data().comments},e.id)}))}),(0,BT.jsxs)("div",{ref:k,className:"".concat(LN.loaderContainer),children:[_&&(0,BT.jsx)("div",{className:"loader"}),m&&u.length>6?(0,BT.jsx)("div",{className:LN.endFeed,children:"No More Posts"}):null]})]})})},MN="profile__avatar__modal_modal__xNOEv",UN="profile__avatar__modal_avatar__oGmV5",FN=function(e){var t=e.src,n=e.getAvatarModal;return(0,BT.jsx)("div",{onClick:n,className:MN,children:(0,BT.jsx)("img",{className:UN,src:t,alt:""})})},VN={profile:"profile_profile__1KMPW",header:"profile_header__GLWd9",hero:"profile_hero__4WGec",outer:"profile_outer__Ox9az",inner:"profile_inner__ENT3b",topSection:"profile_topSection__lbecj",imgContainer:"profile_imgContainer__N+P4T",avatar:"profile_avatar__r-nii",avatarBlur:"profile_avatarBlur__rI7fy",topRight:"profile_topRight__F8FNQ",topIconRow:"profile_topIconRow__qJZe-",profileBtn:"profile_profileBtn__qGhHt",actionBtn:"profile_actionBtn__+Ie7I",heroLoading:"profile_heroLoading__IAfmC",avatarLoading:"profile_avatarLoading__P2UWn"},BN=function(e){var n=(0,t.useState)(),r=(0,ye.Z)(n,2),i=r[0],a=r[1],o=(0,t.useState)(!1),s=(0,ye.Z)(o,2),u=s[0],c=s[1],l=(0,t.useState)(!1),f=(0,ye.Z)(l,2),h=f[0],d=f[1],p=(0,t.useState)(0),v=(0,ye.Z)(p,2),m=v[0],g=v[1],y=(0,t.useState)(!1),k=(0,ye.Z)(y,2),b=k[0],w=k[1],_=e.match,x=GT(),I=x.currentUser,E=(x.userProfile,(0,t.useState)(!1)),S=(0,ye.Z)(E,2),T=S[0],C=S[1],N=(0,t.useState)([{image:"avatar",loading:!0},{image:"banner",loading:!0}]),A=(0,ye.Z)(N,2),R=A[0],P=A[1];ie();(0,t.useEffect)((function(){i&&R.every((function(e){return!1===e.loading}))&&C(!0)}),[R]);var O=function(e){var t=e.target.alt,n=R.findIndex((function(e){return e.image===t}));P((function(e){return(0,Wt.Z)(e)}),(0,tt.Z)({},R[n],R[n].loading=!1))},D=function(){UT.collection("users").doc(_.params.uid).get().then((function(e){e.exists&&a(e.data())}))};(0,t.useEffect)((function(){return w(!1),D()}),[m]),(0,t.useEffect)((function(){D(),w(!1)}),[_]);var L=function(e){e.preventDefault(),c(!u),lC(u)},j=function(e){e.preventDefault(),d(!h),lC(h)};return(null===I||void 0===I?void 0:I.uid)===_.params.uid&&(0,BT.jsx)("button",{onClick:j,className:VN.actionBtn,children:(0,BT.jsx)(Ne,{className:"action-icon"})}),(0,BT.jsx)(BT.Fragment,{children:(0,BT.jsxs)("div",{className:VN.profile,children:[(0,BT.jsx)(sN,{}),(0,BT.jsxs)("div",{className:VN.header,children:[(0,BT.jsx)("div",{className:"".concat(VN.heroLoading," gradientLoad"),style:T?{display:"none"}:null}),(0,BT.jsx)("img",{className:VN.hero,src:null===i||void 0===i?void 0:i.banner,alt:"banner",onLoad:O,style:T?null:{display:"none"}})]}),(0,BT.jsx)("div",{className:VN.outer,children:(0,BT.jsxs)("div",{className:VN.topSection,children:[(0,BT.jsxs)("div",{className:VN.imgContainer,children:[(0,BT.jsx)("div",{style:T?{display:"none"}:null,className:"".concat(VN.avatarLoading," gradientLoad")}),(0,BT.jsx)("img",{onClick:L,className:VN.avatar,src:null===i||void 0===i?void 0:i.profilePhoto,alt:"avatar",onLoad:O,style:T?null:{display:"none"}}),(0,BT.jsx)("img",{className:VN.avatarBlur,src:null===i||void 0===i?void 0:i.profilePhoto,alt:"",style:T?null:{display:"none"}})]}),u&&(0,BT.jsx)(FN,{getAvatarModal:L,src:null===i||void 0===i?void 0:i.profilePhoto}),(0,BT.jsxs)("div",{className:VN.topRight,children:[(0,BT.jsx)("div",{className:VN.topIconRow,children:(0,BT.jsx)(DC,{firestore:UT,Styles:VN,currentUser:I,match:_.params.uid,currentProfile:i,getUserObject:D})}),h&&(0,BT.jsx)(TC,{setNewPost:g,getModal:j})]})]})}),(0,BT.jsxs)("div",{className:VN.inner,children:[(0,BT.jsx)(TN,{loaded:T,firestore:UT,match:_,currentProfile:i,currentUser:I,getUserObject:D}),(0,BT.jsx)(jN,{newPost:m,setLoading:P,loading:R,loaded:T,firestore:UT,match:_,currentProfile:i,noPosts:b,setNoPosts:w})]})]})})},zN="post_post__M4Qur",qN="post_notFoundContainer__WIeHw",ZN="post_returnButton__jxL8R",WN="post_container__SGNty",HN="post_image__+g9Wo",KN="post__loading_image__DpOs3",GN="post__loading_profileImg__FuH3a",QN="post__loading_displayName__jpJqt",YN="post__loading_username__bycWI",JN="post__loading_commentProfile__LIrdA",$N="post__loading_comment__558cp",XN={viewAll:"post__comment-section_viewAll__kUV4e",comments:"post__comment-section_comments__et1yf",commentContainer:"post__comment-section_commentContainer__8R+p7",start:"post__comment-section_start__ZJ2qo",comment:"post__comment-section_comment__q3eXx",user:"post__comment-section_user__A+DZu",time:"post__comment-section_time__nZKrb"},eA=function(e){var n=e.comment,r=e.user,i=e.time,a=(0,t.useState)(null),o=(0,ye.Z)(a,2),s=o[0],u=o[1],c=(0,t.useState)(),l=(0,ye.Z)(c,2),f=l[0],h=l[1];return(0,t.useEffect)((function(){var e=function(){var e=ge(be().mark((function e(){var t,n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=UT.collection("users").doc(r),e.next=3,t.get();case 3:n=e.sent,u(n.data());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),function(){var e=Date.now(),t=ZT(i,e);h(t)}()}),[]),(0,BT.jsxs)("div",{className:XN.commentContainer,children:[(0,BT.jsxs)("div",{className:XN.start,children:[(0,BT.jsx)(he,{to:"/profile/".concat(r),children:(0,BT.jsx)(nC,{src:null===s||void 0===s?void 0:s.profilePhoto,width:"27px",height:"27px",borderRadius:"100%"})}),(0,BT.jsxs)("p",{className:XN.comment,children:[(0,BT.jsx)("span",{className:XN.user,children:(0,BT.jsxs)(he,{to:"/profile/".concat(r),children:[null===s||void 0===s?void 0:s.displayName," "]})}),n]})]}),(0,BT.jsx)("p",{className:XN.time,children:f})]})},tA=function(e){var n=e.loaded,r=e.currentPost,i=(0,t.useState)([]),a=(0,ye.Z)(i,2),o=a[0],s=a[1],u=(0,t.useRef)(),c=jC(u),l=(0,ye.Z)(c,2),f=l[0],h=l[1];return(0,t.useEffect)((function(){f&&function(){if(r){var e=r.comments.slice(0).reverse().slice(o.length,o.length+10),t=[].concat((0,Wt.Z)(o),(0,Wt.Z)(e));s(t)}}()}),[f]),(0,t.useEffect)((function(){!function(){if(r){var e=r.comments.slice(0).reverse().slice(0,10);s(e)}}()}),[r]),(0,t.useEffect)((function(){h(!1)}),[o]),(0,BT.jsx)("div",{className:XN.commentsContainer,children:(0,BT.jsxs)("div",{className:XN.comments,children:[n?(0,BT.jsx)(BT.Fragment,{children:o.map((function(e){return(0,BT.jsx)(eA,{time:e.time,comment:e.comment,user:e.user},e.time)}))}):(0,BT.jsxs)(BT.Fragment,{children:[(0,BT.jsxs)("div",{className:XN.commentContainer,children:[(0,BT.jsx)("div",{className:JN}),(0,BT.jsx)("div",{className:$N})]}),(0,BT.jsxs)("div",{className:XN.commentContainer,children:[(0,BT.jsx)("div",{className:JN}),(0,BT.jsx)("div",{className:$N})]}),(0,BT.jsxs)("div",{className:XN.commentContainer,children:[(0,BT.jsx)("div",{className:JN}),(0,BT.jsx)("div",{className:$N})]})]}),(0,BT.jsx)("div",{ref:u})]})})},nA="post__menu_container__Gt0NR",rA="post__menu_containerOwn__8fWt8",iA="post__menu_inner__5uSNZ",aA="post__menu_option__pX2kD",oA="post__menu_icon__aDrs-",sA="post__menu_postIcon__UCcQ2",uA=function(e){var n,r=e.ownPost,i=e.match,a=e.currentPost,o=e.firestore,s=e.storage,u=(0,t.useState)(!1),c=(0,ye.Z)(u,2),l=c[0],f=c[1],h=GT().getUserProfile,d=ie(),p=(0,t.useRef)(),v=function(){var e=ge(be().mark((function e(t){var n,r,u;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,o.collection("users").doc(i.params.uid).collection("posts").doc(i.params.postid).delete();case 3:return n=s.refFromURL(a.src),e.next=6,n.delete();case 6:return e.next=8,o.collection("users").doc(i.params.uid).get();case 8:return r=e.sent,u=r.data(),e.next=12,o.collection("users").doc(i.params.uid).set({postsCounter:u.postsCounter-1},{merge:!0});case 12:return e.next=14,h();case 14:d.push("/profile/".concat(i.params.uid));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)};return(0,t.useEffect)((function(){var e=function(e){p.current&&!p.current.contains(e.target)&&f(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),n=(0,BT.jsx)("div",{ref:p,className:r?rA:nA,children:(0,BT.jsxs)("div",{className:iA,children:[(0,BT.jsxs)("div",{onClick:function(){m(window.location.href),f(!1)},className:aA,children:[(0,BT.jsx)(He,{className:oA}),(0,BT.jsx)("div",{children:(0,BT.jsx)("p",{children:"Copy Link"})})]}),r?(0,BT.jsxs)("div",{className:aA,onClick:v,children:[(0,BT.jsx)(Ke,{className:oA}),(0,BT.jsx)("p",{children:"Delete"})]}):null]})}),(0,BT.jsxs)("div",{children:[l?n:null,(0,BT.jsx)(VC.Z,{onClick:function(e){e.preventDefault(),f(!l)},className:sA})]})},cA={sidebar:"post__sidebar_sidebar__ie1lR",top:"post__sidebar_top__P-Kl5",captionContainer:"post__sidebar_captionContainer__U62x7",caption:"post__sidebar_caption__icB3C",profileContainer:"post__sidebar_profileContainer__m-ptT",imageContainer:"post__sidebar_imageContainer__IMpVq",profileImg:"post__sidebar_profileImg__JT02W",profileImgBlur:"post__sidebar_profileImgBlur__dO49m",nameContainer:"post__sidebar_nameContainer__Gih9J",username:"post__sidebar_username__Wgwtb",footer:"post__sidebar_footer__jhBtd",firstChild:"post__sidebar_firstChild__uoLMI",left:"post__sidebar_left__buk6p",postIcon:"post__sidebar_postIcon__YHffU",icon:"post__sidebar_icon__vlF3m",likeIcon:"post__sidebar_likeIcon__d1Von",infoContainer:"post__sidebar_infoContainer__7sMAY",likedIcon:"post__sidebar_likedIcon__cBdjg",likes:"post__sidebar_likes__ejOaJ",time:"post__sidebar_time__8lG9s",commentBox:"post__sidebar_commentBox__buZmF",commentForm:"post__sidebar_commentForm__zHAdl",input:"post__sidebar_input__pDVgW",send:"post__sidebar_send__FN5vR"},lA=function(e){var n=e.match,r=e.history,i=e.firestore,a=e.firestoreFieldValue,o=e.getCurrentPost,s=(0,t.useState)(!1),u=(0,ye.Z)(s,2),c=u[0],l=u[1],f=GT(),h=f.userProfile,d=f.getUserProfile,p=function(){var e=ge(be().mark((function e(){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h&&h.likedPosts&&(h.likedPosts.includes(n.params.postid)?l(!0):l(!1));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){p()}),[h]);var v=function(){var e=ge(be().mark((function e(t){var s,u,f,p,v,m,g,y;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!h){e.next=24;break}if(s=i.collection("users").doc(n.params.uid).collection("posts").doc(n.params.postid),u=i.collection("users").doc(h.userID),f=i.collection("users").doc(n.params.uid),c){e.next=16;break}return l(!0),p=function(){s.update({likes:a.arrayUnion(h.userID)})},v=function(){u.update({likedPosts:a.arrayUnion(n.params.postid)})},m=function(){f.update({notifications:a.arrayUnion({user:h.userID,type:"liked",post:n.params.postid,time:Date.now()})})},e.next=12,Promise.all([m(),p(),v()]);case 12:d(),o(),e.next=22;break;case 16:return g=function(){l(!1),s.update({likes:a.arrayRemove(h.userID)})},y=function(){u.update({likedPosts:a.arrayRemove(n.params.postid)})},e.next=20,Promise.all([g(),y()]);case 20:d(),o();case 22:e.next=25;break;case 24:r.push("/sign-up");case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,BT.jsx)(Le,{onClick:v,className:c?cA.likedIcon:cA.likeIcon})},fA=function(e){var n=e.Styles,r=e.IoSendOutline,i=e.firestore,a=e.match,o=e.firestoreFieldValue,s=e.getCurrentPost,u=(0,t.useState)(""),c=(0,ye.Z)(u,2),l=c[0],f=c[1],h=ie(),d=GT(),p=d.userProfile,v=d.getUserProfile,m=function(){var e=ge(be().mark((function e(t){var n,r,u,c,d;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=Date.now(),!p){e.next=15;break}if(!(l.length>0&&l.length<100)){e.next=13;break}return r=i.collection("users").doc(a.params.uid).collection("posts").doc(a.params.postid),u=i.collection("users").doc(a.params.uid),c=function(){r.update({comments:o.arrayUnion({user:p.userID,comment:l,time:n})})},d=function(){u.update({notifications:o.arrayUnion({user:p.userID,type:"comment",comment:l,post:a.params.postid,time:n})})},e.next=10,Promise.all([d(),c()]);case 10:v(),s(),f("");case 13:e.next=16;break;case 15:h.push("/sign-up");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,BT.jsxs)("div",{className:n.commentBox,children:[(0,BT.jsx)("form",{className:n.commentForm,onSubmit:m,children:(0,BT.jsx)("input",{onChange:function(e){e.preventDefault();var t=e.target.value;f(t)},className:n.input,type:"text",value:l,maxLength:"99",minLength:"1",placeholder:"Add a comment..."})}),(0,BT.jsx)(r,{type:"submit",onClick:m,className:n.send})]})},hA=function(e){var n=e.match,r=e.loaded,i=e.handleLoad,a=e.postUser,o=e.currentPost,s=e.ownPost,u=e.getCurrentPost,c=ie(),l=(0,t.useState)(""),f=(0,ye.Z)(l,2),h=f[0],d=f[1];return(0,t.useEffect)((function(){if(o){var e=ZT(o.date,Date.now());d(e)}}),[o]),(0,BT.jsxs)("div",{className:cA.sidebar,children:[(0,BT.jsxs)("div",{className:cA.top,children:[(0,BT.jsx)(he,{to:"/profile/".concat(n.params.uid),children:(0,BT.jsxs)("div",{className:cA.profileContainer,children:[(0,BT.jsxs)("div",{className:cA.imageContainer,children:[(0,BT.jsx)("div",{className:GN+" gradientLoad",style:r?{display:"none"}:null}),(0,BT.jsx)("img",{style:r?null:{display:"none"},onLoad:i,src:null===a||void 0===a?void 0:a.profilePhoto,alt:"avatar",className:cA.profileImg}),(0,BT.jsx)("img",{className:cA.profileImgBlur,style:r?null:{display:"none"},src:null===a||void 0===a?void 0:a.profilePhoto,alt:""})]}),(0,BT.jsxs)("div",{className:cA.nameContainer,style:r?{display:"none"}:null,children:[(0,BT.jsx)("div",{className:QN+" gradientLoad"}),(0,BT.jsx)("div",{className:YN+" gradientLoad"})]}),(0,BT.jsxs)("div",{className:cA.nameContainer,style:r?null:{display:"none"},children:[(0,BT.jsx)("h2",{className:cA.displayName,children:null===a||void 0===a?void 0:a.displayName}),(0,BT.jsxs)("p",{className:cA.username,children:["@",null===a||void 0===a?void 0:a.username]})]})]})}),(0,BT.jsx)("div",{className:cA.captionContainer,children:(0,BT.jsx)("p",{className:cA.caption,children:null===o||void 0===o?void 0:o.caption})})]}),(0,BT.jsx)(tA,{currentPost:o,loaded:r}),(0,BT.jsxs)("div",{className:cA.footer,children:[(0,BT.jsxs)("div",{className:cA.firstChild,children:[(0,BT.jsxs)("div",{className:cA.left,children:[(0,BT.jsx)(lA,{Styles:cA,match:n,history:c,IoHeartOutline:Le,firestore:UT,firestoreFieldValue:jT,getCurrentPost:u}),(0,BT.jsx)(Ae,{className:cA.postIcon}),(0,BT.jsx)(We,{className:cA.postIcon})]}),(0,BT.jsx)(uA,{storage:VT,firestore:UT,match:n,ownPost:s,currentPost:o})]}),(0,BT.jsxs)("div",{className:cA.infoContainer,children:[(0,BT.jsxs)("p",{className:cA.likes,children:[null===o||void 0===o?void 0:o.likes.length," likes"]}),(0,BT.jsx)("p",{className:cA.time,children:h})]}),(0,BT.jsx)(fA,{firestore:UT,match:n,firestoreFieldValue:jT,IoSendOutline:Ze,Styles:cA,getCurrentPost:u})]})]})},dA=function(e){var n=e.match,r=(0,t.useState)(),i=(0,ye.Z)(r,2),a=i[0],o=i[1],s=(0,t.useState)(),u=(0,ye.Z)(s,2),c=u[0],l=u[1],f=(0,t.useState)(!1),h=(0,ye.Z)(f,2),d=h[0],p=h[1],v=(0,t.useState)([{image:"avatar",loading:!0},{image:"post",loading:!0}]),m=(0,ye.Z)(v,2),g=m[0],y=m[1],k=(0,t.useState)(!1),b=(0,ye.Z)(k,2),w=b[0],_=b[1],x=GT(),I=x.currentUser,E=x.userProfile;(0,t.useEffect)((function(){I&&n.params.uid===I.uid&&p(!0)}),[c]);var S=function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UT.collection("users").doc(n.params.uid).collection("posts").doc(n.params.postid).get();case 2:(t=e.sent).exists?o(t.data()):_("error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=ge(be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UT.collection("users").doc(n.params.uid).get();case 2:(t=e.sent).exists?l(t.data()):_("error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){S(),T()}),[n]),(0,t.useEffect)((function(){c&&a&&g.every((function(e){return!1===e.loading}))&&_(!0)}),[g]);var C,N=function(e){var t=e.target.alt,n=g.findIndex((function(e){return e.image===t}));y((function(e){return(0,Wt.Z)(e)}),(0,tt.Z)({},g[n],g[n].loading=!1))};return C=(0,BT.jsxs)("div",{className:zN,children:[(0,BT.jsx)(sN,{}),(0,BT.jsxs)("div",{className:WN,children:[(0,BT.jsx)("div",{className:KN+" gradientLoad",style:w?{display:"none"}:null}),(0,BT.jsx)("img",{style:w?null:{display:"none"},onLoad:N,src:null===a||void 0===a?void 0:a.src,alt:"post",className:HN}),(0,BT.jsx)(hA,{match:n,loaded:w,handleLoad:N,postUser:c,ownPost:d,currentPost:a,currentUser:I,userProfile:E,getCurrentPost:S})]})]}),"error"===w&&(C=(0,BT.jsx)("div",{className:zN,children:(0,BT.jsxs)("div",{className:qN,children:[(0,BT.jsx)("h3",{children:"Post Not Found"}),(0,BT.jsx)(he,{to:"/",children:(0,BT.jsx)("button",{className:ZN,children:"Return Home"})})]})})),(0,BT.jsx)(BT.Fragment,{children:C})},pA={signUp:"sign-up_signUp__RXk58",container:"sign-up_container__SCGk2",header:"sign-up_header__hAiHH",logoImg:"sign-up_logoImg__EAoM2",headerText:"sign-up_headerText__MzPu5",formContainer:"sign-up_formContainer__PCZU0",form:"sign-up_form__nK7pt",input:"sign-up_input__OzH0E",username:"sign-up_username__Uctlf",inputBox:"sign-up_inputBox__KMr82",helperDiv:"sign-up_helperDiv__BUsFJ",nameHelper:"sign-up_nameHelper__tTKiv",signUpButton:"sign-up_signUpButton__G8adV",or:"sign-up_or__n8wn4",loginButton:"sign-up_loginButton__IVB8c",notFoundContainer:"sign-up_notFoundContainer__Rg-b+",returnButton:"sign-up_returnButton__i1UA4"},vA=n(735),mA=function(){var e=GT(),n=e.login,r=e.currentUser,i=e.firebaseRegister,a=(0,t.useState)(""),o=(0,ye.Z)(a,2),s=o[0],u=o[1],c=(0,t.useState)(""),l=(0,ye.Z)(c,2),f=l[0],h=l[1],d=(0,t.useState)(!1),p=(0,ye.Z)(d,2),v=p[0],m=p[1],g=(0,t.useCallback)(cC((function(e){return function(e){e.preventDefault();var t=e.target.value.replace(/[^a-zA-Z\d]/gi,"").toLowerCase();u(t)}(e)}),500),[]);(0,t.useEffect)((function(){var e,t=function(){var t=ge(be().mark((function t(){return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s.length>2)){t.next=4;break}return t.next=3,UT.collection("users").where("username","==",s).get().then((function(t){return t.forEach((function(t){e=t.data()}))}));case 3:m(void 0!==e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[s]),(0,t.useEffect)((function(){return i(s)}),[r]);var y=(0,BT.jsx)("p",{className:pA.nameHelper,children:"Name must be 3-15 characters."});return 0!==s.length&&(y=s.length<=2?(0,BT.jsx)("p",{className:pA.nameHelper,children:"Too Short."}):!1===v?(0,BT.jsx)("p",{style:{color:"#00C138"},className:pA.nameHelper,children:"Name is available."}):(0,BT.jsx)("p",{style:{color:"#ff0000"},className:pA.nameHelper,children:"Name has already been taken."})),(0,BT.jsx)(BT.Fragment,{children:r?(0,BT.jsx)("div",{className:pA.signUp,children:(0,BT.jsxs)("div",{className:pA.notFoundContainer,children:[(0,BT.jsx)("h3",{children:"Already Logged In"}),(0,BT.jsx)(he,{to:"/",children:(0,BT.jsx)("button",{className:pA.returnButton,children:"Return Home"})})]})}):(0,BT.jsx)("div",{className:pA.signUp,children:(0,BT.jsxs)("div",{className:pA.container,children:[(0,BT.jsxs)("div",{className:pA.header,children:[(0,BT.jsx)("img",{className:pA.logoImg,src:vA,alt:""}),(0,BT.jsx)("div",{className:pA.textContainer,children:(0,BT.jsx)("h2",{className:pA.headerText,children:"Sign Up"})})]}),(0,BT.jsxs)("div",{className:pA.formContainer,children:[(0,BT.jsxs)("form",{pattern:"[0-9a-zA-Z_.-]*",className:pA.form,children:[(0,BT.jsxs)("div",{className:pA.input,children:[(0,BT.jsx)("div",{className:pA.username,children:(0,BT.jsx)("p",{children:"@"})}),(0,BT.jsx)("input",{required:!0,onChange:function(e){h(e.target.value),g(e)},className:pA.inputBox,type:"text",placeholder:"username",maxLength:"15",minLength:"3",value:f})]}),(0,BT.jsx)("div",{className:pA.helperDiv,children:y}),(0,BT.jsx)("button",{type:"submit",onClick:!v&&s.length>2?function(e){e.preventDefault(),LT()}:function(e){e.preventDefault()},className:pA.signUpButton,style:!v&&s.length>2?{backgroundColor:"black",cursor:"pointer"}:{backgroundColor:"gray",cursor:"not-allowed"},children:"Sign Up With Google"})]}),(0,BT.jsx)("p",{className:pA.or,children:"Already signed up?"}),(0,BT.jsx)("button",{onClick:n,className:pA.loginButton,children:"Login"})]})]})})})},gA="settings_settings__iLG0Y",yA="settings_container__JcO26",kA="settings_inner__BMdvB",bA="settings_bannerOverlayContainer__6PmIa",wA="settings_bannerContainer__Q4Mwt",_A="settings_bannerOverlay__cO42y",xA="settings_bannerIcon__qVoIa",IA="settings_fileInput__XXY-0",EA="settings_containerBar__4uDQx",SA="settings_profileOverlayContainer__Ii2pR",TA="settings_profileOverlay__OeRY4",CA="settings_profileIcon__apP7s",NA="settings_textInputs__efyxc",AA="settings_textForm__wgX-Q",RA="settings_inputContainer__iT9qj",PA="settings_input__ZM50F",OA="settings_inputBoxDisplay__gpZLw",DA="settings_bioInput__BF4pl",LA="settings_textBtn__njnaz",jA="settings_profileBtnContainer__x8yoX",MA="settings_profileLink__os6tI",UA="settings_profileBtn__tM8r0",FA=function(){var e=GT(),n=e.getUserProfile,r=e.currentUser,i=e.userProfile,a=(0,t.useState)(""),o=(0,ye.Z)(a,2),s=o[0],u=o[1],c=(0,t.useState)(""),l=(0,ye.Z)(c,2),f=l[0],h=l[1],d=(0,t.useState)(!1),p=(0,ye.Z)(d,2),v=p[0],m=p[1];(0,t.useEffect)((function(){i&&(u(i.displayName),h(i.bio))}),[i]),(0,t.useEffect)((function(){n()}),[r]);var g=function(){var e=ge(be().mark((function e(t){var i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),i=FT.child("".concat(r.uid,"/profilePhoto")),e.next=4,i.put(t);case 4:return e.next=6,i.getDownloadURL();case 6:return a=e.sent,o=UT.collection("users").doc(r.uid),e.next=10,o.set((0,tt.Z)({},"profilePhoto",a),{merge:!0});case 10:m(!1),n();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=ge(be().mark((function e(t){var i,a,o;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),i=FT.child("".concat(r.uid,"/banner")),e.next=4,i.put(t);case 4:return e.next=6,i.getDownloadURL();case 6:return a=e.sent,o=UT.collection("users").doc(r.uid),e.next=10,o.set((0,tt.Z)({},"banner",a),{merge:!0});case 10:m(!1),n();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){e.preventDefault();var t=e.target.files[0];t&&t.size<5e6&&("profilePhoto"===e.target.name?fC(e,"none",g,1e3):"banner"===e.target.name&&fC(e,"none",y,2e3))},b=function(){var e=ge(be().mark((function e(t){var n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),f===i.bio){e.next=6;break}return m(!0),e.next=5,UT.collection("users").doc(r.uid).set({bio:f},{merge:!0});case 5:m(!1);case 6:if(s===i.displayName||""===s){e.next=12;break}return n=s.toLowerCase(),m(!0),e.next=11,UT.collection("users").doc(r.uid).set({displayName:s,searchName:n},{merge:!0});case 11:m(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,BT.jsx)("div",{className:gA,children:(0,BT.jsxs)("div",{className:yA,children:[(0,BT.jsx)("h3",{children:"Settings"}),(0,BT.jsxs)("div",{className:kA,children:[(0,BT.jsxs)("div",{children:[(0,BT.jsxs)("label",{className:bA,children:[(0,BT.jsx)("input",{name:"banner",type:"file",accept:"image/jpeg, image/png, image/jpg",className:IA,onChange:k}),(0,BT.jsx)("div",{className:wA,children:(0,BT.jsx)(nC,{src:i&&i.banner,zIndex:"0"})}),(0,BT.jsx)("div",{className:_A,children:(0,BT.jsx)(Fe,{className:xA})})]}),(0,BT.jsx)("form",{children:(0,BT.jsx)("div",{className:EA,children:(0,BT.jsxs)("label",{className:SA,children:[(0,BT.jsx)("input",{onChange:k,type:"file",accept:"image/jpeg, image/png, image/jpg",className:IA,name:"profilePhoto"}),(0,BT.jsx)(nC,{src:i&&i.profilePhoto,position:"relative",borderRadius:"100%",width:"112px",height:"112px",shadow:"0px 0.5em 1.5em 1px rgba(0, 0, 0, 0.1)"}),(0,BT.jsx)("div",{className:TA,children:(0,BT.jsx)(Me,{className:CA})})]})})})]}),(0,BT.jsx)("div",{className:NA,children:(0,BT.jsxs)("form",{className:AA,children:[(0,BT.jsxs)("div",{className:RA,children:[(0,BT.jsx)("p",{children:"Display Name:"}),(0,BT.jsx)("div",{className:PA,children:(0,BT.jsx)("input",{autoComplete:"off",name:"displayName",className:OA,type:"text",placeholder:i&&i.displayName,maxLength:"25",minLength:"3",onChange:function(e){e.preventDefault();var t=e.target.value.replace(/[^a-zA-Z' ']/gi,"");u(t)},value:s})})]}),(0,BT.jsxs)("div",{className:RA,children:[(0,BT.jsx)("p",{children:"Bio:"}),(0,BT.jsx)("textarea",{className:DA,name:"bio",maxLength:"150",placeholder:i&&i.bio,value:f,onChange:function(e){e.preventDefault();var t=e.target.value;h(t)}})]})]})})]}),(0,BT.jsxs)("div",{className:jA,children:[v?(0,BT.jsx)("div",{className:"loader"}):(0,BT.jsx)("button",{onClick:b,type:"submit",className:LA,children:"Save"}),(0,BT.jsx)(he,{className:MA,to:"/profile/".concat(i&&i.userID),children:(0,BT.jsx)("button",{className:UA,children:"View Profile"})})]})]})})},VA={modal:"messages__create-menu_modal__oLQpL",anim:"messages__create-menu_anim__9wqBD",container:"messages__create-menu_container__8Y5Ar",header:"messages__create-menu_header__dOLML",close:"messages__create-menu_close__pnp3g",listContainer:"messages__create-menu_listContainer__S9O7j",listItem:"messages__create-menu_listItem__cna+M",start:"messages__create-menu_start__jyZ6X",avatarContainer:"messages__create-menu_avatarContainer__vtv6Q",names:"messages__create-menu_names__5I5ZI",displayName:"messages__create-menu_displayName__kZjmW",username:"messages__create-menu_username__CK0bV",link:"messages__create-menu_link__1esFU"},BA=function(e){var n=e.Styles,r=e.contactID,i=e.setMessages,a=e.messages,o=e.handleCreate,s=e.getCurrentMessage,u=(0,t.useState)(null),c=(0,ye.Z)(u,2),l=c[0],f=c[1],h=function(){var e=ge(be().mark((function e(){var t,n;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=UT.collection("users").doc(r),e.next=3,t.get();case 3:n=e.sent,f(n.data());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){h()}),[]);return(0,BT.jsx)("div",{onClick:function(e){if(e.preventDefault(),a.some((function(e){return e.user===r}))){var t=a.findIndex((function(e){return e.user===r}));s(t),o(e)}else i([{user:r,time:Date.now(),messages:[]}].concat((0,Wt.Z)(a))),o(e)},className:n.listItem,children:(0,BT.jsxs)("div",{className:n.start,children:[(0,BT.jsx)("div",{className:n.avatarContainer,children:(0,BT.jsx)(nC,{src:null===l||void 0===l?void 0:l.profilePhoto,width:"65px",height:"65px",borderRadius:"100%"})}),(0,BT.jsxs)("div",{className:n.names,children:[(0,BT.jsx)("p",{className:n.displayName,children:null===l||void 0===l?void 0:l.displayName}),(0,BT.jsxs)("p",{className:n.username,children:["@",null===l||void 0===l?void 0:l.username]})]})]})})},zA=function(e){var n=e.handleCreate,r=e.userProfile,i=e.setMessages,a=e.messages,o=e.setCurrentMessage,s=e.setCurrentIndex,u=e.getCurrentMessage,c=(0,t.useState)([]),l=(0,ye.Z)(c,2),f=l[0],h=l[1],d=(0,t.useRef)(),p=jC(d),v=(0,ye.Z)(p,2),m=v[0],g=v[1];return(0,t.useEffect)((function(){r&&function(){if(r){var e=r.following.slice(0).reverse().slice(0,10);h(e)}}()}),[r]),(0,t.useEffect)((function(){m&&function(){if(r){var e=r.following;if(e.length!==f.length){var t=e.slice(0).reverse().slice(f.length,f.length+10),n=[].concat((0,Wt.Z)(f),(0,Wt.Z)(t));h(n)}}}()}),[m]),(0,t.useEffect)((function(){g(!1)}),[f]),(0,BT.jsx)("div",{className:VA.modal,children:(0,BT.jsxs)("div",{className:VA.container,children:[(0,BT.jsxs)("div",{className:VA.header,children:[(0,BT.jsx)("h3",{children:"New Message"}),(0,BT.jsx)(Pe,{onClick:n,className:VA.close})]}),(0,BT.jsxs)("div",{className:VA.listContainer,children:[f.map((function(e){return(0,BT.jsx)(BA,{messages:a,setMessages:i,Styles:VA,contactID:e,setCurrentMessage:o,handleCreate:n,setCurrentIndex:s,getCurrentMessage:u},e)})),(0,BT.jsx)("div",{ref:d})]})]})})},qA={messages:"messages_messages__gXB8o",navBg:"messages_navBg__6OPJY",sidebar:"messages_sidebar__VIUrH",header:"messages_header__1CxHZ",userAvatarContainer:"messages_userAvatarContainer__o1SzE",userAvatarBlur:"messages_userAvatarBlur__KClMa",backArrowContainer:"messages_backArrowContainer__tDiND",headerTitle:"messages_headerTitle__eKT1i",createIconContainer:"messages_createIconContainer__wUI4t",createIcon:"messages_createIcon__jg5pR",contactsContainer:"messages_contactsContainer__UsSZs",main:"messages_main__tnvOd",messageArea:"messages_messageArea__2OrT4",messageBox:"messages_messageBox__tGn0c",messageForm:"messages_messageForm__7SuM+",input:"messages_input__6fWoL",send:"messages_send__aCJ9M",hide:"messages_hide__hBpJy",remove:"messages_remove__hAaFH",backArrow:"messages_backArrow__8Mv9R",dummy:"messages_dummy__uk2yL",AnimationName:"messages_AnimationName__lf6FM"},ZA="message__item_item__p54oX",WA="message__item_itemSent__qyffA",HA="message__item_topGroup__mXqay",KA="message__item_group__-6tZ8",GA="message__item_bubble__9DZxz",QA="message__item_bubbleSent__bB4yp",YA="message__item_sideContainer__vrDr0",JA=function(e){var n,r=e.user,i=e.message,a=e.userProfile,o=e.currentProfile,s=e.thread,u=e.index,c=(0,t.useState)(!1),l=(0,ye.Z)(c,2),f=l[0],h=l[1],d=(0,t.useState)("false"),p=(0,ye.Z)(d,2),v=p[0],m=p[1];return(0,t.useEffect)((function(){r===(null===a||void 0===a?void 0:a.userID)&&h(!0)}),[o]),(0,t.useEffect)((function(){var e,t;r===(null===(e=s[u+1])||void 0===e?void 0:e.user)?m("true"):r!==(null===(t=s[u+1])||void 0===t?void 0:t.user)&&m("avatar")}),[s]),f&&"true"===v&&(n=(0,BT.jsxs)("div",{className:WA+" "+KA,children:[(0,BT.jsx)("div",{className:QA,children:(0,BT.jsx)("p",{children:i})}),(0,BT.jsx)("div",{className:YA})]})),f&&"avatar"===v&&(n=(0,BT.jsxs)("div",{className:WA+" "+HA,children:[(0,BT.jsx)("div",{className:QA,children:(0,BT.jsx)("p",{children:i})}),(0,BT.jsx)("div",{className:YA,children:(0,BT.jsx)(he,{to:"/profile/".concat(a.userID),children:(0,BT.jsx)(nC,{height:"38px",width:"38px",borderRadius:"100%",src:a.profilePhoto})})})]})),f||"true"!==v||(n=(0,BT.jsxs)("div",{className:ZA+" "+KA,children:[(0,BT.jsx)("div",{className:GA,children:(0,BT.jsx)("p",{children:i})}),(0,BT.jsx)("div",{className:YA})]})),f||"avatar"!==v||(n=(0,BT.jsxs)("div",{className:ZA+" "+HA,children:[(0,BT.jsx)("div",{className:GA,children:(0,BT.jsx)("p",{children:i})}),(0,BT.jsx)("div",{className:YA,children:(0,BT.jsx)(he,{to:"/profile/".concat(null===o||void 0===o?void 0:o.userID),children:(0,BT.jsx)(nC,{height:"38px",width:"38px",borderRadius:"100%",src:null===o||void 0===o?void 0:o.profilePhoto})})})]})),(0,BT.jsx)(BT.Fragment,{children:n})},$A=function(e){var n=e.currentMessage,r=e.currentProfile,i=e.setCurrentProfile,a=e.Styles,o=e.dummyRef,s=(0,t.useRef)(),u=(0,t.useState)([]),c=(0,ye.Z)(u,2),l=c[0],f=c[1],h=GT().userProfile,d=jC(s),p=(0,ye.Z)(d,2),v=p[0],m=p[1];(0,t.useEffect)((function(){v&&function(){if(n){var e=n.messages.slice(0).reverse().slice(l.length,l.length+20),t=[].concat((0,Wt.Z)(l),(0,Wt.Z)(e));f(t)}}()}),[v]),(0,t.useEffect)((function(){m(!1)}),[l]),(0,t.useEffect)((function(){var e;if((null===n||void 0===n||null===(e=n.messages)||void 0===e?void 0:e.length)>0){var t=(null===n||void 0===n?void 0:n.messages.slice(0).reverse()).slice(0,20);f(t)}else f([])}),[n]);return(0,t.useEffect)((function(){UT.collection("users").doc(null===n||void 0===n?void 0:n.user).get().then((function(e){e.exists&&i(e.data())}))}),[n]),(0,BT.jsxs)("div",{id:"msg",className:a.messageArea,children:[(0,BT.jsx)("div",{ref:o,className:a.dummy}),null===l||void 0===l?void 0:l.map((function(e,t){return(0,BT.jsx)(JA,{time:e.time,currentProfile:r,user:e.user,thread:l,index:t,message:e.message,userProfile:h},e.time)})),(0,BT.jsx)("div",{ref:s,className:a.dummy})]})},XA=function(e){var n=e.currentMessage,r=e.currentProfile,i=e.Styles,a=e.setCurrentIndex,o=(0,t.useState)(""),s=(0,ye.Z)(o,2),u=s[0],c=s[1],l=GT().userProfile,f=function(){var e=ge(be().mark((function e(t){var i,o,s,f,h;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i=Date.now(),!r){e.next=16;break}if(!(u.length>0&&u.length<501)){e.next=16;break}return o=UT.collection("users").doc(null===n||void 0===n?void 0:n.user).collection("messages").doc(null===l||void 0===l?void 0:l.userID),s=UT.collection("users").doc(null===l||void 0===l?void 0:l.userID).collection("messages").doc(null===n||void 0===n?void 0:n.user),e.next=8,s.set({time:i,user:r.userID},{merge:!0});case 8:return e.next=10,o.set({time:i,user:null===l||void 0===l?void 0:l.userID},{merge:!0});case 10:return f=function(){s.update({messages:jT.arrayUnion({user:null===l||void 0===l?void 0:l.userID,message:u,time:i})})},h=function(){o.update({messages:jT.arrayUnion({user:null===l||void 0===l?void 0:l.userID,message:u,time:i})})},e.next=14,Promise.all([f(),h()]);case 14:c(""),a(0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,BT.jsxs)("div",{className:i.messageBox,children:[(0,BT.jsx)("form",{onSubmit:f,className:i.messageForm,children:(0,BT.jsx)("input",{className:i.input,type:"text",maxLength:"500",minLength:"1",placeholder:"New Message...",onChange:function(e){e.preventDefault();var t=e.target.value;c(t)},value:u})}),(0,BT.jsx)(Ze,{type:"submit",onClick:f,className:i.send})]})},eR={active:"messagesContact_active__5-1gU",container:"messagesContact_container__CeHvu",avatarContainer:"messagesContact_avatarContainer__wOASV",name:"messagesContact_name__9xR0y",infoContainer:"messagesContact_infoContainer__Xkis8",message:"messagesContact_message__Env1a",time:"messagesContact_time__zYQ2a"},tR=function(e){var n=e.user,r=e.time,i=e.last,a=e.getCurrentMessage,o=e.index,s=e.currentIndex,u=e.handleSidebar,c=(0,t.useState)(),l=(0,ye.Z)(c,2),f=l[0],h=l[1],d=(0,t.useState)(""),p=(0,ye.Z)(d,2),v=p[0],m=p[1];(0,t.useEffect)((function(){UT.collection("users").doc(n).get().then((function(e){e.exists&&h(e.data())})),function(){var e=Date.now(),t=ZT(r,e);m(t)}()}),[]);return(0,BT.jsxs)("div",{onClick:function(e){e.preventDefault(),a(o),u()},className:o===s?eR.active:eR.container,children:[(0,BT.jsx)("div",{className:eR.avatarContainer,children:(0,BT.jsx)(nC,{src:null===f||void 0===f?void 0:f.profilePhoto,width:"65px",height:"65px",borderRadius:"100%"})}),(0,BT.jsxs)("div",{className:eR.contactInfo,children:[(0,BT.jsx)("p",{className:eR.name,children:null===f||void 0===f?void 0:f.displayName}),(0,BT.jsxs)("div",{className:eR.infoContainer,children:[(0,BT.jsx)("p",{className:eR.message,children:(null===i||void 0===i?void 0:i.message.length)>=15?(null===i||void 0===i?void 0:i.message.substring(0,15))+"...":null===i||void 0===i?void 0:i.message}),(0,BT.jsx)("p",{className:eR.time,children:v})]})]})]})},nR=function(e){var n=e.Styles,r=e.messages,i=e.getCurrentMessage,a=e.currentIndex,o=e.scrollToBottom,s=e.handleCreate,u=(0,t.useState)(!0),c=(0,ye.Z)(u,2),l=c[0],f=c[1],h=GT().userProfile,d=function(){f(!l),o()};return(0,BT.jsxs)("div",{className:l?n.sidebar:"".concat(n.sidebar," ").concat(n.hide),children:[(0,BT.jsxs)("div",{className:n.header,children:[(0,BT.jsx)("div",{className:l?n.userAvatarContainer:"".concat(n.userAvatarContainer," ").concat(n.remove),children:(0,BT.jsxs)(he,{to:"/profile/".concat(null===h||void 0===h?void 0:h.userID),children:[(0,BT.jsx)(nC,{src:null===h||void 0===h?void 0:h.profilePhoto,width:"65px",height:"65px",borderRadius:"100%",position:"absolute"}),(0,BT.jsx)("img",{className:n.userAvatarBlur,src:null===h||void 0===h?void 0:h.profilePhoto,alt:"avatar"})]})}),l?null:(0,BT.jsx)("div",{className:n.backArrowContainer,children:(0,BT.jsx)(Re,{onClick:d,className:n.backArrow})}),(0,BT.jsx)("p",{className:n.headerTitle,children:"Messages"}),(0,BT.jsx)("div",{onClick:s,className:n.createIconContainer,children:(0,BT.jsx)(De,{className:n.createIcon})})]}),(0,BT.jsx)("div",{className:l?n.contactsContainer:"".concat(n.contactsContainer," ").concat(n.hide),children:r.map((function(e,t){var n,r;return(0,BT.jsx)(tR,{time:e.time,index:t,user:e.user,last:(null===(n=e.messages)||void 0===n?void 0:n.length)>0?e.messages[(null===(r=e.messages)||void 0===r?void 0:r.length)-1]:null,getCurrentMessage:i,currentIndex:a,handleSidebar:d},e.time)}))})]})},rR=function(e){var n=e.match,r=(0,t.useState)([]),i=(0,ye.Z)(r,2),a=i[0],o=i[1],s=(0,t.useState)(),u=(0,ye.Z)(s,2),c=u[0],l=u[1],f=(0,t.useState)(),h=(0,ye.Z)(f,2),d=h[0],p=h[1],v=(0,t.useState)(),m=(0,ye.Z)(v,2),g=m[0],y=m[1],k=(0,t.useState)(!1),b=(0,ye.Z)(k,2),w=b[0],_=b[1],x=GT().userProfile,I=(0,t.useRef)(null),E=(0,t.useRef)(),S=function(e){var t,n;"smooth"===e?null===(t=I.current)||void 0===t||t.scrollIntoView({behavior:"smooth"}):null===(n=I.current)||void 0===n||n.scrollIntoView()},T=(0,t.useCallback)((function(){return UT.collection("users").doc(null===x||void 0===x?void 0:x.userID).collection("messages").orderBy("time","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),o(t),S("smooth")}))}),[x]);(0,t.useEffect)((function(){var e=T();return function(){e()}}),[]);var C=function(e){y(e),l(a[e]),S()};(0,t.useEffect)((function(){if(n&&a&&a.length>0)if(a.some((function(e){return e.user===n.params.uid}))){var e=a.findIndex((function(e){return e.user===n.params.uid}));C(e)}else o([{user:n.params.uid,time:Date.now(),messages:[]}].concat((0,Wt.Z)(a)))}),[a,n]),(0,t.useEffect)((function(){var e,t;n||(!c&&a&&x?(l(a[0]),y(0),C(0)):c&&l(a[g]),0===(null===(e=a[0])||void 0===e||null===(t=e.messages)||void 0===t?void 0:t.length)&&C(0))}),[a]),(0,t.useEffect)((function(){E.current=null===x||void 0===x?void 0:x.userID}),[x]);var N=function(e){e.preventDefault(),_(!w)};return(0,BT.jsxs)("div",{className:qA.messages,children:[w&&(0,BT.jsx)(zA,{messages:a,setMessages:o,setCurrentMessage:l,userProfile:x,handleCreate:N,setCurrentIndex:y,getCurrentMessage:C}),(0,BT.jsx)("div",{className:qA.navBg}),(0,BT.jsx)(nR,{Styles:qA,messages:a,currentIndex:g,getCurrentMessage:C,scrollToBottom:S,handleCreate:N}),(0,BT.jsxs)("div",{className:qA.main,children:[(0,BT.jsx)(XA,{currentMessage:c,currentProfile:d,setCurrentIndex:y,Styles:qA}),(0,BT.jsx)($A,{currentProfile:d,setCurrentProfile:p,currentMessage:c,Styles:qA,dummyRef:I})]})]})};var iR=function(){return(0,BT.jsx)(oe,{children:(0,BT.jsx)(QT,{children:(0,BT.jsxs)("div",{className:"App",children:[(0,BT.jsx)(CC,{}),(0,BT.jsx)(J,{exact:!0,path:"/",children:(0,BT.jsx)(uN,{})}),(0,BT.jsx)(J,{exact:!0,path:"/messages/:uid",component:rR}),(0,BT.jsx)(J,{exact:!0,path:"/messages",children:(0,BT.jsx)(rR,{})}),(0,BT.jsx)(J,{exact:!0,path:"/sign-up",children:(0,BT.jsx)(mA,{})}),(0,BT.jsx)(J,{exact:!0,path:"/profile/:uid",component:BN}),(0,BT.jsx)(J,{exact:!0,path:"/post/:uid/:postid",component:dA}),(0,BT.jsx)(J,{exact:!0,path:"/settings",children:(0,BT.jsx)(FA,{})})]})})})},aR=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.render((0,BT.jsx)(t.StrictMode,{children:(0,BT.jsx)(iR,{})}),document.getElementById("root")),aR()}()}();
//# sourceMappingURL=main.0c33a6b0.js.map